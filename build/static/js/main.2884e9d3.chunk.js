(this["webpackJsonpconductor-client"]=this["webpackJsonpconductor-client"]||[]).push([[0],{47:function(e,t,a){e.exports=a(88)},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n,r,o,c,l,i,s=a(0),u=a.n(s),d=a(17),p=a.n(d),m=a(21),v=a(19),b=a(44),g=a(10),f=a(5),h=a.n(f),O=a(11),y=a(6),j=a(7),E=a(1),C=a(22),k=a(25),w=a.n(k);!function(e){e.Boolean="bool",e.Int8="int8",e.Int16="int16",e.Int32="int32",e.Int64="int64",e.Uint8="uint8",e.Uint16="uint16",e.Uint32="uint32",e.Uint64="uint64",e.Float="float",e.Double="double",e.Vector="FVector",e.Vector2D="FVector2D",e.Vector4="FVector4",e.Rotator="FRotator",e.Color="FColor",e.LinearColor="FLinearColor",e.String="FString",e.Text="FText",e.Function="Function"}(n||(n={})),function(e){e.Good="GOOD",e.Normal="NORMAL",e.Bad="BAD"}(r||(r={})),function(e){e.Asset="Asset",e.Dial="Dial",e.Dials="Dials",e.Slider="Slider",e.Sliders="Sliders",e.ScaleSlider="Scale Slider",e.ColorPicker="Color Picker",e.MiniColorPicker="Mini Color Picker",e.ColorPickerList="Color Picker List",e.Toggle="Toggle",e.Joystick="Joystick",e.Button="Button",e.Text="Text",e.Label="Label",e.Dropdown="Dropdown",e.ImageSelector="Image Selector",e.Vector="Vector",e.Spacer="Spacer",e.Tabs="Tabs"}(o||(o={})),function(e){e.Panel="PANEL",e.List="LIST"}(c||(c={})),function(e){e.Stack="Stack",e.Screen="Screen",e.Empty="Empty"}(l||(l={})),function(e){e.Stack="Stack",e.Playlist="Playlist",e.Snapshot="Snapshot",e.Sequencer="Sequencer",e.ColorCorrection="ColorCorrection",e.LightCards="LightCards"}(i||(i={}));var N,S,P,x,D,T=a(4),I=a.n(T),M=function(){function e(){Object(y.a)(this,e),Object(E.a)(this,"functions",{})}return Object(j.a)(e,[{key:"emit",value:function(e){switch(e){case"client":this.respond("connected",{connected:!0,version:"1.0.0"});break;case"view":console.log("view");break;case"value":for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];console.log("value:"+a),this.respond("value",a);break;case"execute":console.log("execute");break;case"metadata":console.log("metadata");break;case"rebind":console.log("rebind");break;case"search":console.log("search");break;default:console.log("default")}S(U.STATUS(r.Good))}},{key:"on",value:function(e,t){return this.functions[e]=t,this}},{key:"respond",value:function(e){if(null!=this.functions[e]&&void 0!=this.functions[e]){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.functions[e](a)}else console.warn("The event "+e+" was not found.")}}]),e}(),R="https://hdbbagmsb5.execute-api.us-east-1.amazonaws.com/prod";function A(e,t){S=e,P=t,(x=new M).on("disconnect",(function(){e(U.STATUS({connected:!1,isOpen:!1,keyCorrect:!1,version:void 0})),clearInterval(D)})).on("presets",(function(t){return e(U.PRESETS(t))})).on("payloads",(function(t){e(U.PAYLOADS(t)),N&&t[N]&&e(U.PAYLOAD(t[N]))})).on("value",(function(t,a,n){e(U.PAYLOADS_VALUE(Object(E.a)({},t,Object(E.a)({},a,n)))),N===t&&e(U.PAYLOAD(Object(E.a)({},a,n)))})).on("values",(function(t,a){e(U.PAYLOADS_VALUE(Object(E.a)({},t,a))),N===t&&e(U.PAYLOAD(a))})).on("view",(function(t,a){N===t&&e(U.VIEW(a))})).on("connected",(function(t,a){D&&clearInterval(D),D=null,e(U.STATUS({connected:!0,isOpen:!0,keyCorrect:!0,version:"1.0.0"})),clearInterval(D),x.respond("opened",{isOpen:!0})})).on("opened",(function(t){e(U.STATUS({isOpen:t,loading:!1})),F.presets.get()})).on("loading",(function(t){e(U.STATUS({loading:t}))})).on("pong",(function(t,a){var n=r.Good,o=a-t;o>50?n=r.Bad:o>15&&(n=r.Normal),e(U.STATUS({signal:n}))})),x.emit("client")}function L(e,t,a,n,r){return V.apply(this,arguments)}function V(){return(V=Object(O.a)(h.a.mark((function e(t,a,n,r,o){var c,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:t,mode:"cors",redirect:"follow",headers:{}},n instanceof FormData||"string"===typeof n?c.body=n:"object"===typeof n&&(c.body=JSON.stringify(n),c.headers["Content-Type"]="application/json"),e.next=4,fetch(R+a,c);case 4:return l=e.sent,e.next=7,l.text();case 7:if((i=e.sent).length>0&&(i=JSON.parse(i)),401===l.status&&S(U.STATUS(i)),l.ok){e.next=12;break}throw i;case 12:return"function"===typeof r&&S(r(i)),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,a){return L("GET",e,void 0,t,a)}function _(e,t,a){return L("PUT",e,t,void 0,a)}var U={STATUS:Object(C.a)("API_STATUS"),PRESETS:Object(C.a)("API_PRESETS"),PRESET_SELECT:Object(C.a)("API_PRESET_SELECT"),VIEW:Object(C.a)("API_VIEW"),PAYLOAD:Object(C.a)("API_PAYLOAD"),PAYLOADS:Object(C.a)("API_PAYLOADS"),PAYLOADS_VALUE:Object(C.a)("API_PAYLOADS_VALUE"),LOCK_UI:Object(C.a)("LOCK_UI"),HISTORY_UPDATE:Object(C.a)("HISTORY_UPDATE")},F={initialize:function(){return A.bind(null)},ping:function(){return x.emit("client",(new Date).getTime())},lockUI:function(e){return S(U.LOCK_UI(e))},undoHistory:function(){var e=P().api,t=e.undo,a=e.redo,n=e.payload,r=t.shift();r&&(a.push({property:r.property,value:n[r.property],time:new Date}),S(U.HISTORY_UPDATE({undo:t,redo:a})),F.payload.set(r.property,r.value,!1))},redoHistory:function(){var e=P().api,t=e.undo,a=e.redo,n=e.payload,r=a.pop();r&&(t.unshift({property:r.property,value:n[r.property],time:new Date}),S(U.HISTORY_UPDATE({undo:t,redo:a})),F.payload.set(r.property,r.value,!1))},presets:{get:function(){return W("/api/presets",U.PRESETS)},load:function(e){return t=e,new Promise((function(e,a){setTimeout((function(){e(U.PRESETS[t])}),1)}));var t},favorite:function(e,t){return _("/api/presets/".concat(e,"/favorite"),{value:t})},select:function(e){F.presets.load(null===e||void 0===e?void 0:e.ID),S(U.PRESET_SELECT(null===e||void 0===e?void 0:e.ID)),S(U.HISTORY_UPDATE({undo:[],redo:[]}))}},views:{get:function(){var e=Object(O.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/api/presets/view?preset=".concat(t));case 2:return"object"===typeof(r=e.sent)&&(null===(a=r)||void 0===a||null===(n=a.tabs)||void 0===n?void 0:n.length)||(r={tabs:[{name:"Tab 1",layout:l.Empty}]}),S(U.VIEW(r)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(e){x.emit("view",N,e)}},passphrase:{login:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/api/passphrase",U.STATUS,t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return localStorage.setItem("passphrase",t),F.presets.get(),F.payload.all(),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},payload:{get:function(e){return t=e,U.PAYLOAD,new Promise((function(e,a){setTimeout((function(){e(U.PAYLOAD[t])}),1)}));var t},all:function(){return W("/api/payloads",U.PAYLOADS)},set:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=P().api,r=n.undo,o=n.redo,c=n.payloads;if(a){var l;r.length>50&&r.shift(),o.length>0&&(o=[]);var i=I.a.last(r),s=new Date;(null===i||void 0===i?void 0:i.property)===e&&s.valueOf()-(null===i||void 0===i||null===(l=i.time)||void 0===l?void 0:l.valueOf())<6e4?i.value=c[N][e]:r.unshift({property:e,value:c[N][e],time:s}),S(U.HISTORY_UPDATE({undo:r,redo:o}))}x.emit("value",N,e,t)},execute:function(e,t){x.emit("execute",N,e,null!==t&&void 0!==t?t:{})},metadata:function(e,t,a){x.emit("metadata",N,e,t,a)},rebind:function(e,t){x.emit("rebind",N,e,t)}},assets:{search:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return new Promise((function(o){return x.emit("search",e,t,a,n,r,o)}))},thumbnailUrl:function(e){return"".concat(R,"/api/thumbnail?asset=").concat(e)}},proxy:{get:function(e){return _("/api/proxy",{method:"GET",url:e})},put:function(e,t){return _("/api/proxy",{method:"PUT",url:e,body:t})},function:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={objectPath:e,functionName:t,parameters:a,generateTransaction:!0};return F.proxy.put("/remote/object/call",n).then((function(e){return null===e||void 0===e?void 0:e.ReturnValue}))},property:{get:function(e,t){var a={objectPath:e,propertyName:t,access:"READ_ACCESS"};return F.proxy.put("/remote/object/property",a)},set:function(e,t,a){var n={objectPath:e,propertyName:t,propertyValue:Object(E.a)({},t,a),access:"WRITE_ACCESS"};return F.proxy.put("/remote/object/property",n)}}}},B={presets:{},payload:{},payloads:{},view:{tabs:null},status:{connected:!1,signal:r.Good,keyCorrect:!1,isOpen:!1},lockedUI:!1,undo:[],redo:[]},H=Object(C.b)({},B);H.on(U.STATUS,(function(e,t){return w.a.merge(e,"status",t)})).on(U.PRESETS,(function(e,t){var a=I.a.keyBy(t,"ID"),n=(e=w.a.set(e,"presets",a)).preset;if(n&&!a[n]&&(n=void 0),!n){var r,o=new URLSearchParams(window.location.search);return(n=o.get("preset"))&&a[n]||(n=localStorage.getItem("preset")),n&&a[n]||(n=null===(r=t[0])||void 0===r?void 0:r.ID),n?(N=n,F.presets.load(n).then((function(){return Promise.all([F.views.get(n),F.payload.get(n)])})),Object(g.a)(Object(g.a)({},e),{},{preset:n,view:{tabs:[]},payload:{}})):(N=void 0,Object(g.a)(Object(g.a)({},e),{},{preset:void 0,view:{tabs:null},payload:{}}))}return e})).on(U.VIEW,(function(e,t){return w.a.merge(e,"view",t)})).on(U.PAYLOADS,(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{payloads:t})})).on(U.PAYLOADS_VALUE,(function(e,t){for(var a in t){var n=t[a];for(var r in n)e=w.a.set(e,["payloads",a,r],n[r])}return e})).on(U.PAYLOAD,(function(e,t){for(var a in t)e=w.a.set(e,["payload",a],t[a]);return e})).on(U.PRESET_SELECT,(function(e,t){return N=t,localStorage.setItem("preset",t),F.views.get(t),F.payload.get(t),Object(g.a)(Object(g.a)({},e),{},{preset:t,view:{tabs:[]},payload:{}})})).on(U.LOCK_UI,(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{lockedUI:t})})).on(U.HISTORY_UPDATE,(function(e,t){var a=t.undo,n=t.redo;return Object(g.a)(Object(g.a)({},e),{},{undo:a,redo:n})}));var G=H,K=Object(v.c)({api:G}),Y=a(15),X=a(18),z=a(13),q=a(2),J=a(9),Z=a(8);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ee,te,ae,ne=u.a.createElement("g",{id:"Layer_1-2"},u.a.createElement("path",{d:"M160.2,227.1c-3.6,2.7-12.1,7.4-27.7,5.5-19.5-2.3-34.9-23.6-42.6-33.2l-3.8,3.3v16.3c-.2,1.3,.7,2.5,2,2.7h0v1.2h-13.5v-1.2c.6-.2,1.2-.5,1.6-1,.3-.5,.5-1.1,.4-1.8v-43.5c0-1.2-1-2.2-2.3-2.2-.9,0-1.7,.5-2,1.3-.5,1.1-1,2.2-1.3,3.3l-11.7,35.4-3.3,9.6h-6.7l-3-9.1-8.9-27-12.1,36.1h-6.7L3.9,177.8c-.6-1.9-1.2-3.1-1.7-3.8s-1.3-1.2-2.2-1.4v-.8H15.3v1.2c-1.3,.3-2,1.1-2,2.2,0,.8,.2,1.7,.5,2.5l8.6,27.2,9.3-27.3c.4-1.2,.6-2,.6-2.3,0-1.2-.7-1.9-2.1-2.2v-1.3h15.8v1.2c-1.4,.5-2.2,1.3-2.2,2.4,.1,.8,.3,1.5,.5,2.3l8.8,27.3,8.5-26.8c.4-1.3,.7-2.3,.7-3,0-1.1-.8-1.8-2.3-2.2v-1.2h28.2v1.2c-.6,.1-1.2,.5-1.6,1-.3,.5-.5,1.1-.4,1.7v15.7l17.9-15c.8-.8,1.2-1.4,1.2-1.9,0-.7-.6-1.2-1.8-1.5v-1.2h31.2v1.2c-1.3,.2-2.2,1.4-2.1,2.7h0v25.6c0,3,.1,5.2,.4,6.6,.2,1.3,.8,2.5,1.5,3.5,2,2.6,5.5,3.8,10.4,3.8s8.4-1.3,10.4-3.8c.8-1,1.3-2.2,1.5-3.5,.3-1.4,.4-3.6,.4-6.6v-25.6c0-.6-.1-1.2-.4-1.8-.4-.5-1-.8-1.6-1v-1.1h12.8v1.2c-.6,.2-1.2,.5-1.6,1-.3,.5-.5,1.1-.5,1.8v28.8c0,5.4-.8,9.5-2.5,12.2-3,4.9-9.3,7.3-18.9,7.3-6.9,0-12.2-1.3-15.9-3.9-2.1-1.5-3.7-3.7-4.5-6.2-.8-2.6-1.2-5.7-1.2-9.3v-29c0-1-1.1-2-2.3-2-.8,.1-1.5,.3-2.1,.8-.3,.2-21.8,19.1-21.8,19.1,7,9,18.5,24.7,29.4,31.5,13.7,8.5,27.4,3.7,33.2,1.3l.9,.7Z"}),u.a.createElement("g",null,u.a.createElement("path",{d:"M23.4,155V48.7c0-3.1-3.9-2.6-3.9-2.6v-7.2h25.6V127.4c13.4-3.1,29.1-9.6,41.5-23.4,12.4,13.8,29,20.3,42.4,23.4V38.9h25.7v7.2s-4-.4-4,2.6v106.3H23.4Z"}),u.a.createElement("path",{d:"M108.1,29.2s-4.3,1.7-7.2-5.8c-2.9-7.5-9.4-8.7-9.4-8.7v-6.1c.9-.1,1.5-.9,1.5-1.7s-.7-1.5-1.5-1.5h-.1c-.1-1.7-1.5-3.1-3.2-3.2V0h-2.2V2.2c-3.2,.5-3.2,3.2-3.2,3.2-.8,0-1.5,.6-1.5,1.4v.1c0,.9,.6,1.6,1.5,1.7v6.1s-6.5,1.2-9.4,8.7c-2.9,7.5-7.2,5.8-7.2,5.8l-4.3,4.2,4.8,4.7h1.2v53.7c11.2-5.6,19.3-15.3,19.3-15.3,0,0,8.3,9.7,19.5,15.3V38.2h1.2l4.7-4.7-4.5-4.3Zm-21,35.1c-4.1,0-7.4-3.3-7.5-7.4,0-4.1,3.3-7.4,7.4-7.5,4.1,0,7.4,3.3,7.5,7.4v.1c-.1,4.1-3.4,7.4-7.4,7.4"})),u.a.createElement("path",{d:"M167.6,226.5h-1v-5.7c.6-.1,1.3-.2,2-.2,.9,0,1.4,.2,1.8,.4,.4,.3,.6,.7,.6,1.2,0,.7-.5,1.2-1.1,1.4v.1c.5,.2,.8,.7,1,1.4,.1,.9,.3,1.2,.4,1.4h-1.1c-.2-.2-.3-.7-.4-1.5-.1-.6-.5-.9-1.3-.9h-.7l-.2,2.4Zm0-3.2h.7c.8,0,1.5-.2,1.5-.9,0-.6-.3-.9-1.4-.9-.3,0-.5,0-.8,.1v1.7Z"}),u.a.createElement("path",{d:"M168.6,218.1c-3,0-5.5,2.4-5.5,5.5s2.4,5.5,5.5,5.5,5.5-2.4,5.5-5.5h0c0-3-2.4-5.5-5.5-5.5h0m0,10c-2.5,0-4.5-2-4.5-4.4s2-4.5,4.4-4.5,4.5,2,4.5,4.4h0c.1,2.5-1.9,4.4-4.4,4.5h0"})),re=function(e){var t=e.svgRef,a=e.title,n=Q(e,["svgRef","title"]);return u.a.createElement("svg",$({id:"Layer_2",width:174.1,height:233.04,viewBox:"0 0 174.1 233.04",ref:t},n),a?u.a.createElement("title",null,a):null,ne)},oe=u.a.forwardRef((function(e,t){return u.a.createElement(re,$({svgRef:t},e))})),ce=(a.p,function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"fullscreen"},u.a.createElement("div",{className:"app-icon"},u.a.createElement(oe,{className:"logo"})),u.a.createElement("div",null,"Connecting to Remote Control API..."))}}]),a}(u.a.Component)),le=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"onClick",(function(){var t,a;null===(t=(a=e.props).onExecute)||void 0===t||t.call(a)})),e}return Object(j.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"widget-button-wrapper"},u.a.createElement("button",{className:"widget-button",onClick:this.onClick},this.props.label||"Button"))}}]),a}(u.a.Component),ie=a(3),se=function(){function e(){Object(y.a)(this,e)}return Object(j.a)(e,null,[{key:"getPropertyLimits",value:function(e){switch(e){case n.Int8:return{min:-128,max:127};case n.Int16:return{min:-32768,max:32767};case n.Int32:return{min:-2147483648,max:2147483647};case n.Uint16:return{min:0,max:65535};case n.Uint32:return{min:0,max:4294967295};case n.Float:case n.Vector:case n.Vector2D:case n.Vector4:case n.LinearColor:return{min:-117549e33,max:3402823466e29};case n.Rotator:return{min:0,max:360};case n.Double:return{min:Number.MIN_VALUE,max:Number.MAX_VALUE};case n.Color:return{min:0,max:255}}return{}}},{key:"parseNumber",value:function(e){var t=parseFloat(e);if(!isNaN(t))return t}},{key:"getMinMax",value:function(t,a){var n,r,o=t.Exposed[a];return{min:e.parseNumber(null===o||void 0===o||null===(n=o.Metadata)||void 0===n?void 0:n.Min),max:e.parseNumber(null===o||void 0===o||null===(r=o.Metadata)||void 0===r?void 0:r.Max)}}},{key:"registerWidget",value:function(t,a,n){var r={type:t,render:n};e.customWidgets[t]=r;var o,c=Object(X.a)(a);try{for(c.s();!(o=c.n()).done;){var l=o.value;e.propertyWidgets[l]||(e.propertyWidgets[l]=[]),e.propertyWidgets[l].push(r)}}catch(i){c.e(i)}finally{c.f()}}},{key:"getPropertyPrecision",value:function(e){switch(e){case n.Float:case n.Double:case n.Vector:case n.Vector2D:case n.Vector4:case n.LinearColor:return 3;case n.Rotator:return 2}return 0}},{key:"getPropertyKeys",value:function(e){switch(e){case n.Rotator:return["Roll","Pitch","Yaw"];case n.Vector:return["X","Y","Z"];case n.Vector2D:return["X","Y"];case n.Vector4:return["X","Y","Z","W"];case n.Color:case n.LinearColor:return["R","G","B"]}return[]}},{key:"getCompatibleWidgets",value:function(e){switch(e){case n.Int16:case n.Int32:case n.Int64:case n.Uint16:case n.Uint32:case n.Uint64:case n.Float:case n.Double:return[o.Slider,o.Dial];case n.Boolean:case n.Uint8:return[o.Toggle];case n.Vector:case n.Vector2D:return[o.Vector,o.Joystick,o.Sliders,o.Dials];case n.Vector4:case n.LinearColor:case n.Color:return[o.ColorPicker,o.MiniColorPicker];case n.Rotator:return[o.Vector,o.Sliders,o.Dials];case n.String:return[o.Text]}return e&&(e.startsWith("TEnum")||e.startsWith("E"))?[o.Dropdown]:[o.Asset]}},{key:"colorToRgb",value:function(e,t){var a,n,r,o=e,c=e;t=t||1;var l={R:255*(null!==(a=null===c||void 0===c?void 0:c.X)&&void 0!==a?a:null===o||void 0===o?void 0:o.R)/t,G:255*(null!==(n=null===c||void 0===c?void 0:c.Y)&&void 0!==n?n:null===o||void 0===o?void 0:o.G)/t,B:255*(null!==(r=null===c||void 0===c?void 0:c.Z)&&void 0!==r?r:null===o||void 0===o?void 0:o.B)/t};return(null===o||void 0===o?void 0:o.A)&&(l.A=o.A),l}},{key:"rgb2Hsv",value:function(e){var t,a,n,r,o=null!==(t=(null===e||void 0===e?void 0:e.R)/255)&&void 0!==t?t:1,c=null!==(a=(null===e||void 0===e?void 0:e.G)/255)&&void 0!==a?a:1,l=null!==(n=(null===e||void 0===e?void 0:e.B)/255)&&void 0!==n?n:1,i=Math.min(o,c,l),s=Math.max(o,c,l),u=0,d=s,p=s-i;if(r=0===s?0:p/s,s!==i){switch(s){case o:u=(c-l)/p+(c<l?6:0);break;case c:u=(l-o)/p+2;break;case l:u=(o-c)/p+4}u/=6}var m={h:u,s:r,v:d};return(null===e||void 0===e?void 0:e.A)&&(m.a=e.A),m}},{key:"hsv2rgb",value:function(e){var t,a,n,r=e.h,o=e.s,c=e.v,l=e.a,i=Math.floor(6*r),s=6*r-i,u=c*(1-o),d=c*(1-s*o),p=c*(1-(1-s)*o);i%6===0&&(t=c,a=p,n=u),i%6===1&&(t=d,a=c,n=u),i%6===2&&(t=u,a=c,n=p),i%6===3&&(t=u,a=d,n=c),i%6===4&&(t=p,a=u,n=c),i%6===5&&(t=c,a=u,n=d);var m={R:255*t,G:255*a,B:255*n};return l&&(m.A=l),m}}]),e}();Object(E.a)(se,"propertyWidgets",{}),Object(E.a)(se,"customWidgets",{}),Object(E.a)(se,"rgbToColor",(function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.R/255*t,r=e.G/255*t,o=e.B/255*t;if(a)return{X:n,Y:r,Z:o};var c={R:n,G:r,B:o};return e.A&&(c.A=e.A),c})),function(e){e.R="R",e.G="G",e.B="B"}(ee||(ee={})),function(e){e.Circle="CIRCLE",e.Wheel="WHEEL",e.Value="VALUE",e.Saturation="SATURATION",e.Alpha="ALPHA",e.Inputs="INPUTS"}(te||(te={})),function(e){e.Rgb="RGB",e.Hsv="HSV"}(ae||(ae={}));var ue=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(E.a)(Object(q.a)(e),"state",{color:null,v:1,max:1}),Object(E.a)(Object(q.a)(e),"circleRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"rectangleRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"color",null),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"updateValues",(function(){var t=e.props,a=t.type,r=t.alpha,o=e.state,c=o.max,l=o.v,i=e.getValue(),s=null===i||void 0===i?void 0:i.A;null===i||void 0===i||delete i.A,r&&(i.A=null!==s&&void 0!==s?s:1);var u=i;if(a===n.Vector4||a===n.LinearColor){var d;for(var p in c=null!==(d=e.props.max)&&void 0!==d?d:1,i)i[p]>c&&(c=i[p]);u=se.colorToRgb(i,c)}l=se.rgb2Hsv(u).v||.001,e.setState({color:i,max:c,v:l})})),Object(E.a)(Object(q.a)(e),"normalize",(function(e){for(;e<0;)e+=360;for(;e>360;)e-=360;return e})),Object(E.a)(Object(q.a)(e),"getValue",(function(){var t=e.props,a=t.value,r=t.type;if(a)return a;switch(r){case n.Vector4:return{X:1,Y:1,Z:1};case n.Color:case n.LinearColor:return{R:1,G:1,B:1}}})),Object(E.a)(Object(q.a)(e),"onSetColor",(function(t){var a,n;null===(a=(n=e.props).onChange)||void 0===a||a.call(n,t)})),Object(E.a)(Object(q.a)(e),"onPointerRgbDown",(function(t){e.monitoring=!0,e.circleRef.current.setPointerCapture(t.pointerId),e.onPointerRgbMove(t)})),Object(E.a)(Object(q.a)(e),"onPointerHsvDown",(function(t){e.monitoring=!0,e.rectangleRef.current.setPointerCapture(t.pointerId),e.onPointerHsvMove(t)})),Object(E.a)(Object(q.a)(e),"onPointerRgbMove",(function(t){if(e.monitoring){var a=e.props,r=a.type,o=a.alpha,c=e.state,l=c.v,i=c.max,s=e.circleRef.current.getBoundingClientRect(),u=(s.right-s.left)/2+s.left,d=(s.bottom-s.top)/2+s.top,p=t.clientX-u,m=t.clientY-d,v=Math.sqrt(p*p+m*m),b=e.circleRef.current.clientHeight/2,g=Math.atan2(p,m),f=e.normalize(-1*g*(180/Math.PI)-270)/360,h=Math.min(v/b,1);h<.02&&(h=0);var O={h:f,s:h,v:l},y=se.hsv2rgb(O);if(o){var j=e.state.color;y.A=j.A}var E=null;switch(r){case n.Vector4:E=se.rgbToColor(y,i);break;case n.LinearColor:E=se.rgbToColor(y,i,!1);break;case n.Color:E=y}e.setState({color:E}),e.onSetColor(E)}})),Object(E.a)(Object(q.a)(e),"onPointerHsvMove",(function(t){if(e.monitoring){var a=e.state,r=a.color,o=a.max,c=e.props.type,l=e.rectangleRef.current.getBoundingClientRect(),i=Math.max(0,Math.min(l.width,t.clientX-l.left)),s=Math.max(0,Math.min(l.height,t.clientY-l.top)),u=i/l.width,d=Math.max(.01,(l.height-s)/l.height),p=r;c!==n.LinearColor&&c!==n.Vector4||(p=se.colorToRgb(r,o));var m=se.rgb2Hsv(p);switch(m.s=Math.max(u,1e-4),m.v=d,p=se.hsv2rgb(m),c){case n.Vector4:r=se.rgbToColor(p,o);break;case n.LinearColor:r=se.rgbToColor(p,o,!1);break;case n.Color:r=p}e.setState({color:r}),e.onSetColor(r)}})),Object(E.a)(Object(q.a)(e),"onPointerHsvUp",(function(t){e.monitoring&&(e.rectangleRef.current.releasePointerCapture(t.pointerId),e.monitoring=!1)})),Object(E.a)(Object(q.a)(e),"onPointerRgbUp",(function(t){e.monitoring&&(e.circleRef.current.releasePointerCapture(t.pointerId),e.monitoring=!1)})),Object(E.a)(Object(q.a)(e),"onValueInputChange",(function(t,a){var n,r,o=e.state.color;o&&(o[t]=a,null===(n=(r=e.props).onChange)||void 0===n||n.call(r,o))})),Object(E.a)(Object(q.a)(e),"onValueSliderChange",(function(t,a){var r=e.state,o=r.color,c=r.v,l=r.max,i=e.props.type,s=o;"v"===t&&(c=a),"a"===t&&i===n.Color&&(a*=255),i!==n.LinearColor&&i!==n.Vector4||(s=se.colorToRgb(o,l));var u=se.rgb2Hsv(s);switch(a=Math.max(a,1e-5),u[t]=a,o=s=se.hsv2rgb(u),i){case n.Vector4:o=se.rgbToColor(o,l);break;case n.LinearColor:o=se.rgbToColor(o,l,!1)}e.setState({color:o,v:c}),e.onSetColor(o)})),Object(E.a)(Object(q.a)(e),"onHsvWheelMove",(function(t){var a=e.state,r=a.color,o=a.max,c=e.props.type,l=.001*t,i=r;c!==n.LinearColor&&c!==n.Vector4||(i=se.colorToRgb(r,o));var s=se.rgb2Hsv(i);switch(s.h+l<0&&(l+=1),s.h=s.h+l,r=i=se.hsv2rgb(s),c){case n.Vector4:r=se.rgbToColor(r,o);break;case n.LinearColor:r=se.rgbToColor(r,o,!1)}e.setState({color:r}),e.onSetColor(r)})),Object(E.a)(Object(q.a)(e),"getPreviewColorStyles",(function(){var t,a,r,o,c,l,i=e.state,s=i.color,u=i.max,d=e.props.type,p=Object(g.a)({},s);return d!==n.LinearColor&&d!==n.Vector4||(p=se.colorToRgb(s,u)),(null===(t=p)||void 0===t?void 0:t.A)&&d===n.Color&&(p.A/=255),{background:"rgba(".concat(null===(a=p)||void 0===a?void 0:a.R,", ").concat(null===(r=p)||void 0===r?void 0:r.G,", ").concat(null===(o=p)||void 0===o?void 0:o.B,", ").concat(null!==(c=null===(l=p)||void 0===l?void 0:l.A)&&void 0!==c?c:1,")")}})),Object(E.a)(Object(q.a)(e),"getPointerPosition",(function(){var t,a,r=e.state,o=r.color,c=r.max,l=e.props,i=l.type,s=l.mode,u=null;switch(i){case n.LinearColor:case n.Vector4:u=se.colorToRgb(o,c);break;case n.Color:u=o}var d=se.rgb2Hsv(u),p=(d.h-.25)*Math.PI*2;if(s===ae.Rgb){var m,v=(null===(m=e.circleRef.current)||void 0===m?void 0:m.clientHeight)/2;return{circleX:Math.sin(p)*Math.max(0,Math.min(d.s,1))*(v-10)*-1,circleY:-Math.cos(p)*Math.max(0,Math.min(d.s,1))*(v-10)*-1}}var b=e.rectangleRef.current,g=null!==(t=null===b||void 0===b?void 0:b.clientWidth)&&void 0!==t?t:0,f=null!==(a=null===b||void 0===b?void 0:b.clientHeight)&&void 0!==a?a:0;return{rectangleX:Math.max(0,Math.min(d.s,1))*(g-19),rectangleY:Math.max(0,(1-Math.max(0,d.v))*(f-19))}})),Object(E.a)(Object(q.a)(e),"getVisibleParts",(function(){var t=e.props,a=t.parts,n=t.widget,r={};return a.map((function(e){return r[e]=!0})),n===o.MiniColorPicker&&(r[te.Circle]=!1,r[te.Saturation]=!1,r[te.Value]=!1),r})),Object(E.a)(Object(q.a)(e),"renderRgbInput",(function(t){var a,r,o=e.state.color,c=3,l=t;switch(e.props.type){case n.Color:c=0,a=0,r=255;break;case n.Vector:case n.Vector4:switch(t){case ee.R:l="X";break;case ee.G:l="Y";break;case ee.B:l="Z"}}var i="input ",s=0;switch(o&&(s=o[l]),t){case ee.R:i+="red ";break;case ee.G:i+="green ";break;case ee.B:i+="blue "}return u.a.createElement("div",{className:i},u.a.createElement(ye,{draggable:!1,min:a,max:r,precision:c,value:s,onChange:e.onValueInputChange.bind(Object(q.a)(e),l)}))})),Object(E.a)(Object(q.a)(e),"rendeCircleRectangle",(function(){var t,a,r,o=e.props,c=o.mode,l=o.type,i=e.state,s=i.color,d=i.max,p=e.getPointerPosition(),m={transform:"translate(".concat(p.circleX,"px, ").concat(p.circleY,"px)")};if(c===ae.Rgb)return u.a.createElement("div",{className:"circle"},u.a.createElement("div",{className:"circle-gradient"},u.a.createElement("div",{className:"canvas-area",ref:e.circleRef,onPointerMove:e.onPointerRgbMove,onPointerDown:e.onPointerRgbDown,onPointerUp:e.onPointerRgbUp},u.a.createElement("div",{className:"canvas-area-pointer",style:m}))));var v=Object(g.a)({},s);l!==n.LinearColor&&l!==n.Vector4||(v=se.colorToRgb(s,d));var b=se.rgb2Hsv(v);(null===(t=v=se.hsv2rgb({h:b.h,s:1,v:1,a:null===b||void 0===b?void 0:b.a}))||void 0===t?void 0:t.A)&&l===n.Color&&(v.A/=255);var f={backgroundColor:"rgba(".concat(v.R,", ").concat(v.G,", ").concat(v.B,", ").concat(null!==(a=null===(r=v)||void 0===r?void 0:r.A)&&void 0!==a?a:1,")")},h={transform:"translate(".concat(p.rectangleX,"px, ").concat(p.rectangleY,"px)")};return u.a.createElement("div",{className:"rectangle",ref:e.rectangleRef,style:f,onPointerMove:e.onPointerHsvMove,onPointerDown:e.onPointerHsvDown,onPointerUp:e.onPointerHsvUp},u.a.createElement("div",{className:"rectangle-area-pointer",style:h}))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.updateValues()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.value,n=t.type,r=t.max;e.value===a&&n===e.type||this.updateValues(),e.max!==r&&this.setState({max:r}),this.props.mode!==e.mode&&this.forceUpdate()}},{key:"render",value:function(){var e,t,a=this,r=this.props,c=r.label,l=r.type,i=r.widget,s=r.value,d=r.alpha,p=r.reset,m=this.state,v=m.color,b=m.max,g=this.getVisibleParts(),f=v;l!==n.LinearColor&&l!==n.Vector4||(f=se.colorToRgb(v,b));var h=se.rgb2Hsv(f),O=null!==(e=null===h||void 0===h?void 0:h.a)&&void 0!==e?e:0;return l===n.Color&&(O/=255),u.a.createElement("div",{className:"color-picker-container"},!!(null===(t=this.props)||void 0===t?void 0:t.onPrecisionModal)&&u.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:this.props.onPrecisionModal}),u.a.createElement("div",{className:"color-picker-wheel"},u.a.createElement("div",null,c),!!g[te.Circle]&&this.rendeCircleRectangle(),u.a.createElement("div",{className:"color-picker-controls"},!!g[te.Wheel]&&u.a.createElement("div",{className:"slider-wheel-container"},i===o.ColorPicker&&u.a.createElement("div",{className:"slider-wheel-top"},u.a.createElement("span",{className:"title"},"Hue"),u.a.createElement("span",{className:"value"},(360*h.h).toFixed(1),"\xb0")),u.a.createElement(Me,{onWheelMove:this.onHsvWheelMove})),!!g[te.Saturation]&&u.a.createElement(pe,{value:h.s,label:"Saturation",onChange:this.onValueSliderChange.bind(this,"s")}),!!g[te.Value]&&u.a.createElement(pe,{value:h.v,label:"Value",onChange:this.onValueSliderChange.bind(this,"v")}),!!d&&!!g[te.Alpha]&&u.a.createElement(pe,{value:O,label:"Alpha",onChange:this.onValueSliderChange.bind(this,"a")}),u.a.createElement("div",{className:"color-picker-inputs"},!!g[te.Inputs]&&u.a.createElement("div",{className:"rgb-inputs"},this.renderRgbInput(ee.R),this.renderRgbInput(ee.G),this.renderRgbInput(ee.B)),i===o.ColorPicker&&!!s&&u.a.createElement("div",{className:"color",style:this.getPreviewColorStyles()})))),p&&u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var e,t;return null===(e=(t=a.props).onChange)||void 0===e?void 0:e.call(t)}}))}}]),a}(u.a.Component);Object(E.a)(ue,"defaultProps",{parts:[te.Circle,te.Wheel,te.Saturation,te.Value,te.Alpha,te.Inputs],widget:o.ColorPicker,mode:ae.Rgb,reset:!0});var de,pe=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{x:null}),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"dragValue",null),Object(E.a)(Object(q.a)(e),"dragOffset",null),Object(E.a)(Object(q.a)(e),"ref",u.a.createRef()),Object(E.a)(Object(q.a)(e),"pointer",u.a.createRef()),Object(E.a)(Object(q.a)(e),"updateValues",(function(){var t=e.props.value,a=Math.min(196,Math.max(0,196*t));e.setState({x:a})})),Object(E.a)(Object(q.a)(e),"onPointerDown",(function(t){if(e.ref.current){var a=e.pointer.current.getBoundingClientRect();e.dragOffset=0,e.dragValue=e.props.value,a.left<=t.clientX&&t.clientX<=a.right&&(e.dragOffset=t.clientX-(a.left+a.width/2)),e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId),e.onPointerMove(t)}})),Object(E.a)(Object(q.a)(e),"onPointerMove",(function(t){if(e.monitoring){var a=e.ref.current.getBoundingClientRect(),n=t.clientX-e.dragOffset,r=Math.max(0,Math.min((n-a.left)/a.width,1));Math.abs(e.dragValue-r)>.001&&(e.dragValue=r,e.setState({x:Math.max(0,n-a.left-4)}),e.props.onChange(r))}})),Object(E.a)(Object(q.a)(e),"onPointerLostCapture",(function(t){e.monitoring&&(e.dragOffset=0,e.dragValue=null,e.monitoring=!1,e.ref.current.releasePointerCapture(t.pointerId))})),Object(E.a)(Object(q.a)(e),"getPercentage",(function(){var t=e.state.x;return Math.max(0,Math.round(100*t/196))})),e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.value;isNaN(a)||e.value===a||this.updateValues()}},{key:"render",value:function(){var e=this.props.label,t=this.state.x;return u.a.createElement("div",{className:"color-picker-slider",ref:this.ref,style:{width:200},onPointerMove:this.onPointerMove,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerLostCapture},u.a.createElement("div",{className:"color-picker-slider-label"},e),u.a.createElement("div",{className:"color-picker-slider-pointer",style:{transform:"translateX(".concat(t,"px)")},ref:this.pointer}),u.a.createElement("div",{className:"color-picker-slider-bgc"}),u.a.createElement("div",{className:"color-picker-slider-value"},this.getPercentage(),"%"))}}]),a}(u.a.Component),me=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(E.a)(Object(q.a)(e),"state",{selected:null}),Object(E.a)(Object(q.a)(e),"onItemSelect",(function(t,a,n){var r=e.props.path;n.preventDefault(),e.setState({selected:t}),e.props.onSelect("".concat(r,"_").concat(a,"_").concat(t.property))})),Object(E.a)(Object(q.a)(e),"getMaxColorValue",(function(e,t){var a=1;if(e===n.Vector4||e===n.LinearColor)for(var r in a=0,t)t[r]>a&&(a=t[r]);return a})),Object(E.a)(Object(q.a)(e),"getPreviewColorStyles",(function(e,t,a){var r,o,c,l=e;return t!==n.LinearColor&&t!==n.Vector4||(l=se.colorToRgb(e,a)),{background:"rgb(".concat(null===(r=l)||void 0===r?void 0:r.R,", ").concat(null===(o=l)||void 0===o?void 0:o.G,", ").concat(null===(c=l)||void 0===c?void 0:c.B,")")}})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.list,t=I.a.first(e.items);this.setState({selected:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dragging,n=t.selection,r=t.list,o=this.state.selected;if(a!==e.dragging&&a){var c=a.split("_"),l=Object(z.a)(c,2)[1];r.id===l&&this.setState({selected:null})}if(r!==e.list){if(!n){var i,s=null!==(i=I.a.find(r.items,["id",o.id]))&&void 0!==i?i:I.a.first(r.items);return this.setState({selected:s})}var u=n.split("_"),d=Object(z.a)(u,2),p=d[0],m=d[1];p===this.props.path&&this.setState({selected:r.items[m]})}}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.list,r=a.selection,o=a.path,c=a.isDragDisabled,l=this.state.selected,i=this.props.getPropertyValue(null===l||void 0===l?void 0:l.property);return u.a.createElement("div",{className:"color-pickers-list-container"},u.a.createElement("ul",{className:"colors-list"},null===n||void 0===n||null===(e=n.items)||void 0===e?void 0:e.map((function(e,a){var i="".concat(e.id,"_").concat(n.id,"_").concat(e.widget),s=t.props.getPropertyValue(null===e||void 0===e?void 0:e.property),d=t.getMaxColorValue(e.propertyType,s),p="list-item ";return(null===l||void 0===l?void 0:l.id)===e.id&&(p+="selected "),u.a.createElement("li",{className:p,key:a},u.a.createElement(at,{draggableId:i,key:e.id,selected:r==="".concat(o,"_").concat(a,"_").concat(e.property),index:a,onSelect:t.onItemSelect.bind(t,e,a),isDragDisabled:c},u.a.createElement("div",null,!!t.props.onPrecisionModal&&u.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:function(){return t.props.onPrecisionModal(e)}}),t.props.getPropertyLabel(e)),u.a.createElement("div",{className:"color-preview",style:t.getPreviewColorStyles(s,e.propertyType,d)})))}))),u.a.createElement(ue,{value:i,type:null===l||void 0===l?void 0:l.propertyType,widget:null===l||void 0===l?void 0:l.widget,alpha:this.props.getAlpha(null===l||void 0===l?void 0:l.property),onChange:this.props.onChange.bind(this,l),onPrecisionModal:function(){return t.props.onPrecisionModal(l)}}))}}]),a}(u.a.Component);!function(e){e.Range="RANGE",e.Endless="ENDLESS",e.Rotation="ROTATION"}(de||(de={}));var ve=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"ref",u.a.createRef()),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"beautify",new Intl.NumberFormat),Object(E.a)(Object(q.a)(e),"svgCircleDegreeLength",477.5),Object(E.a)(Object(q.a)(e),"onDown",(function(t){e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId),e.onMove(t)})),Object(E.a)(Object(q.a)(e),"onUp",(function(t){e.monitoring=!1,e.ref.current.releasePointerCapture(t.pointerId)})),Object(E.a)(Object(q.a)(e),"onMove",(function(t){var a,n;if(e.monitoring){var r=e.ref.current.getBoundingClientRect(),o=(r.right-r.left)/2+r.left,c=(r.bottom-r.top)/2+r.top,l=-1*Math.atan2(t.clientX-o,t.clientY-c)*(180/Math.PI);e.props.mode!==de.Range&&(l+=180);var i=e.props,s=i.min,u=i.max,d=i.mode;l=e.normalize(l);var p=e.getValueFromAngle(l);d===de.Rotation?p=e.normalize(p,-180,180):(void 0!==s&&(p=Math.max(s,p)),void 0!==u&&(p=Math.min(p,u))),null===(a=(n=e.props).onChange)||void 0===a||a.call(n,p)}})),Object(E.a)(Object(q.a)(e),"onValueInputChange",(function(t){return e.props.mode===de.Rotation&&(t=e.normalize(t,-180,180)),e.props.onChange(t)})),Object(E.a)(Object(q.a)(e),"renderSmallLines",(function(t,a,n,r){for(var o=e.props,c=o.shortLines,l=o.mode,i=l===de.Range?180:0,s=l!==de.Range,d=1;d<=c;d++){var p=e.normalize(r+n/(c+1)*d-180),m=a>=e.normalize(p+i)||s,v="dial-tick short ".concat(m&&"active");t.push(u.a.createElement("div",{key:p,className:v,style:{transform:"rotate(".concat(p,"deg)")}}))}})),Object(E.a)(Object(q.a)(e),"renderLines",(function(t){var a=e.props,n=a.startAngle,r=a.endAngle,o=a.largeLines,c=0,l=a.mode!==de.Range;l&&(n=0,r=360,c=180),t=e.normalize(t-c);var i=(r-n)/(o-1);if(o<1)return null;for(var s=[],d=0;d<o;d++){var p=e.normalize(d*i+n),m="dial-tick large ".concat((t>=p||l)&&"active");s.push(u.a.createElement("div",{key:p,className:m,style:{transform:"rotate(".concat(p-180-c,"deg)")}})),d+1<o&&e.renderSmallLines(s,t,i,p)}return s})),Object(E.a)(Object(q.a)(e),"normalize",(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:360,n=a-t;e<t;)e+=n;for(;e>a;)e-=n;return e})),Object(E.a)(Object(q.a)(e),"getValue",(function(){var t=e.props,a=t.min,n=t.max,r=e.props.value,o=void 0===r?0:r;return isNaN(a)||(o=Math.max(a,o)),isNaN(n)||(o=Math.min(n,o)),o})),Object(E.a)(Object(q.a)(e),"getValueFromAngle",(function(t){var a=e.props,n=a.min,r=a.startAngle,o=a.endAngle,c=a.mode,l=e.getRange();switch(c){case de.Range:return n+((t=Math.max(r,Math.min(t,o)))-r)/(o-r)*l;case de.Endless:case de.Rotation:var i=e.getValue(),s=e.normalize(e.getAngle(i)-180),u=e.normalize(t-s);return i+=(u>180?u-360:u)*(l>=360?1:l/1080),c===de.Rotation&&(i=e.normalize(i)),i}})),Object(E.a)(Object(q.a)(e),"getRange",(function(){var t=e.props,a=t.min,n=t.max;return void 0===a||void 0===n?1e3:Math.max(n-a,.01)})),Object(E.a)(Object(q.a)(e),"getAngle",(function(t){var a=e.props,n=a.mode,r=a.min,o=void 0===r?0:r,c=a.startAngle,l=a.endAngle,i=e.getRange(),s=0;switch(n){case de.Range:s=c+(t-o)/i*(l-c);break;case de.Endless:case de.Rotation:s=180+t/(i>=360?1:i/1080)%360}return e.normalize(s)})),Object(E.a)(Object(q.a)(e),"getText",(function(t){if(isNaN(t))return"";var a=e.props,n=a.min,r=a.max,o=a.display,c=Math.max(.1,r-n),l=Math.max(0,4-c.toFixed().length);return"PERCENT"===o?(100*((t-n)/c)).toFixed(2):e.beautify.format(+(null===t||void 0===t?void 0:t.toFixed(l)))})),Object(E.a)(Object(q.a)(e),"getCirclePaintOver",(function(t){var a=e.props,n=a.startAngle,r=function(t){var a=t/3.6;return e.svgCircleDegreeLength/100*a};switch(a.mode){case de.Endless:case de.Rotation:var o=t<180?t+180:t-180;return e.svgCircleDegreeLength-r(o);case de.Range:return e.svgCircleDegreeLength+r(n)-r(t)}})),Object(E.a)(Object(q.a)(e),"getPaintOverRotate",(function(){var t=e.props,a=t.startAngle;return t.mode===de.Range?90+a:-90})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=void 0===a?0:a,r=t.size,o=t.min,c=t.max,l=t.label,i=t.mode,s=this.getAngle(n),d={width:r,height:r},p=i===de.Range?{position:"absolute",top:"82%"}:{};return u.a.createElement("div",{className:"dial-widget-wrapper"},!this.props.hidePrecision&&u.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:this.props.onPrecisionModal}),l&&u.a.createElement("div",{className:"dial-label"},l),u.a.createElement("div",{className:"dial-border-first"},u.a.createElement("div",{className:"dial-border-second"},u.a.createElement("div",{className:"dial-wrapper",ref:this.ref,style:isNaN(r)?{}:d,onLostPointerCapture:this.onUp,onPointerDown:this.onDown,onPointerUp:this.onUp,onPointerMove:this.onMove,tabIndex:-1},u.a.createElement("div",{className:"dial-circle"},u.a.createElement(be,{angle:s,size:r,mode:i,rotate:this.getPaintOverRotate(),circlePaintOver:this.getCirclePaintOver(s),svgCircleDegreeLength:this.svgCircleDegreeLength}),u.a.createElement("div",{className:"dial-ticks"},this.renderLines(s)),u.a.createElement("div",{className:"dial-center-wrapper"},u.a.createElement("div",{className:"dial-center"},l&&u.a.createElement("div",{className:"dial-label"},l),u.a.createElement("div",{className:"dial-value",style:p,onPointerDown:function(e){return e.stopPropagation()}},u.a.createElement(ye,{min:o,max:c,value:n,onChange:this.onValueInputChange})))),u.a.createElement("div",{className:"dial-line",style:{transform:"rotate(".concat(s,"deg)")}}))))),!this.props.hideReset&&u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}}))}}]),a}(u.a.Component);Object(E.a)(ve,"defaultProps",{startAngle:50,endAngle:310,largeLines:11,shortLines:5,display:"VALUE",mode:de.Range,size:202});var be=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.angle,a=e.size,n=e.rotate,r=e.circlePaintOver,o=e.svgCircleDegreeLength,c=e.mode,l=a/2-1,i=0,s=r;c!==de.Range&&(i=(t<180?t+180:t-180)-90,s=o/4*3);var d="svg-circle";return c===de.Range&&(d+=" range"),u.a.createElement("div",{className:"svg-circle"},u.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"shape-gradient",x1:"0",x2:"0",y1:"1",y2:"0"},u.a.createElement("stop",{offset:"0%",stopColor:"rgba(0,103,180,1)"}),u.a.createElement("stop",{offset:"50%",stopColor:"rgba(0,103,180,0)"}))),u.a.createElement("circle",{transform:"rotate(".concat(n+i,", ").concat(l,", ").concat(l,")"),cx:l,cy:l,r:"76",fill:"transparent",strokeWidth:"45",strokeDasharray:o,strokeDashoffset:s,className:d})))}}]),a}(u.a.Component),ge=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"getProperties",(function(){var t=e.props,a=t.type,n=t.properties,r=se.getPropertyKeys(a);return(null===n||void 0===n?void 0:n.length)&&(r=r.filter((function(e){return n.includes(e)}))),r})),Object(E.a)(Object(q.a)(e),"onChange",(function(t,a){var n,r,o=e.props,c=o.value,l=o.proportionally,i=o.min,s=o.max;void 0===c&&(c=e.getProperties().length?{}:0);var u=c[a];0!==u&&void 0!==u||(u=1);var d=Math.max(.001,t)/u;if(l&&!isNaN(d))for(var p=0,m=Object.keys(c);p<m.length;p++){var v=m[p],b=c[v]*d;isNaN(i)||isNaN(s)||(b=Math.min(s,Math.max(i,b))),c[v]=b}else a?c[a]=t:c=t;null===(n=(r=e.props).onChange)||void 0===n||n.call(r,c)})),Object(E.a)(Object(q.a)(e),"renderProportionallyIcon",(function(){var t=e.props,a=t.proportionally,n=t.property;return void 0===a?null:u.a.createElement(ie.a,{icon:["fas",a?"lock":"lock-open"],className:"proportional icon",onClick:function(){return e.props.onProportionallyToggle(n,a?"0":"1")}})})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.min,n=t.max,r=t.mode,o=t.value,c=t.display,l=t.hidePrecision,i=t.label,s=this.props.size,d=this.getProperties(),p=203;s&&(p=Math.min(s/d.length,s-70)-10);var m={mode:r,min:a,max:n,display:c,size:p,startAngle:void 0,endAngle:void 0,hideReset:!0,hidePrecision:l};return u.a.createElement("div",{className:"dial-wrapper-container"},i,this.renderProportionallyIcon(),u.a.createElement("div",{className:"dial-wrapper-block"},!!d.length&&d.map((function(t){var a;return u.a.createElement(ve,Object.assign({},m,{key:t,label:t,value:null!==(a=null===o||void 0===o?void 0:o[t])&&void 0!==a?a:0,onChange:function(a){return e.onChange(a,t)}}))})),!d.length&&u.a.createElement(ve,Object.assign({},m,{value:"number"===typeof o?o:0,onChange:this.onChange}))))}}]),a}(u.a.Component),fe=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{x:0,y:0}),Object(E.a)(Object(q.a)(e),"ref",u.a.createRef()),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"step",{}),Object(E.a)(Object(q.a)(e),"value",null),Object(E.a)(Object(q.a)(e),"interval",null),Object(E.a)(Object(q.a)(e),"onPointerDown",(function(t){var a=e.props,n=a.interval,r=a.value;e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId),e.value=r,e.onPointerMove(t),e.makeMove(),e.interval=setInterval(e.makeMove,n)})),Object(E.a)(Object(q.a)(e),"onPointerMove",(function(t){if(e.monitoring){var a=e.props,n=a.label,r=a.step,o=e.ref.current.getBoundingClientRect(),c=(o.right-o.left)/2+o.left,l=(o.bottom-o.top)/2+o.top,i=t.clientX-c,s=t.clientY-l,u=Math.sqrt(i*i+s*s),d=e.ref.current.clientHeight/2,p=Math.atan2(i,s),m=e.normalize(-1*p*(180/Math.PI)-90)/360,v=Math.min(u/d,.88),b=(m-.25)*Math.PI*2;i=Math.sin(b)*v*90,s=Math.cos(b)*v*90;var g={};switch(n){case"X":i=0,g.X=s*r/d;break;case"Y":s=0,g.Y=i*r/d;break;case"Z":i=0,g.Z=s*r/d;break;case"XY":g.X=s*r/d,g.Y=i*r/d}e.step=g,e.setState({x:i,y:s})}})),Object(E.a)(Object(q.a)(e),"onPointerLost",(function(t){e.monitoring&&(e.ref.current.releasePointerCapture(t.pointerId),e.monitoring=!1,e.value=null,e.setState({x:0,y:0}),clearInterval(e.interval),e.interval=null)})),Object(E.a)(Object(q.a)(e),"makeMove",(function(){var t,a,n=e.props,r=n.min,o=n.max;if(e.value){for(var c in e.step){var l=e.value[c]+e.step[c];void 0!==o&&(l=Math.min(l,o)),void 0!==r&&(l=Math.max(r,l)),e.value[c]=l}null===(t=(a=e.props).onChange)||void 0===t||t.call(a,e.value)}})),Object(E.a)(Object(q.a)(e),"normalize",(function(e){for(;e<0;)e+=360;for(;e>360;)e-=360;return e})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.x,a=e.y,n=this.props.label,r="circle ";return this.monitoring||(r+="animate"),u.a.createElement("div",{className:"joystick-wrapper"},u.a.createElement("div",{ref:this.ref,className:"joystick",onPointerDown:this.onPointerDown,onPointerMoveCapture:this.onPointerMove,onLostPointerCaptureCapture:this.onPointerLost},u.a.createElement("div",{className:"arrows"},["Z","X","XY"].includes(n)&&u.a.createElement(ie.a,{icon:["fas","caret-up"]}),["Y","XY"].includes(n)&&u.a.createElement(ie.a,{icon:["fas","caret-left"]}),["Y","XY"].includes(n)&&u.a.createElement(ie.a,{icon:["fas","caret-right"]}),["Z","X","XY"].includes(n)&&u.a.createElement(ie.a,{icon:["fas","caret-down"]})),u.a.createElement("div",{className:"circle-wrapper"},u.a.createElement("div",{className:r,style:{transform:"translate(".concat(t,"px, ").concat(-a,"px)")}},u.a.createElement("div",{className:"label"},n)))))}}]),a}(u.a.Component);Object(E.a)(fe,"defaultProps",{interval:100});var he=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{speed:5}),Object(E.a)(Object(q.a)(e),"onSpeedChange",(function(t){e.setState({speed:t})})),Object(E.a)(Object(q.a)(e),"getJoystick",(function(t){var a=e.props.keys,n=void 0===a?[]:a,r=n[0],o=n[1],c=n[2];switch(t){case"left":return c?r+o:r;case"right":return c||o}})),Object(E.a)(Object(q.a)(e),"renderInput",(function(t,a,n,r){return u.a.createElement("div",{key:t,className:"control"},u.a.createElement("span",{className:"label"},t,":"),u.a.createElement(ye,{min:n,max:r,value:null===a||void 0===a?void 0:a[t],onChange:function(n){var r,o;return null===(r=(o=e.props).onChange)||void 0===r?void 0:r.call(o,Object(g.a)(Object(g.a)({},a),{},Object(E.a)({},t,n)))}}))})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.min,r=t.max,o=t.label,c=void 0===o?"":o,l=t.keys,i=void 0===l?[]:l,s=t.showReset,d=void 0===s||s,p=this.state.speed,m=this.getJoystick("left"),v=this.getJoystick("right");return u.a.createElement("div",{className:"joystick-outer-wrapper"},d&&u.a.createElement(ie.a,{className:"reset-btn",icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}}),u.a.createElement("div",{className:"joystick-wrapper-block"},u.a.createElement(fe,{label:m,value:a,step:p,min:n,max:r,onChange:this.props.onChange})),u.a.createElement("div",{className:"controls-block"},u.a.createElement("div",{className:"label"},c),u.a.createElement("div",{className:"inputs"},i.map((function(t){return e.renderInput(t,a,n,r)}))),u.a.createElement("div",{className:"slider"},u.a.createElement(je,{value:p,min:.01,max:100,onChange:this.onSpeedChange,showLabel:!1}),u.a.createElement("div",{className:"values"},u.a.createElement("div",{className:"field"},"Slow"),u.a.createElement(ye,{value:p,min:.01,onChange:this.onSpeedChange}),u.a.createElement("div",{className:"field"},"Fast")),u.a.createElement("div",{className:"centered"},"Speed"))),u.a.createElement("div",{className:"joystick-wrapper-block"},u.a.createElement(fe,{label:v,value:a,step:p,min:n,max:r,onChange:this.props.onChange})))}}]),a}(u.a.Component),Oe=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{hasError:!1}),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.fallback,n=t.alt,r=t.label,o=t.style,c=Object(g.a)({},this.props);return delete c.fallback,delete c.label,this.state.hasError?a?u.a.createElement("img",Object.assign({},c,{src:a,alt:null!==n&&void 0!==n?n:r})):u.a.createElement("div",{className:"safe-image-wrapper",style:o},u.a.createElement(ie.a,{icon:["fas","image"]}),u.a.createElement("div",{className:"image-label"},"Can't load image"),u.a.createElement("div",{className:"image-label"},r)):u.a.createElement("img",Object.assign({},c,{alt:null!==n&&void 0!==n?n:r,onError:function(){return e.setState({hasError:!0})}}))}}]),a}(u.a.Component),ye=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"ref",u.a.createRef()),Object(E.a)(Object(q.a)(e),"input",u.a.createRef()),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"dragStartX",0),Object(E.a)(Object(q.a)(e),"touchTime",null),Object(E.a)(Object(q.a)(e),"getValue",(function(){var t,a,n=e.props,r=n.value,o=n.precision;return"string"===typeof r&&(r=Number.parseFloat(r)),null===(t=r)||void 0===t||null===(a=t.toFixed)||void 0===a?void 0:a.call(t,null!==o&&void 0!==o?o:2)})),Object(E.a)(Object(q.a)(e),"getNumberValue",(function(){var t=e.props.value;return"string"===typeof t&&(t=Number.parseFloat(t)),t})),Object(E.a)(Object(q.a)(e),"state",{value:e.getValue()}),Object(E.a)(Object(q.a)(e),"onContextMenu",(function(e){e.preventDefault()})),Object(E.a)(Object(q.a)(e),"onClick",(function(){e.input.current.select()})),Object(E.a)(Object(q.a)(e),"onDown",(function(t){var a;!1!==e.props.draggable&&(e.monitoring=!0,e.dragStartX=t.clientX,(null===e.touchTime||performance.now()-e.touchTime>3e3)&&(e.touchTime=performance.now()),null===(a=e.ref.current)||void 0===a||a.setPointerCapture(t.pointerId))})),Object(E.a)(Object(q.a)(e),"onUp",(function(t){var a;e.monitoring=!1,e.touchTime=performance.now(),null===(a=e.ref.current)||void 0===a||a.releasePointerCapture(t.pointerId)})),Object(E.a)(Object(q.a)(e),"onMove",(function(t){var a,n;if(e.monitoring&&e.ref.current){if(null!==e.touchTime){if(performance.now()-e.touchTime<150)return;e.dragStartX=t.clientX,e.touchTime=null}var r=e.props,o=r.min,c=r.max,l=e.getNumberValue(),i=t.clientX-e.dragStartX;if(e.dragStartX=t.clientX,void 0!==o&&void 0!==c){var s=Math.abs(c-o);s>.01&&2*s<window.innerWidth&&(i*=s/50)}l+=i,void 0!==o&&(l=Math.max(o,l)),void 0!==c&&(l=Math.min(l,c)),isNaN(l)&&(l=0),null===(a=(n=e.props).onChange)||void 0===a||a.call(n,l),t.preventDefault()}})),Object(E.a)(Object(q.a)(e),"onManualChange",(function(t){e.setState({value:t.target.value})})),Object(E.a)(Object(q.a)(e),"onKeyDown",(function(t){switch(t.key){case"Enter":e.onChangeValue();break;case"Escape":e.setPropsValue()}})),Object(E.a)(Object(q.a)(e),"setPropsValue",(function(){e.setState({value:e.getValue()})})),Object(E.a)(Object(q.a)(e),"onChangeValue",(function(){var t=e.props,a=t.min,n=t.max,r=Number.parseFloat(e.state.value);isNaN(r)||(isNaN(a)||(r=Math.max(a,r)),isNaN(n)||(r=Math.min(n,r)),r!==e.props.value&&e.props.onChange(r)),e.setPropsValue()})),e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.value,a=this.getValue();e.value!==t&&this.state.value!==a&&this.setState({value:a})}},{key:"render",value:function(){var e=this.state.value,t=this.props.disabled;return u.a.createElement("span",{ref:this.ref,className:"input-field-container",onClick:this.onClick,onDoubleClick:this.onClick,onPointerDown:this.onDown,onPointerMove:this.onMove,onPointerUp:this.onUp,onLostPointerCapture:this.onUp},u.a.createElement("input",{ref:this.input,disabled:t,className:"input-field",value:null!==e&&void 0!==e?e:"",type:"number",inputMode:"numeric",pattern:"[0-9]*",onChange:this.onManualChange,onKeyDown:this.onKeyDown,onBlur:this.onChangeValue,onContextMenu:this.onContextMenu}))}}]),a}(u.a.Component),je=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"ref",u.a.createRef()),Object(E.a)(Object(q.a)(e),"circleRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"dragValue",null),Object(E.a)(Object(q.a)(e),"dragOffset",null),Object(E.a)(Object(q.a)(e),"onDown",(function(t){var a=e.props.touchMode,n=t.target;if(!a||n.classList.contains("circle")){e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId);var r=e.circleRef.current.getBoundingClientRect();e.dragOffset=0,e.dragValue=e.props.value,r.left<=t.clientX&&t.clientX<=r.right&&(e.dragOffset=t.clientX-(r.left+r.width/2)),e.onMove(t)}})),Object(E.a)(Object(q.a)(e),"onUp",(function(t){e.monitoring=!1,e.dragOffset=0,e.dragValue=null,e.ref.current.releasePointerCapture(t.pointerId)})),Object(E.a)(Object(q.a)(e),"onMove",(function(t){if(e.monitoring&&e.ref.current){var a,n,r=e.props,o=r.min,c=r.max,l=e.ref.current.getBoundingClientRect(),i=t.clientX-e.dragOffset,s=Math.max(0,Math.min((i-l.left)/l.width,1))*(c-o)+o;if(e.dragValue!==s)e.dragValue=s,null===(a=(n=e.props).onChange)||void 0===a||a.call(n,s)}})),Object(E.a)(Object(q.a)(e),"renderGridLines",(function(e){for(var t=[],a=0;a<11;a++)t.push(u.a.createElement("div",{key:a,className:"grid-lines ".concat(e>9.9999*a?"active":"")}));return u.a.createElement("div",{className:"grid-lines-wrapper"},t)})),Object(E.a)(Object(q.a)(e),"onKeyDown",(function(t){var a,n,r,o,c=e.props,l=c.value,i=c.min,s=(c.max-i)/20;switch(t.nativeEvent.code){case"KeyA":case"KeyS":null===(a=(n=e.props).onChange)||void 0===a||a.call(n,l-s);break;case"KeyW":case"KeyD":null===(r=(o=e.props).onChange)||void 0===r||r.call(o,l+s)}})),e}return Object(j.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.min,n=t.max,r=t.showGrid,o=t.showLimits,c=t.showLabel,l=t.precision,i=t.touchMode,s=t.style,d=null!==(e=this.dragValue)&&void 0!==e?e:this.props.value,p=0,m="slider ";return i&&(m+="touch-mode"),isNaN(d)||(p=(d-a)/(n-a)*100,p=Math.max(0,Math.min(p,100))),u.a.createElement("div",{className:"slider-wrapper"},!1!==c&&u.a.createElement(ye,{min:a,max:n,precision:l,value:d,onChange:this.props.onChange}),u.a.createElement("div",{className:"slider-inner",tabIndex:0,onKeyDown:this.onKeyDown},o&&u.a.createElement("div",{className:"label-wrapper"},u.a.createElement("span",{className:"label"},a),u.a.createElement("span",{className:"label"},n)),u.a.createElement("div",{className:"slider-clickable",ref:this.ref,onLostPointerCapture:this.onUp,onPointerDown:this.onDown,onPointerUp:this.onUp,onPointerMove:this.onMove},u.a.createElement("div",{className:"slider-block"},u.a.createElement("div",{className:m,style:s}),u.a.createElement("div",{className:"range-fill",style:{width:"".concat(p,"%")}}),u.a.createElement("div",{className:"circle-wrapper",style:{transform:"translateX(".concat(p,"%)")}},u.a.createElement("div",{className:"circle",ref:this.circleRef}))),r&&this.renderGridLines(p))))}}]),a}(u.a.Component);Object(E.a)(je,"defaultProps",{style:{}});var Ee,Ce=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"onSliderChange",(function(t,a){var n=e.props,r=n.value,o=void 0===r?{}:r,c=n.onChange;t&&(o[t]=a,c(o))})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.min,n=t.max,r=t.value,o=t.widget,c=null===o||void 0===o?void 0:o.propertyType,l=se.getPropertyKeys(c),i=se.getPropertyPrecision(c);return u.a.createElement("div",{className:"sliders-component-wrapper"},l.map((function(t){return u.a.createElement("div",{key:t,className:"slider-row"},u.a.createElement("div",{className:"title"},t),u.a.createElement(ye,{min:a,max:n,precision:i,value:null===r||void 0===r?void 0:r[t],onChange:function(a){return e.onSliderChange(t,a)}}),void 0!==a&&void 0!==n&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"limits"},null===a||void 0===a?void 0:a.toFixed(1)),u.a.createElement(je,{value:null===r||void 0===r?void 0:r[t],min:a,max:n,precision:i,showLabel:!1,onChange:function(a){return e.onSliderChange(t,a)}}),u.a.createElement("div",{className:"limits"},null===n||void 0===n?void 0:n.toFixed(1))),u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}}))})))}}]),a}(u.a.Component),ke=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{active:null}),Object(E.a)(Object(q.a)(e),"selectorRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"containerRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"getSelectorPosition",(function(){var t=e.containerRef.current.getElementsByClassName("tab");if(t.length){for(var a=5,n=null,r=0;r<t.length;r++){var o=t[r];if(o.classList.contains("active")){n=2*(o.offsetLeft-a)+o.clientWidth;break}a=2*o.offsetLeft+o.clientWidth-a}return[a,n]}})),Object(E.a)(Object(q.a)(e),"onTabChange",(function(t){var a,n;e.setState({active:t}),null===(a=(n=e.props).onTabChange)||void 0===a||a.call(n,t)})),Object(E.a)(Object(q.a)(e),"updateActive",(function(){var t=e.props,a=t.children,n=t.defaultActiveKey,r=I.a.first(a);if(r){var o=r.props.id;e.setState({active:null!==n&&void 0!==n?n:o})}})),Object(E.a)(Object(q.a)(e),"updateSelector",(function(){var t=e.selectorRef.current,a=e.getSelectorPosition(),n=Object(z.a)(a,2),r=n[0],o=n[1];t.style.left="".concat(r,"px"),t.style.width="".concat(o,"px")})),Object(E.a)(Object(q.a)(e),"renderTabHeader",(function(t,a){if(!t)return null;var n=e.state.active,r=t.props,o=r.id,c=r.tab,l=r.icon,i=r.view,s=n===o||!n&&0===a,d="tab ";return s&&(d+="active "),u.a.createElement("div",{key:o,className:d,onClick:function(){return e.onTabChange(o)},title:c},!!l&&u.a.createElement(ie.a,{className:"icon",icon:l}),c,!!i&&i(Object(g.a)(Object(g.a)({},t.props),{},{active:s})))})),Object(E.a)(Object(q.a)(e),"renderTabContent",(function(){var t=e.state.active,a=e.props.children,n=I.a.find(a,(function(e){var a;return(null===e||void 0===e||null===(a=e.props)||void 0===a?void 0:a.id)===t}));return n||null})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.updateActive(),window.addEventListener("resize",this.updateSelector)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSelector)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.active,n=this.props,r=n.defaultActiveKey;n.children.length!==e.children.length&&this.updateSelector(),a!==t.active&&this.updateSelector(),r!==e.defaultActiveKey&&this.updateActive()}},{key:"render",value:function(){var e,t,a=this.props,n=a.children,r=a.leftIcon,o=a.rightIcon,c=a.onlyHeader;return n=Array.isArray(n)?n:[n],u.a.createElement("div",{ref:this.containerRef,className:"tabs-container"},u.a.createElement("div",{className:"tabs-header-elements"},!!r&&r,u.a.createElement("div",{className:"tabs-elements"},u.a.createElement("div",{className:"tabs-header"},null===(e=(t=n).map)||void 0===e?void 0:e.call(t,this.renderTabHeader)),u.a.createElement("div",{className:"selector",ref:this.selectorRef})),!!o&&o),!c&&u.a.createElement("div",{className:"tabs-content"},this.renderTabContent()))}}]),a}(u.a.Component),we=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return this.props.children}}]),a}(u.a.Component),Ne=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"onChange",(function(t){var a,n;null===(a=(n=e.props).onChange)||void 0===a||a.call(n,t.target.value)})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.value;return u.a.createElement("div",{className:"widget-text-wrapper"},u.a.createElement("input",{className:"widget-text",type:"textbox",value:null!==e&&void 0!==e?e:"",onChange:this.onChange}))}}]),a}(u.a.Component);!function(e){e.Hours="HOURS",e.Minutes="MINUTES"}(Ee||(Ee={}));var Se=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{value:null}),Object(E.a)(Object(q.a)(e),"hoursInputRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"minutesInputRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"getTwoDigits",(function(e){return e.toString().padStart(2,"0")})),Object(E.a)(Object(q.a)(e),"getInputValues",(function(){var t=e.state.value;if(null===t)return":";var a=Math.floor(t),n=Math.round(60*t%60);return[e.getTwoDigits(a),e.getTwoDigits(n)]})),Object(E.a)(Object(q.a)(e),"normalizeValue",(function(e){return e>=13&&(e-=12),e<1&&(e+=12),+e.toFixed(2)})),Object(E.a)(Object(q.a)(e),"onTimeChange",(function(t){var a,n,r=e.state.value;r+=.25*t,r=e.normalizeValue(r),null===(a=(n=e.props).onChange)||void 0===a||a.call(n,r),e.setState({value:r})})),Object(E.a)(Object(q.a)(e),"onInputClick",(function(e){(null===e||void 0===e?void 0:e.current)&&e.current.select()})),Object(E.a)(Object(q.a)(e),"onInputChange",(function(t,a){var n,r,o=e.state.value,c=o.toString().split("."),l=Object(z.a)(c,1)[0],i=(o-+l).toFixed(2),s=0;switch(a){case Ee.Hours:s=+t-+l;break;case Ee.Minutes:t.length>2&&(t=t.slice(1,3)),s=+(Math.min(59,+t)/60).toFixed(2)-+i}(o=+(o+s).toFixed(2))>=13||o<1||(null===(n=(r=e.props).onChange)||void 0===n||n.call(r,o),e.setState({value:o}))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.value;this.setState({value:e})}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.disabled,r=this.getInputValues(),o=Object(z.a)(r,2),c=o[0],l=void 0===c?"":c,i=o[1],s=void 0===i?"":i,d="time-control ";return n&&(d+="disabled"),u.a.createElement("div",{className:d},u.a.createElement("label",null,a),u.a.createElement("div",{className:"time-component"},u.a.createElement("span",{className:"icon",onClick:function(){return e.onTimeChange(-1)}},u.a.createElement(ie.a,{icon:["fas","minus"]})),u.a.createElement("div",{className:"inputs-row"},u.a.createElement("input",{ref:this.hoursInputRef,className:"time-input",type:"number",value:l,onClick:function(){return e.onInputClick(e.hoursInputRef)},onChange:function(t){return e.onInputChange(t.target.value,Ee.Hours)}}),":",u.a.createElement("input",{ref:this.minutesInputRef,className:"time-input",type:"number",value:s,onClick:function(){return e.onInputClick(e.minutesInputRef)},onChange:function(t){return e.onInputChange(t.target.value,Ee.Minutes)}})),u.a.createElement("span",{className:"icon",onClick:function(){return e.onTimeChange(1)}},u.a.createElement(ie.a,{icon:["fas","plus"]}))))}}]),a}(u.a.Component);Object(E.a)(Se,"defaultProps",{label:"",value:23.5});u.a.Component;var Pe=Array.from(Array(81)),xe=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{step:null,activeKey:null}),Object(E.a)(Object(q.a)(e),"sliderRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"pointerRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"value",null),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"offset",0),Object(E.a)(Object(q.a)(e),"step",0),Object(E.a)(Object(q.a)(e),"interval",null),Object(E.a)(Object(q.a)(e),"onMouseDown",(function(t){e.monitoring=!0,e.sliderRef.current.setPointerCapture(t.pointerId),e.offset=0,e.value=Object(g.a)({},e.props.value);var a=e.pointerRef.current.getBoundingClientRect();a.left<=t.clientX&&t.clientX<=a.right&&(e.offset=t.clientX-(a.left+a.width/2)),e.onMouseMove(t),e.makeMove(),e.interval=setInterval(e.makeMove,100)})),Object(E.a)(Object(q.a)(e),"onMouseUp",(function(t){e.monitoring&&(e.monitoring=!1,e.offset=0,e.value=null,e.step=0,e.sliderRef.current.releasePointerCapture(t.pointerId),clearInterval(e.interval),e.interval=null,e.setState({step:null}))})),Object(E.a)(Object(q.a)(e),"onMouseMove",(function(t){if(e.monitoring&&e.sliderRef.current){var a=e.sliderRef.current.getBoundingClientRect(),n=t.clientX-e.offset,r=(a.right-a.left)/2,o=+Math.max(-1,Math.min((n-(a.left+r))/a.width*2,1)).toFixed(2);e.step=o*e.props.step,e.setState({step:o})}})),Object(E.a)(Object(q.a)(e),"onKeySelect",(function(t,a){t.stopPropagation(),e.setState({activeKey:a})})),Object(E.a)(Object(q.a)(e),"makeMove",(function(){var t,a=e.state.activeKey;a&&void 0!==(null===(t=e.value)||void 0===t?void 0:t[a])&&(e.value[a]+=e.step,e.props.onChange(a,e.value[a]))})),Object(E.a)(Object(q.a)(e),"resetActiveKey",(function(t){e.setState({activeKey:null})})),Object(E.a)(Object(q.a)(e),"getPointerStyles",(function(){var t,a,n=e.state.step,r=null===(t=e.sliderRef.current)||void 0===t||null===(a=t.getBoundingClientRect)||void 0===a?void 0:a.call(t);if(null===n||!r)return{transition:"transform .2s"};var o=(r.width/2*n).toFixed();return{transform:"translateX(".concat(o,"px)")}})),Object(E.a)(Object(q.a)(e),"getIsDisabled",(function(){return!e.state.activeKey})),Object(E.a)(Object(q.a)(e),"renderPropertyInput",(function(t){var a,n=e.state.activeKey,r=e.props.value,o="key ";return t===n&&(o+="active"),u.a.createElement("div",{key:t,className:o,onClick:function(a){return e.onKeySelect(a,t)}},u.a.createElement("div",{className:"property"},t,":"),u.a.createElement(ye,{value:null!==(a=r[t])&&void 0!==a?a:0,disabled:n!==t,onChange:function(a){return e.props.onChange(t,a)}}))})),Object(E.a)(Object(q.a)(e),"onReset",(function(){var t=e.props;(0,t.onChange)(null,t.defaultValue)})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.propertyType,t=se.getPropertyKeys(e),a=I.a.first(t);a&&this.setState({activeKey:a})}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.propertyType,n=se.getPropertyKeys(a),r="vector-control ";return this.getIsDisabled()&&(r+="disabled"),u.a.createElement("div",{className:r,onClick:this.resetActiveKey},u.a.createElement("div",{className:"title"},t),u.a.createElement("div",{className:"vector-item"},u.a.createElement("div",{className:"keys-row"},n.map(this.renderPropertyInput)),u.a.createElement("div",{className:"vector-container"},u.a.createElement("div",{ref:this.sliderRef,className:"slider-control",onClick:function(e){return e.stopPropagation()},onPointerDown:this.onMouseDown,onLostPointerCapture:this.onMouseUp,onPointerMove:this.onMouseMove},Pe.map((function(e,t){return u.a.createElement("div",{key:"dash-".concat(t),className:"dash"})}))),u.a.createElement("div",{ref:this.pointerRef,className:"pointer",style:this.getPointerStyles()}))),u.a.createElement("span",{className:"reset-icon",onClick:this.onReset},u.a.createElement(ie.a,{icon:["fas","undo"]})))}}]),a}(u.a.Component);Object(E.a)(xe,"defaultProps",{label:"",propertyType:n.Vector,value:{},step:.1});var De=[o.Joystick,o.Dial,o.Sliders],Te=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{}),Object(E.a)(Object(q.a)(e),"renderJoystick",(function(t,a,n){var r=e.props,o=r.widget,c=r.value,l=r.onChange;return u.a.createElement(he,{type:null===o||void 0===o?void 0:o.propertyType,min:a,max:n,value:c,keys:t,showReset:!1,onChange:l})})),Object(E.a)(Object(q.a)(e),"setMode",(function(t){e.setState({mode:t})})),Object(E.a)(Object(q.a)(e),"renderMode",(function(t,a){var n=e.props.widget;if(n.widgets.length<2||!n.widgets.includes(a))return null;var r="mode ";return t===a&&(r+="selected "),u.a.createElement("div",{className:r,onClick:function(){return e.setMode(a)}},a)})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.widget,t=I.a.compact(De.map((function(t){var a;return null===(a=e.widgets)||void 0===a?void 0:a.find((function(e){return e===t}))}))),a=I.a.first(t);this.setState({mode:a})}},{key:"componentDidUpdate",value:function(e){var t=this.props.widget,a=this.state.mode;if(t!==e.widget){var n=I.a.compact(De.map((function(e){var a;return null===(a=t.widgets)||void 0===a?void 0:a.find((function(t){return t===e}))})));if(!n.length)return this.props.onClose();n.find((function(e){return e===a}))||this.setState({mode:I.a.first(n)})}}},{key:"render",value:function(){var e,t=this.props,a=t.label,r=t.value,c=t.min,l=t.max,i=t.widget,s=t.onChange,d=t.onClose;if(!(null===i||void 0===i||null===(e=i.widgets)||void 0===e?void 0:e.length))return null;var p=this.state.mode;p&&i.widgets.includes(p)||(p=i.widgets[0]);var m=se.getPropertyKeys(null===i||void 0===i?void 0:i.propertyType),v=i.propertyType===n.Rotator,b=de.Endless;void 0!==c&&void 0!==l&&(b=de.Range),v&&(b=de.Rotation);var g=i.widgets.length>1;return u.a.createElement("div",{className:"vector-drawer-wrapper",onClick:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"drawer-header"},u.a.createElement("div",{className:"modes header-block"},this.renderMode(p,o.Joystick),this.renderMode(p,o.Dial),this.renderMode(p,o.Sliders)),u.a.createElement("div",{className:"header-block"},u.a.createElement("span",null,a),u.a.createElement(ie.a,{className:"reset-btn",icon:["fas","undo"],onClick:function(){return null===s||void 0===s?void 0:s()}})),u.a.createElement("div",{className:"header-block btns"},u.a.createElement(ie.a,{className:"close-btn",icon:["fas","times"],onClick:d}))),u.a.createElement("div",{className:"controls-block ".concat(g?"":"controls-only")},p===o.Joystick&&!v&&this.renderJoystick(m,c,l),p===o.Sliders&&u.a.createElement(Ce,{widget:i,min:c,max:l,value:r,onChange:s}),p===o.Dial&&u.a.createElement(ge,{size:i.propertyType!==n.Vector2D?600:400,min:c,max:l,type:i.propertyType,mode:b,value:r,hidePrecision:!0,onChange:s})))}}]),a}(u.a.Component),Ie=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{filter:""}),Object(E.a)(Object(q.a)(e),"onSearch",(function(t){e.props.onSearch(t.toLowerCase()),e.setState({filter:t})})),e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.placeholder,n=t.onSearch;a!==e.placeholder&&(this.setState({filter:""}),n(""))}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onSearch)||void 0===e||e.call(t,"")}},{key:"render",value:function(){var e=this,t=this.state.filter,a=this.props.placeholder;return u.a.createElement("div",{className:"search-wrapper"},u.a.createElement(ie.a,{icon:["fas","search"]}),u.a.createElement("input",{className:"list-search",value:t,placeholder:a,onChange:function(t){return e.onSearch(t.target.value)}}),t&&u.a.createElement(ie.a,{icon:["fas","times-circle"],onClick:function(){return e.onSearch("")}}))}}]),a}(u.a.Component);Object(E.a)(Ie,"defaultProps",{placeholder:"Search"});var Me=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{offset:0}),Object(E.a)(Object(q.a)(e),"ref",u.a.createRef()),Object(E.a)(Object(q.a)(e),"monitoring",!1),Object(E.a)(Object(q.a)(e),"last",-1),Object(E.a)(Object(q.a)(e),"sum",0),Object(E.a)(Object(q.a)(e),"onPointerDown",(function(t){var a,n;if(e.ref.current){var r=e.props.vertical;e.monitoring=!0,e.last=t.clientX,r&&(e.last=t.clientY),e.ref.current.setPointerCapture(t.pointerId),null===(a=(n=e.props).onWheelStart)||void 0===a||a.call(n)}})),Object(E.a)(Object(q.a)(e),"onPointerMove",(function(t){var a,n;if(e.monitoring){var r=e.props.vertical,o=t.clientX-e.last;if(r&&(o=e.last-t.clientY),!(Math.abs(o)<2)){e.last=t.clientX,r&&(e.last=t.clientY);var c=e.state.offset;e.sum+=o;var l=e.ref.current.getBoundingClientRect();c+=o,c%=l.width/2,null===(a=(n=e.props).onWheelMove)||void 0===a||a.call(n,Math.sign(o),e.sum/(l.width/2)),e.setState({offset:c})}}})),Object(E.a)(Object(q.a)(e),"onPointerUp",(function(t){e.monitoring&&(e.monitoring=!1,e.last=0,e.sum=0,e.ref.current.releasePointerCapture(t.pointerId))})),Object(E.a)(Object(q.a)(e),"renderCircles",(function(){var t,a=e.props.size,n=[];a=null!==(t=a)&&void 0!==t?t:80;for(var r=0;r<a;r++)n.push(u.a.createElement("div",{key:r,className:"slider-circle"}));return n})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.offset,t=this.props,a=t.vertical,n=t.className,r=void 0===n?"":n,o={transform:"translateX(".concat(e,"px)")};return a&&(o.transform="translateY(".concat(e,"px)")),r+=" color-picker-slider-wheel ",a&&(r+="vertical"),u.a.createElement("div",{className:r,onPointerMove:this.onPointerMove,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,ref:this.ref,style:this.props.style},u.a.createElement("div",{className:"circles-list",style:o},this.renderCircles()))}}]),a}(u.a.Component);Object(E.a)(Me,"defaultProps",{style:{}});var Re=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"onBrowse",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c,l,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props,c=o.type,l=o.typePath,(c.startsWith("U")||c.startsWith("F"))&&(c=c.substring(1)),c=c.replace("*",""),0==(null===(a=l)||void 0===a?void 0:a.length)&&(l=c),t.next=6,qe.open({placeholder:"Search asset",types:[l],prefix:"/Game",count:200});case 6:(i=t.sent)&&(null===(n=(r=e.props).onChange)||void 0===n||n.call(r,i.Path));case 8:case"end":return t.stop()}}),t)})))),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.label,r=t.browse,o=t.reset,c=F.assets.thumbnailUrl(a);return u.a.createElement("div",{className:"asset-item"},u.a.createElement("div",{className:"label"},n),u.a.createElement("div",{className:"image"},u.a.createElement(Oe,{src:c,fallback:"/images/assets/Asset.png",alt:"Asset",className:"box-image"})),u.a.createElement("div",{className:"input-title"},u.a.createElement("input",{readOnly:!0,value:a}),r&&u.a.createElement("span",{className:"asset-icon",onClick:this.onBrowse},u.a.createElement(ie.a,{icon:["fas","folder"]}))),o&&u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}}))}}]),a}(u.a.Component);Object(E.a)(Re,"defaultProps",{reset:!0});var Ae=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"onSelect",(function(t){var a,n;null===(a=(n=e.props).onChange)||void 0===a||a.call(n,t)})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=void 0===a?"":a,r=t.options,o=t.value;return u.a.createElement("div",{className:"dropwdown-row"},u.a.createElement("div",{className:"slider-row"},u.a.createElement("div",{className:"title"},n),u.a.createElement("div",{className:"dropdown-widget"},u.a.createElement("select",{className:"dropdown",value:o,onChange:function(t){return e.onSelect(t.target.value)}},null===r||void 0===r?void 0:r.map((function(e,t){return u.a.createElement("option",{key:t,value:e},e)}))))))}}]),a}(u.a.Component),Le=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.widget,r=a.value,o=void 0===r?null:r,c={width:260,height:100};return u.a.createElement("div",{className:"image-dropdown-row",style:{minHeight:c.height+20}},null===(e=n.options)||void 0===e?void 0:e.map((function(e,a){return u.a.createElement(Oe,{key:a,src:F.assets.thumbnailUrl(e.label),className:"dropdown-image ".concat(o===e.value?"selected-dropdown-image":""),onClick:function(){var a,r;return null===(a=(r=t.props).onChange)||void 0===a?void 0:a.call(r,n,e.value)},alt:e.value,label:I.a.startCase(I.a.last(n.property.split("."))),style:c})})))}}]),a}(u.a.Component),Ve=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.widget,n=t.label,r=void 0===n?"":n,o=t.min,c=t.max,l=t.proportionally,i=t.value,s=null===a||void 0===a?void 0:a.propertyType,d=se.getPropertyKeys(s),p=se.getPropertyPrecision(s),m=void 0!==o&&void 0!==c,v=d.filter((function(e){var t;return null===(t=a.widgets)||void 0===t?void 0:t.includes(e)}));return u.a.createElement("div",{className:"custom-sliders"},d.map((function(t){var n;return u.a.createElement(u.a.Fragment,{key:t},((null===(n=a.widgets)||void 0===n?void 0:n.includes(t))||!v.length)&&u.a.createElement("div",{className:"slider-row"},u.a.createElement("div",{className:"title"},r,".",t),u.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:function(){var a,n;return null===(a=(n=e.props).onPrecisionModal)||void 0===a?void 0:a.call(n,t)}}),u.a.createElement(ye,{min:o,max:c,precision:p,value:null===i||void 0===i?void 0:i[t],onChange:function(n){var r,i;return(null===(r=(i=e.props).onChange)||void 0===r?void 0:r.call(i,a,t,n,l,o,c))||null}}),m&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"limits"},null===o||void 0===o?void 0:o.toFixed(1)),u.a.createElement(je,{value:(null===i||void 0===i?void 0:i[t])||null,min:o,max:c,showLabel:!1,onChange:function(n){var r,i;return(null===(r=(i=e.props).onChange)||void 0===r?void 0:r.call(i,a,t,n,l,o,c))||null}}),u.a.createElement("div",{className:"limits"},null===c||void 0===c?void 0:c.toFixed(1)))))})),u.a.createElement(ie.a,{icon:["fas",l?"lock":"lock-open"],className:"proportional icon",onClick:function(){return e.props.onProportionallyToggle(a.property,l?"0":"1")}}),u.a.createElement(ie.a,{icon:["fas","undo"],className:"reset-sliders",onClick:function(){var t,n;return null===(t=(n=e.props).onChange)||void 0===t?void 0:t.call(n,a)}}))}}]),a}(u.a.Component),We=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.value,r=a.label,o=void 0===r?"":r,c=a.min,l=a.max,i=a.precision,s=void 0!==c&&void 0!==l;return u.a.createElement("div",{className:"slider-row"},u.a.createElement("div",{className:"title"},o),u.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:null===(e=this.props)||void 0===e?void 0:e.onPrecisionModal}),u.a.createElement(ye,{min:c,max:l,precision:i,value:n,onChange:this.props.onChange}),s&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"limits"},c.toFixed(1)),u.a.createElement(je,{value:n,min:c,max:l,precision:i,showLabel:!1,onChange:this.props.onChange}),u.a.createElement("div",{className:"limits"},l.toFixed(1))),u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){return t.props.onChange()}}))}}]),a}(u.a.Component),_e=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.prefix,r=t.options,o=t.onSelect;return u.a.createElement("div",{className:"tab-widget-wrapper"},r.map((function(t,r){var c;return u.a.createElement("button",{key:r,onClick:o.bind(e,t.value),"data-prefix":n,"data-value":t.value,className:"btn ".concat(a===t.value?"selected":"")},null!==(c=t.label)&&void 0!==c?c:t.value)})))}}]),a}(u.a.Component),Ue=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.widget,n=t.checked,r=void 0!==n&&n,o=t.label,c=void 0===o?"":o,l="toggle ";return r&&(l+="checked "),u.a.createElement("div",{className:l},u.a.createElement("div",{className:"title"},c),u.a.createElement("div",{className:"switch",onClick:function(){var t,n;return null===(t=(n=e.props).onChange)||void 0===t?void 0:t.call(n,a,!r)}}))}}]),a}(u.a.Component),Fe=[o.Joystick,o.Dial,o.Sliders],Be=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"onToggleVectorDrawer",(function(t,a,n){t.stopPropagation(),e.props.onToggleVectorDrawer(Object(g.a)({},a))})),e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.widget,n=t.vector;a!==e.widget&&n&&this.props.onSetVector(Object(g.a)({},a))}},{key:"render",value:function(){var e=this,t=this.props,a=t.widget,n=t.label,r=void 0===n?"":n,o=t.value,c=t.vector,l=t.min,i=t.max,s=t.proportionally,d=a.id,p=se.getPropertyKeys(a.propertyType),m=I.a.compact(Fe.map((function(e){var t;return null===(t=a.widgets)||void 0===t?void 0:t.find((function(t){return t===e}))})))||[];return u.a.createElement("div",{className:"slider-row joystick-row"},u.a.createElement("div",{className:"title"},r),p.map((function(t){return u.a.createElement("div",{key:"".concat(t).concat(d),className:"value-info"},u.a.createElement("div",{className:"axis-title ".concat(t,"-axis")},t,":"),u.a.createElement(ye,{min:l,max:i,precision:se.getPropertyPrecision(a.propertyType),value:null===o||void 0===o?void 0:o[t],onChange:function(n){var r,o;return null===(r=(o=e.props).onAxisChange)||void 0===r?void 0:r.call(o,a,t,n,s,l,i)}}))})),u.a.createElement(ie.a,{icon:["fas",s?"lock":"lock-open"],className:"proportional ".concat((null===c||void 0===c?void 0:c.id)===d?"selected":""),onClick:function(){return e.props.onProportionallyToggle(a.property,s?"0":"1")}}),a.propertyType&&m.length>0&&u.a.createElement(ie.a,{icon:["fas","gamepad"],className:"gamepad ".concat((null===c||void 0===c?void 0:c.id)===d?"selected":""),onClick:function(t){var n;return null===(n=e.onToggleVectorDrawer)||void 0===n?void 0:n.call(e,t,a,d)}}),u.a.createElement("div",{className:"control-buttons"},u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,n;return null===(t=(n=e.props).onAxisChange)||void 0===t?void 0:t.call(n,a,void 0,void 0)}})))}}]),a}(u.a.Component),He=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(E.a)(Object(q.a)(e),"onOK",(function(){e.props.close(!0)})),Object(E.a)(Object(q.a)(e),"onCancel",(function(){e.props.close(!1)})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props.text;return u.a.createElement("div",{className:"fullscreen",onClick:this.onCancel},u.a.createElement("div",{className:"alert-modal",onClick:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"close-modal",onClick:this.onCancel},u.a.createElement(ie.a,{icon:["fas","times"]})),u.a.createElement("div",{className:"alert-text"},e),u.a.createElement("div",{className:"footer"},u.a.createElement("button",{className:"btn btn-secondary",onClick:this.onCancel},"Cancel"),u.a.createElement("button",{className:"btn btn-secondary",onClick:this.onOK},"Ok"))))}}],[{key:"show",value:function(e){var t;null===(t=a.pending)||void 0===t||t.call(a,void 0),a.pending=void 0;var n=document.createElement("div");return document.getElementById("modal").prepend(n),new Promise((function(t){a.pending=t,p.a.render(u.a.createElement(a,{text:e,close:t}),n)})).finally((function(){p.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}))}}]),a}(u.a.Component);Object(E.a)(He,"pending",void 0);var Ge=a(20),Ke=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{filter:"",filterText:""}),Object(E.a)(Object(q.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(E.a)(Object(q.a)(e),"onFilterTextChange",(function(t){e.setState({filterText:t}),e.onFilterChangeDelayed(t)})),Object(E.a)(Object(q.a)(e),"onFilterChange",(function(t){t=t.toLocaleLowerCase(),e.setState({filter:t})})),Object(E.a)(Object(q.a)(e),"onFilterChangeDelayed",I.a.debounce(e.onFilterChange,250)),Object(E.a)(Object(q.a)(e),"onResetFilter",(function(){e.setState({filterText:"",filter:""})})),Object(E.a)(Object(q.a)(e),"onSelect",(function(t){e.setState({selected:t})})),Object(E.a)(Object(q.a)(e),"onOK",(function(){var t=e.state.selected;t&&e.props.close(t)})),Object(E.a)(Object(q.a)(e),"onCancel",(function(){e.props.close()})),Object(E.a)(Object(q.a)(e),"onKeyDown",(function(t){switch(t.key){case"Enter":return e.onOK();case"Escape":return e.onCancel()}})),Object(E.a)(Object(q.a)(e),"renderIcons",(function(){var t=e.state.filter,a=e.state.selected||e.props.selected,n=Object.keys(Ge.a);return t&&(n=n.filter((function(e){return Ge.a[e].iconName.includes(t)}))),u.a.createElement("div",{className:"icon-wrapper"},n.map((function(t){return u.a.createElement("div",{key:Ge.a[t].iconName,className:"icon-block ".concat(Ge.a[t].iconName===a?"selected":"")},u.a.createElement(ie.a,{className:"icon",icon:["fas",Ge.a[t].iconName],onClick:function(){return e.onSelect(Ge.a[t].iconName)}}),u.a.createElement("div",{className:"icon-text"},Ge.a[t].iconName))})))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this,t=this.state,a=t.filterText,n=t.selected;return u.a.createElement("div",{className:"fullscreen",onClick:this.onCancel},u.a.createElement("div",{className:"icon-modal",onClick:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"close-modal",onClick:this.onCancel},u.a.createElement(ie.a,{icon:["fas","times"]})),u.a.createElement("div",{className:"search-wrapper search-position"},u.a.createElement(ie.a,{icon:["fas","search"]}),u.a.createElement("input",{value:a,className:"icon-search search-input",placeholder:"Search icon",onChange:function(t){return e.onFilterTextChange(t.target.value)},autoFocus:!0,onKeyDown:this.onKeyDown,autoComplete:"off"}),a&&u.a.createElement(ie.a,{icon:["fas","times-circle"],onClick:this.onResetFilter})),this.renderIcons(),u.a.createElement("div",{className:"btn-wrapper"},u.a.createElement("button",{className:"btn btn-secondary",onClick:this.onCancel},"Cancel"),u.a.createElement("button",{className:"btn btn-secondary ".concat(!n&&"disabled"),disabled:!n,onClick:this.onOK},"Apply"))))}}],[{key:"show",value:function(e){var t;null===(t=a.pending)||void 0===t||t.call(a,void 0),a.pending=void 0;var n=document.createElement("div");return document.getElementById("modal").prepend(n),new Promise((function(t){a.pending=t,p.a.render(u.a.createElement(a,{selected:e,close:t}),n)})).finally((function(){p.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}))}}]),a}(u.a.Component);Object(E.a)(Ke,"pending",void 0);var Ye=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(E.a)(Object(q.a)(e),"state",{step:1,min:.01,max:10,mode:ae.Rgb,negative:!1}),Object(E.a)(Object(q.a)(e),"value",0),Object(E.a)(Object(q.a)(e),"originalValue",null),Object(E.a)(Object(q.a)(e),"hsv",{h:0,s:0,v:0}),Object(E.a)(Object(q.a)(e),"normalizeValue",(function(e,t,a){return Math.max(t,Math.min(e,a))})),Object(E.a)(Object(q.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(E.a)(Object(q.a)(e),"onCancel",(function(){e.props.onClose()})),Object(E.a)(Object(q.a)(e),"onKeyDown",(function(t){if("Escape"===t.key)return e.onCancel()})),Object(E.a)(Object(q.a)(e),"onChange",(function(t){var a,n,r=e.state.step,o=e.props,c=o.value,l=o.meta;c+=r*t,void 0!==(null===l||void 0===l?void 0:l.min)&&(c=Math.max(l.min,c)),void 0!==(null===l||void 0===l?void 0:l.max)&&(c=Math.min(c,l.max)),null===(a=(n=e.props).onChange)||void 0===a||a.call(n,c)})),Object(E.a)(Object(q.a)(e),"onStepChange",(function(t){var a=e.state,n=a.min,r=a.max;t=e.normalizeValue(t,n,r),e.onSetMeta("step",t)})),Object(E.a)(Object(q.a)(e),"onRgbValueInputChange",(function(t,a){var n,r,o=e.props.value,c=e.state.negative;o&&(c||(a=Math.max(0,a)),o[t]=a,null===(n=(r=e.props).onChange)||void 0===n||n.call(r,o))})),Object(E.a)(Object(q.a)(e),"onHsvValueInputChange",(function(t,a){var r,o,c=e.props.type,l=e.getHsvColor();l[t]=a,l.h/=360,c===n.Color&&(l=Object(g.a)(Object(g.a)({},l),{},{s:e.normalizeValue(l.s,0,1),v:e.normalizeValue(l.v,0,1)}));var i=se.hsv2rgb(l),s=i;switch(c){case n.Vector4:s=se.rgbToColor(i,1);break;case n.LinearColor:s=se.rgbToColor(i,1,!1)}null===(r=(o=e.props).onChange)||void 0===r||r.call(o,s)})),Object(E.a)(Object(q.a)(e),"onWheelStart",(function(){var t=e.props.value;e.value=t})),Object(E.a)(Object(q.a)(e),"onHsvWheelStart",(function(){var t=e.getHsvColor();e.hsv=t})),Object(E.a)(Object(q.a)(e),"onWheelMove",(function(t,a){var n,r,o=e.props.meta,c=e.state.step,l=e.value+c*a;void 0!==(null===o||void 0===o?void 0:o.min)&&(l=Math.max(o.min,l)),void 0!==(null===o||void 0===o?void 0:o.max)&&(l=Math.min(l,o.max)),null===(n=(r=e.props).onChange)||void 0===n||n.call(r,l)})),Object(E.a)(Object(q.a)(e),"onRgbWheelMove",(function(t,a){var r=e.props,o=r.type,c=r.value,l=e.state.negative,i=a*(o===n.Color?10:.01)*e.state.step;c[t]+=i,o===n.Color&&(c[t]=e.normalizeValue(c[t],0,255)),l||(c[t]=Math.max(0,c[t])),e.props.onChange(c)})),Object(E.a)(Object(q.a)(e),"onHsvWheelMove",(function(t,a,r,o,c){var l,i,s=e.props.type;r*=a*e.state.step,e.hsv[t]+=r,void 0!==o&&(e.hsv[t]=Math.max(o,e.hsv[t])),void 0!==c&&(e.hsv[t]=Math.min(e.hsv[t],c));var u=0;e.hsv.h<0&&(u=360),s===n.Color&&(e.hsv=Object(g.a)(Object(g.a)({},e.hsv),{},{s:e.normalizeValue(e.hsv.s,0,1),v:e.normalizeValue(e.hsv.v,0,1)})),e.hsv=Object(g.a)(Object(g.a)({},e.hsv),{},{h:u+e.hsv.h,s:e.normalizeValue(e.hsv.s,0,1)});var d=Object(g.a)(Object(g.a)({},e.hsv),{},{h:e.hsv.h/360}),p=e.hsvToColor(d);null===(l=(i=e.props).onChange)||void 0===l||l.call(i,p)})),Object(E.a)(Object(q.a)(e),"onRgbStepChange",(function(t,a){var r,o,c=e.props,l=c.value,i=c.type,s=e.state.negative;l[a]+=t,i===n.Color&&(l[a]=e.normalizeValue(l[a],0,255)),s||(l[a]=Math.max(0,l[a])),null===(r=(o=e.props).onChange)||void 0===r||r.call(o,l)})),Object(E.a)(Object(q.a)(e),"onHsvStepChange",(function(t,a,r,o){var c,l,i=e.getHsvColor(),s=0;i[a]+=t,void 0!==r&&(e.hsv[a]=Math.max(r,e.hsv[a])),void 0!==o&&(e.hsv[a]=Math.min(e.hsv[a],o)),i.h<0&&(s=1),e.props.type===n.Color&&(i.v=e.normalizeValue(i.v,1,0)),i=Object(g.a)(Object(g.a)({},i),{},{h:s+i.h/360,s:e.normalizeValue(i.s,1,0)});var u=e.hsvToColor(i);null===(c=(l=e.props).onChange)||void 0===c||c.call(l,u)})),Object(E.a)(Object(q.a)(e),"getHsvColor",(function(){var t=e.props,a=t.value,r=t.type,o=a;if(r===n.Vector4||r===n.LinearColor){var c=0;for(var l in a)a[l]>c&&(c=a[l]);o=se.colorToRgb(a,c)}return e.getHsvValue(o)})),Object(E.a)(Object(q.a)(e),"hsvToColor",(function(t){var a=e.props.type,r=se.hsv2rgb(t),o=r;switch(a){case n.Vector4:o=se.rgbToColor(r,1);break;case n.LinearColor:o=se.rgbToColor(r,1,!1)}return o})),Object(E.a)(Object(q.a)(e),"getInputKey",(function(t){var a=t;switch(e.props.type){case n.Vector:case n.Vector4:switch(t){case"R":a="X";break;case"G":a="Y";break;case"B":a="Z"}}return a})),Object(E.a)(Object(q.a)(e),"getHsvValue",(function(t){var a=e.props.type,r=Object(g.a)({},e.props.value),o=se.rgb2Hsv(t);delete r.A,delete r.W;var c=Object.values(r);return a!==n.Color&&(o.v=Math.max.apply(Math,[0].concat(Object(Y.a)(c)))),Object(g.a)(Object(g.a)({},o),{},{h:360*o.h,s:Math.max(1e-4,o.s)})})),Object(E.a)(Object(q.a)(e),"renderRgbInput",(function(t){var a,r,o=e.props.value,c=e.getInputKey(t),l=3,i=e.state.step;return e.props.type===n.Color&&(l=0,a=0,r=255,i*=50),u.a.createElement(u.a.Fragment,null,u.a.createElement(ye,{value:null===o||void 0===o?void 0:o[c],draggable:!1,precision:l,min:a,max:r,onChange:function(t){return e.onRgbValueInputChange(c,t)}}),u.a.createElement(ie.a,{icon:["fas","angle-left"],className:"precision-icon",onClick:function(){return e.onRgbStepChange(-i,c)}}),u.a.createElement(Me,{onWheelMove:function(t){return e.onRgbWheelMove(c,t)}}),u.a.createElement(ie.a,{icon:["fas","angle-right"],className:"precision-icon",onClick:function(){return e.onRgbStepChange(i,c)}}))})),Object(E.a)(Object(q.a)(e),"renderHsvInput",(function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=r*e.state.step,i=3;return e.props.type===n.Color&&(i="h"===a?0:2),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"slider-label"},a.toUpperCase(),":"),u.a.createElement(ye,{value:t,min:o,max:c,draggable:!1,precision:i,onChange:function(t){return e.onHsvValueInputChange(a,t)}}),u.a.createElement(ie.a,{icon:["fas","angle-left"],className:"precision-icon",onClick:function(){return e.onHsvStepChange(-l,a,o,c)}}),u.a.createElement(Me,{onWheelStart:e.onHsvWheelStart,onWheelMove:function(t){return e.onHsvWheelMove(a,t,l,o,c)}}),u.a.createElement(ie.a,{icon:["fas","angle-right"],className:"precision-icon",onClick:function(){return e.onHsvStepChange(l,a,o,c)}}))})),Object(E.a)(Object(q.a)(e),"renderMinMaxSlider",(function(){var t=e.props,a=t.meta,n=t.value;return void 0===(null===a||void 0===a?void 0:a.min)||void 0===(null===a||void 0===a?void 0:a.max)?null:u.a.createElement("div",{className:"row top"},u.a.createElement(ye,{value:a.min,onChange:function(t){return e.props.onMetadataChange("Min",String(t))}}),u.a.createElement(je,{value:n,min:null===a||void 0===a?void 0:a.min,max:null===a||void 0===a?void 0:a.max,onChange:function(t){return e.props.onChange(t)},precision:null===a||void 0===a?void 0:a.precision,showLabel:!1}),u.a.createElement(ye,{value:a.max,onChange:function(t){return e.props.onMetadataChange("Max",String(t))}}))})),Object(E.a)(Object(q.a)(e),"onSetMeta",(function(t,a){var n={};n[t]=a,e.setState(n,(function(){return localStorage.setItem(e.props.property,JSON.stringify(e.state))}))})),Object(E.a)(Object(q.a)(e),"onRevertChanges",Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.show("Revert changes?");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:e.props.onChange(e.originalValue);case 5:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"renderNumberPrecicionModal",(function(){var t=e.props,a=t.meta,n=t.value,r=e.state,o=r.step,c=r.min,l=r.max,i=.1*Math.abs(l-c),s=o+i,d=o-i<=i?o/2:o-i,p=I.a.isEqual(e.originalValue,n);return u.a.createElement("div",{className:"main"},e.renderMinMaxSlider(),u.a.createElement("div",{className:"row"},u.a.createElement(ie.a,{icon:["fas","backward"],className:"precision-icon",onClick:function(){return e.onChange(-3)}}),u.a.createElement(ie.a,{icon:["fas","angle-double-left"],className:"precision-icon",onClick:function(){return e.onChange(-1)}}),u.a.createElement(ie.a,{icon:["fas","angle-left"],className:"precision-icon",onClick:function(){return e.onChange(-.2)}}),u.a.createElement(ye,{min:null===a||void 0===a?void 0:a.min,max:null===a||void 0===a?void 0:a.max,precision:null===a||void 0===a?void 0:a.precision,value:n,onChange:e.props.onChange}),u.a.createElement(ie.a,{icon:["fas","angle-right"],className:"precision-icon",onClick:function(){return e.onChange(.2)}}),u.a.createElement(ie.a,{icon:["fas","angle-double-right"],className:"precision-icon",onClick:function(){return e.onChange(1)}}),u.a.createElement(ie.a,{icon:["fas","forward"],className:"precision-icon",onClick:function(){return e.onChange(3)}})),u.a.createElement("div",{className:"row"},u.a.createElement(Me,{onWheelStart:e.onWheelStart,onWheelMove:e.onWheelMove})),u.a.createElement("div",{className:"sensitivity-block"},u.a.createElement("div",{className:"step-label"},"Sensitivity"),u.a.createElement("div",{className:"row m-0"},u.a.createElement(je,{value:o,min:c,max:l,precision:null===a||void 0===a?void 0:a.precision,showLabel:!1,onChange:function(t){return e.onSetMeta("step",t)}})),u.a.createElement("div",{className:"row space"},u.a.createElement("div",{className:"limits"},"Min",u.a.createElement(ye,{value:c,draggable:!1,min:.01,onChange:function(t){return e.onSetMeta("min",Math.min(t,l))}})),u.a.createElement("div",{className:"step-input"},u.a.createElement(ie.a,{icon:["fas","backward"],className:"icon",onClick:function(){return e.onStepChange(d)}}),u.a.createElement(ye,{value:o,draggable:!1,onChange:e.onStepChange}),u.a.createElement(ie.a,{icon:["fas","forward"],className:"icon",onClick:function(){return e.onStepChange(s)}})),u.a.createElement("div",{className:"limits"},"Max",u.a.createElement(ye,{value:l,min:.01,draggable:!1,onChange:function(t){return e.onSetMeta("max",Math.max(c,t))}})))),u.a.createElement("button",{className:"btn btn-revert",disabled:p,onClick:e.onRevertChanges},"Revert Changes"))})),Object(E.a)(Object(q.a)(e),"renderColorPickerModal",(function(){var t=e.state,a=t.mode,r=t.step,c=t.negative,l=e.props,i=l.value,s=l.type,d=l.meta,p=e.getHsvColor(),m="btn ",v="btn ",b=I.a.isEqual(e.originalValue,i);switch(a){case ae.Rgb:m+="btn-primary",v+="btn-secondary";break;case ae.Hsv:m+="btn-secondary",v+="btn-primary"}return u.a.createElement("div",{className:"main color-picker"},u.a.createElement("div",{className:"row m-0"},s!==n.Color&&u.a.createElement("label",{className:"toggle-checkbox"},u.a.createElement("input",{type:"checkbox",checked:c,onChange:function(t){return e.onSetMeta("negative",t.target.checked)}}),u.a.createElement("span",{className:"toggle-label"},"Allow Negative Values")),u.a.createElement("div",{className:"btn-group"},u.a.createElement("button",{className:m,onClick:function(){return e.setState({mode:ae.Rgb})}},u.a.createElement(ie.a,{icon:["fas","circle"]})),u.a.createElement("button",{className:v,onClick:function(){return e.setState({mode:ae.Hsv})}},u.a.createElement(ie.a,{icon:["fas","square"]})))),u.a.createElement("div",{className:"row start space"},u.a.createElement("div",{className:"slider-wheel-rows"},u.a.createElement("div",{className:"slider-wheel-row"},u.a.createElement("div",{className:"slider-label"},"R:"),e.renderRgbInput("R")),u.a.createElement("div",{className:"slider-wheel-row"},u.a.createElement("div",{className:"slider-label"},"G:"),e.renderRgbInput("G")),u.a.createElement("div",{className:"slider-wheel-row"},u.a.createElement("div",{className:"slider-label"},"B:"),e.renderRgbInput("B")),!!(null===d||void 0===d?void 0:d.alpha)&&u.a.createElement("div",{className:"slider-wheel-row"},u.a.createElement("div",{className:"slider-label"},"A:"),e.renderRgbInput("A")),u.a.createElement("div",{className:"slider-wheel-row"},e.renderHsvInput(null===p||void 0===p?void 0:p.h,"h",3)),u.a.createElement("div",{className:"slider-wheel-row"},e.renderHsvInput(null===p||void 0===p?void 0:p.s,"s",.1,1e-4,1)),u.a.createElement("div",{className:"slider-wheel-row"},e.renderHsvInput(null===p||void 0===p?void 0:p.v,"v",.1,1e-4)),u.a.createElement("div",{className:"sensitivity-slider"},u.a.createElement("div",{className:"step-label"},"Sensitivity"),u.a.createElement("div",{className:"row m-0"},u.a.createElement(je,{value:r,min:.1,max:1,showLabel:!1,onChange:function(t){return e.onSetMeta("step",t)}})))),u.a.createElement("div",{className:"color-container"},u.a.createElement(ue,{value:i,parts:[te.Circle],type:s,widget:o.ColorPicker,mode:a,alpha:!!(null===d||void 0===d?void 0:d.alpha),onChange:e.props.onChange}),u.a.createElement("button",{className:"btn btn-revert",disabled:b,onClick:e.onRevertChanges},"Revert Changes"))))})),Object(E.a)(Object(q.a)(e),"renderPrecisionModalContent",(function(){switch(e.props.widget){case o.ColorPicker:case o.MiniColorPicker:return e.renderColorPickerModal();default:return e.renderNumberPrecicionModal()}})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.widget,a=e.value;document.addEventListener("keydown",this.onKeyPress);var n={max:10};t===o.ColorPicker&&(n.max=1),this.originalValue=a;try{var r=JSON.parse(localStorage.getItem(this.props.property));for(var c in this.state)r[c]&&(n[c]=r[c])}catch(l){}this.setState(n)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props.label;return u.a.createElement("div",{className:"fullscreen precision",onClick:this.onCancel},u.a.createElement("div",{className:"precision-modal",onClick:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"close-modal",onClick:this.onCancel},u.a.createElement(ie.a,{icon:["fas","times"]})),u.a.createElement("div",{className:"label"},u.a.createElement("p",null,e)),this.renderPrecisionModalContent()))}}]),a}(u.a.Component),Xe=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{name:""}),Object(E.a)(Object(q.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(E.a)(Object(q.a)(e),"onChange",(function(t){var a=t.target.value;e.setState({name:a})})),Object(E.a)(Object(q.a)(e),"onOK",(function(){var t=e.state.name;e.props.close(t)})),Object(E.a)(Object(q.a)(e),"onCancel",(function(){e.props.close()})),Object(E.a)(Object(q.a)(e),"onKeyDown",(function(t){switch(t.key){case"Enter":return e.onOK();case"Escape":return e.onCancel()}})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress);var e=this.props.name;this.setState({name:e})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.close,a=e.placeholder,n=this.state.name;return u.a.createElement("div",{className:"fullscreen",onPointerDown:this.onCancel},u.a.createElement("div",{className:"rename-modal",onPointerDown:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"close-modal",onClick:this.onCancel},u.a.createElement(ie.a,{icon:["fas","times"]})),u.a.createElement("input",{value:null!==n&&void 0!==n?n:"",placeholder:a,onChange:this.onChange,autoFocus:!0,onKeyDown:this.onKeyDown,autoComplete:"off",dir:"auto"}),u.a.createElement("div",{className:"buttons-wrapper"},u.a.createElement("button",{className:"btn btn-secondary",onClick:this.onCancel},"Cancel"),u.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return t(n)}},"Rename"))))}}],[{key:"rename",value:function(e,t){var n;null===(n=a.pending)||void 0===n||n.call(a,void 0),a.pending=void 0;var r=document.createElement("div");return document.getElementById("modal").prepend(r),new Promise((function(n){a.pending=n,p.a.render(u.a.createElement(a,{name:e,placeholder:t,close:n}),r)})).finally((function(){p.a.unmountComponentAtNode(r)&&r.parentNode&&r.parentNode.removeChild(r)}))}}]),a}(u.a.Component);Object(E.a)(Xe,"pending",void 0);var ze,qe=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{search:"",assets:[],loading:!1}),Object(E.a)(Object(q.a)(e),"fetchAssets",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.search,n=e.props,r=n.types,o=n.prefix,c=n.count,e.setState({loading:!0}),t.next=5,F.assets.search(a,r,o,{},c);case 5:l=t.sent,e.setState({assets:l,loading:!1});case 7:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"fetchAssetsDebounced",I.a.debounce(e.fetchAssets,200)),Object(E.a)(Object(q.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(E.a)(Object(q.a)(e),"onOK",(function(){e.props.close()})),Object(E.a)(Object(q.a)(e),"onCancel",(function(){e.props.close()})),Object(E.a)(Object(q.a)(e),"onKeyDown",(function(t){switch(t.key){case"Enter":return e.onOK();case"Escape":return e.onCancel()}})),Object(E.a)(Object(q.a)(e),"onSearch",(function(t){e.setState({search:t}),e.fetchAssetsDebounced()})),Object(E.a)(Object(q.a)(e),"renderAssetItem",(function(t,a){var n=e.props.fallback,r=F.assets.thumbnailUrl(t.Path);return u.a.createElement("div",{className:"search-item",key:a,onClick:function(){return e.props.close(t)}},u.a.createElement("div",{className:"image"},u.a.createElement(Oe,{src:r,fallback:null!==n&&void 0!==n?n:"/images/assets/Asset.png",alt:t.Name,className:"box-image"})),u.a.createElement("div",{className:"title",title:t.Name},t.Name),u.a.createElement("div",{className:"path",title:t.Path},t.Path))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress),this.fetchAssets()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this,t=this.props.placeholder,a=this.state,n=a.search,r=a.assets,o=a.loading;return u.a.createElement("div",{className:"fullscreen",onPointerDown:this.onCancel},u.a.createElement("div",{className:"search-modal",onPointerDown:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"close-modal",onClick:this.onCancel},u.a.createElement(ie.a,{icon:["fas","times"]})),u.a.createElement("div",{className:"search-wrapper"},u.a.createElement(ie.a,{icon:["fas","search"]}),u.a.createElement("input",{value:n,className:"icon-search search-input",placeholder:t,onChange:function(t){return e.onSearch(t.target.value)},autoFocus:!0,autoComplete:"off"}),n&&u.a.createElement(ie.a,{icon:["fas","times-circle"],className:"reset-search-icon",onClick:function(){return e.setState({search:""})}})),u.a.createElement("div",{className:"search-content"},o&&u.a.createElement("div",{className:"content-placeholder"},"Searching",u.a.createElement(ie.a,{icon:["fas","sync-alt"],spin:!0,className:"loader-icon"})),!o&&!r.length&&u.a.createElement("div",{className:"content-placeholder"},"No Data"),r.map(this.renderAssetItem))))}}],[{key:"open",value:function(e){var t;null===(t=a.pending)||void 0===t||t.call(a,void 0),a.pending=void 0;var n=document.createElement("div");return document.getElementById("modal").prepend(n),new Promise((function(t){a.pending=t,p.a.render(u.a.createElement(a,Object.assign({},e,{close:t})),n)})).finally((function(){p.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}))}}]),a}(u.a.Component);Object(E.a)(qe,"pending",void 0);var Je,Ze="TEMP_ID",$e=Object(m.b)((function(e,t){return{payload:e.api.payload,preset:e.api.presets[e.api.preset]}}))(ze=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return e=t.call.apply(t,[this].concat(l)),Object(E.a)(Object(q.a)(e),"state",{selection:{},draggingId:null,templates:{}}),Object(E.a)(Object(q.a)(e),"dropIndex",-1),Object(E.a)(Object(q.a)(e),"root",null),Object(E.a)(Object(q.a)(e),"scrollY",null),Object(E.a)(Object(q.a)(e),"isIos",!1),Object(E.a)(Object(q.a)(e),"getLabel",(function(t){if(!t)return null;var a,n=e.props.preset,r=null===n||void 0===n?void 0:n.Exposed[t.property];return r?t.label||(null===(a=r.Metadata)||void 0===a?void 0:a.Description)||r.DisplayName:(console.log(r),u.a.createElement("div",{className:"unbound-property"},u.a.createElement(ie.a,{icon:["fas","exclamation-circle"]}),u.a.createElement("span",null,"Unbound Property")))})),Object(E.a)(Object(q.a)(e),"getPropertyValue",(function(t){if(t)return e.props.payload[t]})),Object(E.a)(Object(q.a)(e),"getValue",(function(t){return e.getPropertyValue(null===t||void 0===t?void 0:t.property)})),Object(E.a)(Object(q.a)(e),"onPropertyValueChange",function(){var t=Object(O.a)(h.a.mark((function t(a,r){var o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.props.preset,(null===a||void 0===a?void 0:a.property)&&(null===o||void 0===o?void 0:o.Exposed[a.property])){t.next=3;break}return t.abrupt("return");case 3:if(a.propertyType!==n.Function){t.next=5;break}return t.abrupt("return",F.payload.execute(a.property,a.args));case 5:if(t.t0=void 0===r,!t.t0){t.next=10;break}return t.next=9,He.show("Reset to default?");case 9:t.t0=!t.sent;case 10:if(!t.t0){t.next=12;break}return t.abrupt("return");case 12:F.payload.set(a.property,r);case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onThrottledPropertyValueChange",I.a.throttle((function(t,a){return e.onPropertyValueChange(t,a)}),100)),Object(E.a)(Object(q.a)(e),"onDragChange",(function(t){e.props.dragging||e.setState({draggingId:t})})),Object(E.a)(Object(q.a)(e),"onSelect",(function(t,a){var n=Object(g.a)({},e.state.selection);n[t]=a,e.setState({selection:n})})),Object(E.a)(Object(q.a)(e),"onPointerEnter",(function(t){var a=t.split("_"),n=Object(z.a)(a,2),r=n[0],o=n[1],c=e.state,l=c.selection,i=c.draggingId;e.props.dragging&&"NAVIGATION"!==I.a.first(null===i||void 0===i?void 0:i.split("_"))&&l[r]!==o&&(l[r]=o,e.setState({selection:l}))})),Object(E.a)(Object(q.a)(e),"getMetadata",(function(e,t){var a,n=null===e||void 0===e||null===(a=e.Metadata)||void 0===a?void 0:a[t];if(void 0!==n){var r=parseFloat(n);if(!isNaN(r))return r}})),Object(E.a)(Object(q.a)(e),"getWidgetMetadata",(function(t){var a=e.props.preset.Exposed[t.property],r=null===a||void 0===a?void 0:a.Type,o=se.getPropertyPrecision(r),c=!!e.getMetadata(a,"Alpha"),l=!!e.getMetadata(a,"Proportionally"),i=e.getMetadata(a,"Min"),s=e.getMetadata(a,"Max");return r===n.Rotator&&(void 0===i&&(i=-180),void 0===s&&(s=180)),{type:r,min:i,max:s,precision:o,alpha:c,proportionally:l}})),Object(E.a)(Object(q.a)(e),"getAlpha",(function(t){var a,n=null===(a=e.props.preset.Exposed[t])||void 0===a?void 0:a.Metadata;return"1"===(null===n||void 0===n?void 0:n.Alpha)})),Object(E.a)(Object(q.a)(e),"renderPrecisionModal",(function(){var t,a=e.state.precisionModal;if(!(null===a||void 0===a?void 0:a.widget)||!(null===(t=a.widget)||void 0===t?void 0:t.property))return null;var r=e.props.preset,o=a.widget,c=a.property;if(!(null===r||void 0===r?void 0:r.Exposed[o.property]))return null;var l,i=e.getWidgetMetadata(o),s=e.getLabel(o),d=o.propertyType,p=e.getValue(o);switch(d){case n.Rotator:case n.Vector:p=p[c],l=function(t){return e.onPropertyAxisValueChange(o,c,t)};break;default:l=function(t){return e.onThrottledPropertyValueChange(o,t)}}return u.a.createElement(Ye,{meta:i,widget:o.widget,property:o.property,label:s,type:d,value:p,onChange:l,onMetadataChange:function(t,a){return e.onMetadataChange(o.property,t,a)},onClose:function(){return e.setState({precisionModal:null})}})})),Object(E.a)(Object(q.a)(e),"getWidgetId",(function(e,t){return e.id?"".concat(e.id,"_WIDGET"):Ze+t})),Object(E.a)(Object(q.a)(e),"renderSlider",(function(t,a,n){var r=e.getWidgetId(t,a),o=e.getWidgetMetadata(t),c="".concat(n,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{key:r,draggableId:r,index:a,className:"slider",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},u.a.createElement(We,{value:e.getValue(t),min:o.min,max:o.max,precision:o.precision,label:e.getLabel(t),onPrecisionModal:function(){return e.setState({precisionModal:{widget:t}})},onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}}))})),Object(E.a)(Object(q.a)(e),"renderSliders",(function(t,a,n){var r=e.getWidgetId(t,a),o=e.getWidgetMetadata(t),c="".concat(n,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{key:r,draggableId:r,className:"sliders",index:a,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},u.a.createElement(Ve,{widget:t,label:e.getLabel(t),min:o.min,max:o.max,proportionally:o.proportionally,value:e.getValue(t),onChange:e.onPropertyAxisValueChange,onPrecisionModal:function(a){return e.setState({precisionModal:{widget:t,property:a}})},onProportionallyToggle:e.onProportionallyToggle}))})),Object(E.a)(Object(q.a)(e),"renderColorPickerList",(function(t,a,n){var r=e.props,c=r.droppable,l=r.selected,i=r.editable,s=r.dragging,d="".concat(n,"_").concat(a,"_").concat(o.ColorPickerList),p="".concat(t.id,"_").concat(o.ColorPickerList)||Ze,m=e.props.getDroppableId(t.id,"".concat(n,"[").concat(a,"]items"),[o.ColorPicker,o.MiniColorPicker],"COLORS_LIST")||Ze,v=c!==m;return u.a.createElement(at,{draggableId:p,index:a,className:"color-pickers-list",onSelect:e.props.onSelected.bind(Object(q.a)(e),d),selected:e.props.selected===d,key:p,isDragDisabled:!i},u.a.createElement(nt,{key:m,droppableId:m,className:"multiline-widget-wrapper",isDropDisabled:v},u.a.createElement(me,{list:t,path:"".concat(n,"[").concat(a,"]items"),selection:l,dragging:s,isDragDisabled:!i,onSelect:e.props.onSelected,getPropertyValue:e.getPropertyValue,getPropertyLabel:e.getLabel,getAlpha:e.getAlpha,onChange:e.onThrottledPropertyValueChange,onPrecisionModal:function(t){return e.setState({precisionModal:{widget:t}})}})))})),Object(E.a)(Object(q.a)(e),"renderColorList",(function(t,a,n){var r,o,c=e.props,l=c.droppable,i=c.preset,s=I.a.first(t);if(!s)return null;var d=i.Exposed[s.property],p=null!==(r=null===d||void 0===d||null===(o=d.Metadata)||void 0===o?void 0:o.Widget)&&void 0!==r?r:s.widget,m=e.props.getDroppableId(s.id,n,[p],"COLOR_LIST")||Ze,v=l!==m;return u.a.createElement(at,{draggableId:s.id||Ze,index:a,isDragDisabled:!0,className:"colors-list",key:s.id||Ze},u.a.createElement(nt,{key:m,droppableId:m,direction:"horizontal",className:"multiline-widget-wrapper",type:p,isDropDisabled:v},t.map((function(t,r){var o,c,l="".concat(t.id,"_").concat(p)||Ze,i=e.getValue(t),s="".concat(n,"_").concat(r+a,"_").concat(t.property);return u.a.createElement(at,{key:l,draggableId:l,index:r+a,className:"color",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),s),selected:e.props.selected===s,isDragDisabled:!e.props.editable},u.a.createElement(ue,{value:i,label:e.getLabel(t),type:t.propertyType,alpha:e.getAlpha(t.property),widget:null!==(o=null===d||void 0===d||null===(c=d.Metadata)||void 0===c?void 0:c.Widget)&&void 0!==o?o:t.widget,onChange:function(a){return e.onThrottledPropertyValueChange(t,a)},onPrecisionModal:function(){return e.setState({precisionModal:{widget:t}})}}))}))))})),Object(E.a)(Object(q.a)(e),"renderTabs",(function(t,a,n){var r=e.props.droppable,c=Object(g.a)({},e.state.selection),l=t.tabs.map((function(e){return{value:e.id,label:e.label}})),i=I.a.first(t.tabs),s=c[t.id],d=I.a.find(t.tabs,["id",s]);d||(s=null===i||void 0===i?void 0:i.id,d=i);var p=e.getWidgetId(t,a);return e.props.getDroppableId(t.id,"".concat(n,"[").concat(a,"]"),[],"TABS"),u.a.createElement(at,{draggableId:p,key:p,index:a,onSelect:e.props.onSelected.bind(Object(q.a)(e),"".concat(n,"_").concat(a,"_PROPERTY")),selected:e.props.selected==="".concat(n,"_").concat(a,"_PROPERTY"),className:"tab-group",isDragDisabled:!0},u.a.createElement(_e,{options:l,onSelect:function(a){return e.onSelect(t.id,a)},prefix:t.id,value:s}),u.a.createElement("div",{style:{width:"100%",position:"relative"}},t.tabs.map((function(t,c){var l=e.props.getDroppableId(t.id,"".concat(n,"[").concat(a,"]tabs[").concat(c,"]widgets"),["WIDGET",o.Dial,o.Button,o.Toggle,o.ColorPicker,o.MiniColorPicker,o.ColorPickerList,o.Label,o.Spacer],o.Tabs),i=!1,s="droppable-list ";return t.id===d.id||(s+="hidden"),r!==l&&(i=!0),u.a.createElement(nt,{key:l,droppableId:l,className:s,isDropDisabled:i},e.renderWidgets(t.widgets,"".concat(n,"[").concat(a,"]tabs[").concat(c,"]widgets")))}))))})),Object(E.a)(Object(q.a)(e),"renderListItemContent",(function(t,a,n){var r,c=e.props,l=c.droppable,i=c.editable,s="[0]items[".concat(a,"]panels"),d=e.props.getDroppableId(t.id,s,["WIDGET","PANEL",o.Button,o.Toggle,o.ColorPicker,o.MiniColorPicker,o.Tabs,o.Dial,o.Label,o.Spacer,o.ColorPickerList,o.Dropdown],"LIST"),p=!1,m="droppable-root ";return n||(m+="hidden "),l!==d&&(p=!0),i?u.a.createElement(nt,{droppableId:d,key:t.id,className:m,isDropDisabled:p},null===(r=t.panels)||void 0===r?void 0:r.map((function(t,a){return e.renderPanel(s,t,a)}))):u.a.createElement(rt,{droppableId:d,data:t.panels,className:m,isDropDisabled:p,itemContent:function(t,a){return e.renderPanel("",a,t)}})})),Object(E.a)(Object(q.a)(e),"renderList",(function(t){var a,n=e.props.editable,r=Object(g.a)({},e.state.selection),o=t.id,c=I.a.first(null===t||void 0===t?void 0:t.items),l=r[t.id],i=I.a.find(t.items,["id",l]);i||(l=null===c||void 0===c?void 0:c.id,i=c);return e.props.getDroppableId(o,"0",[],"LIST"),u.a.createElement(at,{key:o,draggableId:o,index:0,className:"navigation-list",onSelect:e.props.onSelected.bind(Object(q.a)(e),"_0"),selected:"_0"===e.props.selected,isDragDisabled:!0},u.a.createElement("div",{className:"navigation"},null===(a=t.items)||void 0===a?void 0:a.map((function(a,n){var o=a.id;return u.a.createElement("div",{className:"navigation-row","data-prefix":t.id,"data-value":o,key:o},u.a.createElement("button",{className:"navigation-btn ".concat(l===a.id?"selected":""),onClick:function(){return n=a.id,r[t.id]=n,void e.setState({selection:r});var n}},u.a.createElement("p",null,a.label)))}))),u.a.createElement("div",{className:"navigation-list-panels"},n&&t.items.map((function(t,a){return e.renderListItemContent(t,a,t.id===i.id)})),!n&&e.renderListItemContent(i,0,!0)))})),Object(E.a)(Object(q.a)(e),"renderDropdown",(function(t,a,n){var r,o,c,l,i=e.getWidgetId(t,a),s=e.props.preset.Exposed[t.property],d=null!==(r=null===s||void 0===s||null===(o=s.UnderlyingProperty)||void 0===o||null===(c=o.Metadata)||void 0===c||null===(l=c.EnumValues)||void 0===l?void 0:l.split(",").map((function(e){return e.trim()})))&&void 0!==r?r:[],p="".concat(n,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{draggableId:i,index:a,key:i,className:"dropdown",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),p),selected:e.props.selected===p,isDragDisabled:!e.props.editable},u.a.createElement(Ae,{options:d,value:e.getValue(t),label:e.getLabel(t),onChange:function(a){return e.onPropertyValueChange(t,a)}}))})),Object(E.a)(Object(q.a)(e),"renderSpacerWidget",(function(t,a,n){var r=e.getWidgetId(t,a),o=10*((null===t||void 0===t?void 0:t.spaces)||1)+"px",c="".concat(n,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{draggableId:r,index:a,key:r,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},u.a.createElement("div",{style:{height:o}}))})),Object(E.a)(Object(q.a)(e),"renderImageSelector",(function(t,a,n){var r=e.getWidgetId(t,a);return u.a.createElement(at,{key:r,draggableId:r,index:a,className:"image-selector",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),"".concat(n,"_").concat(a)),selected:e.props.selected==="".concat(n,"_").concat(a),isDragDisabled:!e.props.editable},u.a.createElement(Le,{widget:t,value:e.getValue(t),onChange:e.onPropertyValueChange}))})),Object(E.a)(Object(q.a)(e),"renderToggleWidgets",(function(t,a,n){var r=e.props.droppable,c=I.a.first(t);if(!c.id)return null;var l="".concat(o.Toggle,"_").concat(c.id),i=e.props.getDroppableId(c.id,n,[o.Toggle],"TOGGLES"),s=!1;return r!==i&&(s=!0),u.a.createElement(at,{key:l,draggableId:l,index:a,className:"toggles-list",isDragDisabled:!0},u.a.createElement(nt,{droppableId:i,direction:"horizontal",className:"multiline-widget-wrapper",type:o.Toggle,isDropDisabled:s},t.map((function(t,r){var c="".concat(t.id,"_").concat(o.Toggle),l="".concat(n,"_").concat(a+r,"_").concat(t.property);return u.a.createElement(at,{key:c+r,draggableId:c,index:a+r,className:"toggle",onSelect:e.props.onSelected.bind(Object(q.a)(e),l),selected:e.props.selected===l,isDragDisabled:!e.props.editable},u.a.createElement(Ue,{widget:t,checked:!!e.getValue(t),label:e.getLabel(t),onChange:e.onPropertyValueChange}))}))))})),Object(E.a)(Object(q.a)(e),"renderLabel",(function(t,a,n){var r=e.getWidgetId(t,a),o="".concat(n,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{key:r,draggableId:r,index:a,className:"label",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),o),selected:e.props.selected===o,isDragDisabled:!e.props.editable},t.label)})),Object(E.a)(Object(q.a)(e),"renderTextWidget",(function(t,a,n){var r=e.onPropertyValueChange.bind(Object(q.a)(e),t),o=e.getWidgetId(t,a),c="".concat(n,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{className:"slider-row text-row",key:o,index:a,draggableId:o,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},u.a.createElement("div",{className:"title"},e.getLabel(t)),u.a.createElement(Ne,{value:e.getValue(t),onChange:r}),u.a.createElement(ie.a,{icon:["fas","undo"],onClick:r}))})),Object(E.a)(Object(q.a)(e),"renderAssetWidget",(function(t,a,n){var r,o=e.props.preset,c=e.getWidgetId(t,a),l="".concat(n,"_").concat(a,"_").concat(t.property),i=null===o||void 0===o?void 0:o.Exposed[t.property];return u.a.createElement(at,{className:"asset-row",key:c,index:a,draggableId:c,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),l),selected:e.props.selected===l,isDragDisabled:!e.props.editable},u.a.createElement(Re,{label:e.getLabel(t),value:e.getValue(t),type:null!==(r=null===i||void 0===i?void 0:i.Type)&&void 0!==r?r:"Object",typePath:null===i||void 0===i?void 0:i.TypePath,onChange:function(a){return e.onPropertyValueChange(t,a)},browse:!0}))})),Object(E.a)(Object(q.a)(e),"renderDialsWidget",(function(t,a,r){var o=e.getWidgetId(t,a),c="".concat(r,"_").concat(a,"_").concat(t.property),l=t.propertyType===n.Rotator,i=e.getWidgetMetadata(t),s=i.min,d=i.max,p=i.proportionally,m=de.Endless;return void 0!==s&&void 0!==d&&(m=de.Range),l&&(m=de.Rotation),u.a.createElement(at,{key:o,draggableId:o,index:a,className:"vector-dials",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},u.a.createElement(ge,{type:t.propertyType,min:s,max:d,proportionally:p,property:t.property,mode:m,hidePrecision:!0,properties:null===t||void 0===t?void 0:t.widgets,value:e.getValue(t),label:e.getLabel(t),onChange:function(a){return e.onThrottledPropertyValueChange(t,a)},onProportionallyToggle:e.onProportionallyToggle}))})),Object(E.a)(Object(q.a)(e),"renderDialWidgets",(function(t,a,n){var r=e.props.droppable,c=I.a.first(t);if(!(null===c||void 0===c?void 0:c.id))return null;var l="".concat(o.Dial,"_").concat(c.id),i=e.props.getDroppableId(c.id,n,[o.Dial],"DIALS"),s=!1;return r!==i&&(s=!0),u.a.createElement(at,{key:l,draggableId:l,index:a,className:"dials-list",isDragDisabled:!0},u.a.createElement(nt,{droppableId:i,direction:"horizontal",className:"multiline-widget-wrapper",type:o.Dial,isDropDisabled:s},t.map((function(t,r){var c="".concat(t.id,"_").concat(o.Dial),l=e.getWidgetMetadata(t),i=void 0!==l.min&&void 0!==l.max?de.Range:de.Endless,s="".concat(n,"_").concat(a+r,"_").concat(t.property);return u.a.createElement(at,{key:c+r,draggableId:c,index:a+r,className:"dial",onSelect:e.props.onSelected.bind(Object(q.a)(e),s),selected:e.props.selected===s,isDragDisabled:!e.props.editable},u.a.createElement(ve,{value:e.getValue(t),label:e.getLabel(t),onChange:function(a){return e.onThrottledPropertyValueChange(t,a)},min:l.min,max:l.max,mode:i,onPrecisionModal:function(){return e.setState({precisionModal:{widget:t}})}}))}))))})),Object(E.a)(Object(q.a)(e),"onPropertyAxisValueChange",(function(t,a,n,r,o,c){var l,i=null!==(l=Object(g.a)({},e.getValue(t)))&&void 0!==l?l:{};if(void 0===a||void 0===n)return e.onPropertyValueChange(t);var s=i[a];0!==s&&void 0!==s||(s=1);var u=Math.max(.001,n)/s;if(r&&!isNaN(u))for(var d=0,p=Object.keys(i);d<p.length;d++){var m=p[d],v=i[m]*u;isNaN(o)||isNaN(c)||(v=Math.min(c,Math.max(o,v))),i[m]=v}else i[a]=n;e.onThrottledPropertyValueChange(t,i)})),Object(E.a)(Object(q.a)(e),"onToggleVectorDrawer",(function(t){var a;(null===(a=e.props.vector)||void 0===a?void 0:a.id)===t.id&&(t=null),e.props.onSetVectorDrawer(t)})),Object(E.a)(Object(q.a)(e),"onMetadataChange",(function(e,t,a){F.payload.metadata(e,t,a)})),Object(E.a)(Object(q.a)(e),"onProportionallyToggle",(function(t,a){e.onMetadataChange(t,"Proportionally",a)})),Object(E.a)(Object(q.a)(e),"renderVectorWidget",(function(t,a,n){var r=e.props.vector,o=e.getWidgetId(t,a),c=e.getWidgetMetadata(t),l="".concat(n,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{key:o,draggableId:o,index:a,className:"vector",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),l),selected:e.props.selected===l,isDragDisabled:!e.props.editable},u.a.createElement(Be,{widget:t,label:e.getLabel(t),value:e.getValue(t),vector:r,min:c.min,max:c.max,proportionally:c.proportionally,onAxisChange:e.onPropertyAxisValueChange,onToggleVectorDrawer:e.onToggleVectorDrawer,onSetVector:e.props.onSetVectorDrawer,onProportionallyToggle:e.onProportionallyToggle}))})),Object(E.a)(Object(q.a)(e),"renderButtonWidgets",(function(t,a,n){var r=e.props.droppable,c=I.a.first(t);if(!c.id)return null;var l="".concat(o.Button,"_").concat(c.id),i=e.props.getDroppableId(c.id,n,[o.Button],"BUTTONS"),s=!1;return r!==i&&(s=!0),u.a.createElement(at,{key:l,draggableId:l,index:a,className:"buttons-list",isDragDisabled:!0},u.a.createElement(nt,{droppableId:i,direction:"horizontal",className:"multiline-widget-wrapper",type:o.Button,isDropDisabled:s},t.map((function(t,r){var c="".concat(t.id,"_").concat(o.Button),l="".concat(n,"_").concat(a+r,"_").concat(t.property);return u.a.createElement(at,{key:c+r,draggableId:c,index:a+r,className:"btn-wrapper",onSelect:e.props.onSelected.bind(Object(q.a)(e),l),selected:e.props.selected===l,isDragDisabled:!e.props.editable},u.a.createElement(le,{label:e.getLabel(t),onExecute:function(){return e.onPropertyValueChange(t)}}))}))))})),Object(E.a)(Object(q.a)(e),"renderJoysticks",(function(t,a,r){var o=e.getWidgetId(t,a),c=se.getPropertyKeys(null===t||void 0===t?void 0:t.propertyType),l=e.getWidgetMetadata(t),i="".concat(r,"_").concat(a,"_").concat(t.property);return u.a.createElement(at,{key:o,index:a,draggableId:o,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(q.a)(e),i),selected:e.props.selected===i,isDragDisabled:!e.props.editable,className:"joystick-group"},u.a.createElement("div",{className:"joystick-group"},u.a.createElement(he,{type:n.Vector,keys:c,value:e.getValue(t),min:l.min,max:l.max,label:e.getLabel(t),onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}})))})),Object(E.a)(Object(q.a)(e),"getInlineWidgets",(function(t,a,n,r,o){for(var c=[],l=0;l<o&&e.getWidgetType(a[r])===n;l++){var i="".concat(r,"_").concat(a[r].id);t.push(u.a.createElement(at,{key:i,draggableId:i,index:r})),c.push(a[r++])}return c})),Object(E.a)(Object(q.a)(e),"getWidgetType",(function(t){var a,n=e.props.preset,r=null===n||void 0===n?void 0:n.Exposed[null===t||void 0===t?void 0:t.property];return(null===r||void 0===r||null===(a=r.Metadata)||void 0===a?void 0:a.Widget)||(null===t||void 0===t?void 0:t.widget)})),Object(E.a)(Object(q.a)(e),"renderWidgets",(function(t,a){for(var n=[],r=null,c=[],l=0;l<t.length;l++){var i=t[l],s=e.getWidgetType(i);i.widget=s;var d=null;switch(s){case o.Tabs:d=e.renderTabs(t[l],l,a);break;case o.Sliders:d=e.renderSliders(i,l,a);break;case o.ImageSelector:d=e.renderImageSelector(i,l,a);break;case o.Spacer:d=e.renderSpacerWidget(i,l,a);break;case o.Joystick:d=e.renderJoysticks(i,l,a);break;case o.Dropdown:d=e.renderDropdown(i,l,a);break;case o.Label:d=e.renderLabel(i,l,a);break;case o.Slider:d=e.renderSlider(i,l,a);break;case o.Text:d=e.renderTextWidget(i,l,a);break;case o.Vector:d=e.renderVectorWidget(i,l,a);break;case o.Dials:d=e.renderDialsWidget(i,l,a);break;case o.Asset:d=e.renderAssetWidget(i,l,a);break;case o.Dial:r=l,c=e.getInlineWidgets(n,t,o.Dial,l,3),l+=Math.max(c.length-1,0),n.push(e.renderDialWidgets(c,r,a));break;case o.Toggle:r=l,c=e.getInlineWidgets(n,t,o.Toggle,l,4),l+=Math.max(c.length-1,0),n.push(e.renderToggleWidgets(c,r,a));break;case o.Button:r=l,c=e.getInlineWidgets(n,t,o.Button,l,4),l+=Math.max(c.length-1,0),n.push(e.renderButtonWidgets(c,r,a));break;case o.ColorPicker:r=l,c=e.getInlineWidgets(n,t,o.ColorPicker,l,3),l+=Math.max(c.length-1,0),n.push(e.renderColorList(c,r,a));break;case o.MiniColorPicker:r=l,c=e.getInlineWidgets(n,t,o.MiniColorPicker,l,3),l+=Math.max(c.length-1,0),n.push(e.renderColorList(c,r,a));break;case o.ColorPickerList:n.push(e.renderColorPickerList(t[l],l,a));break;default:d=u.a.createElement(at,{draggableId:l.toString(),key:l,index:l,isDragDisabled:!0})}n.push(d)}return n})),Object(E.a)(Object(q.a)(e),"getPanelProperties",(function(e){var t,a,n=[],r=Object(X.a)(e.widgets||[]);try{for(r.s();!(a=r.n()).done;){var c=a.value,l=c;switch(c.widget){case o.Tabs:var i,s=c,u=Object(X.a)(s.tabs||[]);try{for(u.s();!(i=u.n()).done;){i.value.widgets.map((function(e){return n.push(e.property)}))}}catch(b){u.e(b)}finally{u.f()}break;case o.ColorPickerList:var d,p=c,m=Object(X.a)(null!==(t=p.items)&&void 0!==t?t:[]);try{for(m.s();!(d=m.n()).done;){var v=d.value;n.push(v.property)}}catch(b){m.e(b)}finally{m.f()}break;default:n.push(l.property)}}}catch(b){r.e(b)}finally{r.f()}return I.a.compact(n)})),Object(E.a)(Object(q.a)(e),"onRefreshPanelOptions",function(){var t=Object(O.a)(h.a.mark((function t(a){var n,r,o,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.preset,(r=e.getPanelProperties(a)).length){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,F.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","FindMatchingActorsToRebind",{PresetId:n.ID,PropertyIds:r});case 6:return o=t.sent,t.next=9,F.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","GetOwnerActorLabel",{PresetId:n.ID,PropertyIds:r});case 9:c=t.sent,(l=Object(g.a)({},e.state.templates))[a.id]={matching:o,selected:c},e.setState({templates:l}),sessionStorage.setItem("templates",JSON.stringify(l));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onRebindActor",(function(t,a){var n=Object(g.a)({},e.state.templates),r=n[t.id];if(r){var o=r.matching[a];if(o){var c=e.getPanelProperties(t);F.payload.rebind(c,o),r.selected=a,e.setState({templates:n}),sessionStorage.setItem("templates",JSON.stringify(n))}}})),Object(E.a)(Object(q.a)(e),"renderPanel",(function(t,a,n){var r=e.props,l=r.editable,i=r.droppable;if(!a.id)return null;switch(a.type){case c.Panel:var s="".concat(a.id,"_PANEL"),d="".concat(t,"[").concat(n,"]widgets"),p=e.props.getDroppableId(s,d,["WIDGET",o.Button,o.Toggle,o.ColorPicker,o.MiniColorPicker,o.ColorPickerList,o.Tabs,o.Dial,o.Dials,o.Label,o.Spacer,o.Dropdown],"PANEL"),m=!1;i!==p&&(m=!0);var v=e.state.templates[a.id];return u.a.createElement(at,{draggableId:s,key:s,index:n,className:"draggable-panel",onSelect:e.props.onSelected.bind(Object(q.a)(e),"".concat(t,"_").concat(n)),selected:"".concat(e.props.selected)==="".concat(t,"_").concat(n),isDragDisabled:!l},u.a.createElement(nt,{droppableId:p,className:"droppable-panel ".concat((null===a||void 0===a?void 0:a.title)||(null===a||void 0===a?void 0:a.isTemplate)?"has-title":""),isDropDisabled:m},!!(null===a||void 0===a?void 0:a.title)&&u.a.createElement("div",{className:"title"},a.title),!!a.isTemplate&&u.a.createElement("div",{className:"title template-property-select-wrapper"},u.a.createElement("div",{className:"template-property-select-inner-wrapper"},u.a.createElement("select",{className:"dropdown template-property-select",tabIndex:-1,onFocus:e.isIos?null:function(){return e.onRefreshPanelOptions(a)},value:(null===v||void 0===v?void 0:v.selected)?null===v||void 0===v?void 0:v.selected:void 0,onChange:function(t){return e.onRebindActor(a,t.target.value)}},Object.keys((null===v||void 0===v?void 0:v.matching)?null===v||void 0===v?void 0:v.matching:{"Click to Select Actor":""}).map((function(e){return u.a.createElement("option",{key:e,value:e},e)})))),e.isIos&&u.a.createElement("button",{onClick:function(){return e.onRefreshPanelOptions(a)}},u.a.createElement(ie.a,{icon:["fas","sync-alt"]}))),e.renderWidgets(a.widgets,d)));case c.List:return e.renderList(a);default:return null}})),Object(E.a)(Object(q.a)(e),"renderVectorDrawer",(function(){var t=e.props.vector;if(!t)return null;var a=e.getWidgetMetadata(t);return a.type?u.a.createElement(Te,{widget:t,label:e.getLabel(t),value:e.getValue(t),min:a.min,max:a.max,onClose:e.props.onSetVectorDrawer,onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}}):null})),Object(E.a)(Object(q.a)(e),"renderRootList",(function(){var t,a=e.props,n=a.editable,r=a.droppable,o=a.panels,l=void 0===o?[]:o,i=a.tabKey,s=(null===(t=l[0])||void 0===t?void 0:t.type)===c.List,d=e.props.getDroppableId("".concat(i,"_ROOT"),"",["ALL"],"ROOT"),p=!1;return(r!==d||s)&&(p=!0),n?u.a.createElement(nt,{droppableId:d,className:"droppable-root",isDropDisabled:p},null===l||void 0===l?void 0:l.map((function(t,a){return e.renderPanel("",t,a)}))):u.a.createElement(rt,{droppableId:d,data:l,className:"droppable-root",isDropDisabled:p,itemContent:function(t,a){return e.renderPanel("",a,t)}})})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.root=document.querySelector(".droppable-root"),this.isIos=/iPad|iPhone|iPod/.test(navigator.platform),this.root.ontouchmove=function(t){var a=t.touches,n=a[0];2===a.length&&(e.scrollY||(e.scrollY=n.pageY+e.root.scrollTop),e.root.scrollTo(0,e.scrollY-n.pageY))},this.root.ongesturechange=function(e){return e.preventDefault()},this.root.ongestureend=function(t){t.preventDefault(),e.scrollY=null};try{var t=JSON.parse(sessionStorage.getItem("templates"));t&&this.setState({templates:t})}catch(a){}}},{key:"componentWillUnmount",value:function(){this.root.ontouchmove=null,this.root.ongesturechange=null,this.root.ongestureend=null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.visible;return t||e.visible!==t}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dragging,n=t.hoverTab;a||a===e.dragging||this.setState({draggingId:null}),n!==e.hoverTab&&this.onPointerEnter(n)}},{key:"render",value:function(){var e,t=this.props,a=t.dragging,n=t.panels,r=void 0===n?[]:n,o=t.vector,l="customstack-wrapper ";return a&&(l+="drag "),(null===(e=r[0])||void 0===e?void 0:e.type)===c.List&&(l+="customstack-list "),o&&(l+="drawer-shown "),u.a.createElement("div",{className:l},this.renderRootList(),this.renderVectorDrawer(),this.renderPrecisionModal())}}]),a}(u.a.Component))||ze,Qe=a(30),et=a(16),tt=a(46),at=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"getStyle",(function(e,t){if(!t.isDropAnimating){if(!t.isDragging&&e.transform){var a=e.transform.replace(/translate|[(|)]/g,"").split(", "),n=Object(z.a)(a,2),r=n[0],o=n[1];e=Object(g.a)(Object(g.a)({},e),{},{transform:"",left:r,top:o})}return e}return Object(g.a)(Object(g.a)({},e),{},{transitionDuration:"0.001s"})})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.draggableId,r=t.isDragDisabled,o=t.index,c=t.selected;return u.a.createElement(et.b,{key:n,draggableId:n,index:o,isDragDisabled:r},(function(t,o){var l,i="draggable-item ".concat(null!==(l=e.props.className)&&void 0!==l?l:""," ");return!r&&a&&(i+="edit "),o.isDragging&&(i+="dragging "),c&&(i+="selected "),u.a.createElement("div",Object.assign({ref:t.innerRef,className:i},t.draggableProps,{style:e.getStyle(t.draggableProps.style,o),onClick:function(t){var a,n;t.defaultPrevented||null===(a=(n=e.props).onSelect)||void 0===a||a.call(n,t),t.preventDefault(),t.stopPropagation()}}),u.a.createElement("span",Object.assign({},t.dragHandleProps,{onPointerDown:function(){var t,a;return null===(t=(a=e.props).onPointerChange)||void 0===t?void 0:t.call(a,n)},className:"drag-handle ",tabIndex:-1}),u.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"})),a)}))}}]),a}(u.a.Component),nt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.droppableId,r=t.type,o=t.style,c=void 0===o?{}:o,l=Object(Qe.a)(t,["children","droppableId","type","style"]);return u.a.createElement(et.c,Object.assign({key:n,droppableId:n},l),(function(t,n){var o,l="droppable ".concat(null!==(o=e.props.className)&&void 0!==o?o:""," ");return n.isDraggingOver&&(l+="dragging "),u.a.createElement("div",Object.assign({ref:t.innerRef,className:l,"data-type":r},t.droppableProps,{style:c}),a,t.placeholder)}))}}]),a}(u.a.Component),rt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"renderItemPlaceholder",(function(e){var t,a=e.children,n=Object(Qe.a)(e,["children"]);return u.a.createElement("div",Object.assign({},n,{style:{height:null!==(t=n["data-known-size"])&&void 0!==t?t:void 0}}),a)})),Object(E.a)(Object(q.a)(e),"getItemSize",(function(e){var t,a=e.firstChild;return null!==(t=null===a||void 0===a?void 0:a.clientHeight)&&void 0!==t?t:e.clientHeight})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.droppableId,r=(t.className,Object(Qe.a)(t,["data","droppableId","className"]));return u.a.createElement(et.c,Object.assign({},r,{droppableId:n,key:n}),(function(t){var n,r="droppable ".concat(null!==(n=e.props.className)&&void 0!==n?n:""," ");return u.a.createElement(tt.a,{scrollerRef:t.innerRef,data:a,style:{height:"100%"},components:{Item:e.renderItemPlaceholder},className:r,itemSize:e.getItemSize,itemContent:e.props.itemContent})}))}}]),a}(u.a.Component),ot=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{spin:null}),Object(E.a)(Object(q.a)(e),"onFavoriteToggled",(function(t,a){var n=e.state.spin;t.stopPropagation(),n!==a.ID&&e.setState({spin:a.ID}),e.onDebouncedFavoriteClick(a)})),Object(E.a)(Object(q.a)(e),"onFavoritePreset",function(){var t=Object(O.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.IsFavorite||e.props.onPresetChange(a),t.next=3,F.presets.favorite(a.ID,!a.IsFavorite);case 3:e.setState({spin:null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onDebouncedFavoriteClick",I.a.debounce(e.onFavoritePreset,100)),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.preset,n=t.pressets,r=this.state.spin;return u.a.createElement("div",{className:"presets-tab"},u.a.createElement(Ie,{placeholder:"Search Presets",onSearch:this.props.onSearch}),u.a.createElement("div",{className:"presets-wrapper"},n.map((function(t){var n="btn preset-btn ",o="spin-icon ",c=["far","star"];return t.IsFavorite&&(c=["fas","star"]),t.ID===(null===a||void 0===a?void 0:a.ID)&&(n+="active"),r===t.ID&&(o+="visible"),u.a.createElement("div",{key:null===t||void 0===t?void 0:t.ID,className:n,onClick:function(){return e.props.onPresetChange(t)}},u.a.createElement(ie.a,{className:o,icon:["fas","sync"],spin:!0}),u.a.createElement(ie.a,{className:"favorite-icon",icon:c,onClick:function(a){return e.onFavoriteToggled(a,t)}}),null===t||void 0===t?void 0:t.Name,u.a.createElement("div",{className:"item-icon"},u.a.createElement(ie.a,{icon:["fas","external-link-square-alt"]})))}))))}}]),a}(u.a.Component),ct=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"tabs-tab"},u.a.createElement("div",{className:"button-list"},u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onChangeIcon},"Change tab icon"),u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onRenameTabModal},"Rename Tab"),u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onDuplicateTab},"Duplicate Tab")))}}]),a}(u.a.Component),lt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"getStyle",(function(e,t){return t.isDragging?t.isDropAnimating?Object(g.a)(Object(g.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px",transitionDuration:"0.001s"}):Object(g.a)(Object(g.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px"}):Object(g.a)(Object(g.a)({},e),{},{transform:"none"})})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.widgets;return u.a.createElement("div",{className:"widgets-tab"},u.a.createElement(Ie,{placeholder:"Search Widgets",onSearch:this.props.onSearch}),u.a.createElement("div",{className:"layout-widgets"},t.map((function(t){return u.a.createElement(et.c,{droppableId:t.id,key:t.id,isDropDisabled:!0},(function(a){return u.a.createElement("div",Object.assign({},a.droppableProps,{ref:a.innerRef}),u.a.createElement(et.b,{key:t.id,draggableId:t.id,index:0},(function(a,n){var r="layout-panel layout-widget draggable-widget",l=null,i=null,s=null;switch(t.type){case"PANEL":l=u.a.createElement(ie.a,{icon:["fas","columns"]}),i={type:c.Panel,widgets:[]};break;case"LIST":l=u.a.createElement(ie.a,{icon:["fas","list"]}),i={type:c.List,items:[{label:"Item 1",panels:[]}]};break;case o.Tabs:l=u.a.createElement(ie.a,{icon:["fas","table"]}),i={widget:o.Tabs,tabs:[{label:"Tab 1",widgets:[]}]};break;case o.Label:l=u.a.createElement(ie.a,{icon:["fas","font"]}),i={widget:o.Label,label:"New label"};break;case o.Spacer:l=u.a.createElement(ie.a,{icon:["fas","square"]}),i={widget:o.Spacer,label:""};break;case o.Dial:l=u.a.createElement("div",{className:"item-icon"},u.a.createElement("img",{src:"/images/icons/Dial.svg",alt:"Slider"})),i={widget:o.Dial,property:null,propertyType:null};break;case o.Slider:l=u.a.createElement("div",{className:"item-icon"},u.a.createElement("img",{src:"/images/icons/Sliders.svg",alt:"Slider"})),i={widget:o.Slider,property:null,propertyType:null};break;case o.ColorPicker:l=u.a.createElement("div",{className:"item-icon"},"Color Picker"),i={widget:o.ColorPicker,property:null,propertyType:null};break;case o.MiniColorPicker:l=u.a.createElement("div",{className:"item-icon"},"Mini Color Picker"),i={widget:o.MiniColorPicker,property:null,propertyType:null};break;case o.ColorPickerList:l=u.a.createElement("div",{className:"item-icon"},"Color Picker List"),i={widget:o.ColorPickerList,items:[]};break;case o.Toggle:l=u.a.createElement("div",{className:"item-icon"},"Toggle"),i={widget:o.Toggle,property:null,propertyType:null};break;case o.Joystick:l=u.a.createElement("div",{className:"item-icon"},u.a.createElement("img",{src:"/images/icons/Joystick.svg",alt:"Slider"})),i={widget:o.Joystick,property:null,propertyType:null};break;case o.Button:l=u.a.createElement("div",{className:"item-icon"},"Button"),i={widget:o.Button,property:null,propertyType:null};break;case o.Text:l=u.a.createElement("div",{className:"item-icon"},"Text"),i={widget:o.Text,property:null,propertyType:null};break;case o.Dropdown:l=u.a.createElement("div",{className:"item-icon"},"Dropdown"),i={widget:o.Dropdown,property:null,propertyType:null};break;case o.Vector:l=u.a.createElement("div",{className:"item-icon"},"Vector"),i={widget:o.Vector,property:null,propertyType:null}}return n.isDragging&&(r+=" dragging",(s=e.props.renderWidget(i))||(s=u.a.createElement(u.a.Fragment,null,u.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"}),t.label,u.a.createElement("div",{className:"item-icon"},l)))),u.a.createElement(u.a.Fragment,null,n.isDragging&&u.a.createElement("div",{className:"draggable-widget"},u.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"}),u.a.createElement("div",{className:"item-label"},t.label),u.a.createElement("div",{className:"item-icon"},l)),u.a.createElement("div",Object.assign({},a.draggableProps,a.dragHandleProps,{className:r,ref:a.innerRef,style:e.getStyle(a.draggableProps.style,n)}),n.isDragging?s:u.a.createElement(u.a.Fragment,null,u.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"}),u.a.createElement("span",{className:"item-label"},t.label),u.a.createElement("div",{className:"item-icon"},l))))})),u.a.createElement("div",{style:{display:"none"}},a.placeholder))}))}))))}}]),a}(u.a.Component),it=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{collapsed:{}}),Object(E.a)(Object(q.a)(e),"onToggleGroup",(function(t){var a=e.state.collapsed;e.setState({collapsed:Object(g.a)(Object(g.a)({},a),{},Object(E.a)({},t,!a[t]))})})),Object(E.a)(Object(q.a)(e),"getStyle",(function(e,t){return t.isDragging?t.isDropAnimating?Object(g.a)(Object(g.a)({},e),{},{transitionDuration:"0.001s"}):e:Object(g.a)(Object(g.a)({},e),{},{transform:"none"})})),Object(E.a)(Object(q.a)(e),"renderGroup",(function(t,a){var n=e.state.collapsed,r=[].concat(Object(Y.a)(t.ExposedProperties),Object(Y.a)(t.ExposedFunctions));if(!r.length)return null;var o=["fas","caret-down"],c="items-list ";return n[t.Name]?o=["fas","caret-right"]:c+="expanded",u.a.createElement("li",{key:t.Name},u.a.createElement(et.b,{draggableId:"".concat(t.Name,"_WIDGET"),index:a},(function(a,n){return n.isDragging&&e.props.onWidgetsLock(I.a.filter(r,(function(e){var t;return!!(null===(t=e.Metadata)||void 0===t?void 0:t.Widget)}))),u.a.createElement(u.a.Fragment,null,n.isDragging&&u.a.createElement("div",{className:"list-title"},t.Name,u.a.createElement(ie.a,{icon:o})),u.a.createElement("div",Object.assign({},a.draggableProps,a.dragHandleProps,{className:"list-title",onClick:e.onToggleGroup.bind(Object(q.a)(e),t.Name),ref:a.innerRef,style:e.getStyle(a.draggableProps.style,n)}),t.Name,u.a.createElement(ie.a,{icon:o})))})),u.a.createElement(et.c,{key:t.Name,droppableId:"ADDWIDGET_".concat(t.Name),isDropDisabled:!0},(function(a){return u.a.createElement("ul",Object.assign({ref:a.innerRef,className:c},a.droppableProps),!n[t.Name]&&r.map(e.props.renderDraggableItem),u.a.createElement("div",{style:{display:"none"}},a.placeholder))})))})),e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){var t,a=this.props.preset;(null===a||void 0===a?void 0:a.Name)!==(null===(t=e.preset)||void 0===t?void 0:t.Name)&&this.setState({collapsed:{}})}},{key:"render",value:function(){var e=this,t=this.props.groups;return u.a.createElement("div",{className:"properties-tab"},u.a.createElement(Ie,{placeholder:"Search Properties",onSearch:this.props.onSerach}),u.a.createElement("div",{className:"nav-list-container"},u.a.createElement(et.c,{droppableId:"properties-droppable"},(function(a){return u.a.createElement("ul",Object.assign({ref:a.innerRef,className:"nav-list"},a.droppableProps),t.map(e.renderGroup))}))))}}]),a}(u.a.Component);!function(e){e.Widgets="WIDGETS",e.Properties="PROPERTIES",e.Tab="TAB",e.Presets="PRESETS"}(Je||(Je={}));var st,ut,dt,pt,mt,vt,bt,gt=[{title:"Presets",key:Je.Presets},{title:"Tab",key:Je.Tab},{title:"Widgets",key:Je.Widgets},{title:"Properties",key:Je.Properties}],ft=[{id:"PANEL",type:"PANEL",label:"Panel"},{id:"LIST",type:"LIST",label:"List"},{id:o.Tabs,type:o.Tabs,label:"Tabs"},{id:o.Label,type:o.Label,label:"Label"},{id:o.Spacer,type:o.Spacer,label:"Spacer"},{id:o.Dial,type:o.Dial,label:"Dial",propertyType:n.Float},{id:"".concat(o.Slider,"_WIDGET"),type:o.Slider,label:"Slider",propertyType:n.Float},{id:o.ColorPicker,type:o.ColorPicker,label:"Color Picker",propertyType:n.LinearColor},{id:o.MiniColorPicker,type:o.MiniColorPicker,label:"MiniColor Picker",propertyType:n.LinearColor},{id:"".concat(o.ColorPickerList,"_WIDGET"),type:o.ColorPickerList,label:"Color Picker List",propertyType:n.LinearColor},{id:o.Toggle,type:o.Toggle,label:"Toggle",propertyType:n.Boolean},{id:"".concat(o.Joystick,"_WIDGET"),type:o.Joystick,label:"Joystick",propertyType:n.Vector},{id:o.Button,type:o.Button,label:"Button",propertyType:n.Function},{id:"".concat(o.Text,"_WIDGET"),type:o.Text,label:"Text",propertyType:n.Text},{id:o.Dropdown,type:o.Dropdown,label:"Dropdown",propertyType:n.Text},{id:"".concat(o.Vector,"_WIDGET"),type:o.Vector,label:"Vector",propertyType:n.Vector}],ht=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),Object(E.a)(Object(q.a)(e),"state",{filteredGroups:Object(Y.a)(e.props.preset.Groups),filteredWidgets:Object(Y.a)(I.a.sortBy(ft,(function(e){return e.label}))),filteredPresets:Object(Y.a)(e.props.presets),search:"",editTab:!1,tab:Je.Presets,widget:null,metadata:{},usedProperties:{}}),Object(E.a)(Object(q.a)(e),"buildPropertyList",(function(t){var a=[];(null===t||void 0===t?void 0:t.layout)===l.Stack&&(a=I.a.compact(e.getProperties(t.panels)));var n=I.a.uniq(a).reduce((function(e,t){return e[t]=!0,e}),{});e.setState({usedProperties:n})})),Object(E.a)(Object(q.a)(e),"resetFilter",(function(){e.setState({filteredGroups:Object(Y.a)(e.props.preset.Groups),filteredWidgets:Object(Y.a)(I.a.sortBy(ft,(function(e){return e.label}))),filteredPresets:Object(Y.a)(e.props.presets)})})),Object(E.a)(Object(q.a)(e),"getProperties",(function(t){if(!t)return[];var a,n=[],r=Object(X.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;switch(o.type){case"LIST":var c,l=Object(X.a)(o.items);try{for(l.s();!(c=l.n()).done;){var i=c.value;n.push.apply(n,Object(Y.a)(e.getProperties(i.panels)))}}catch(s){l.e(s)}finally{l.f()}break;case"PANEL":n.push.apply(n,Object(Y.a)(e.getProperties(o.widgets)));break;default:n.push.apply(n,Object(Y.a)(e.getPropertiesofWidget(o)))}}}catch(s){r.e(s)}finally{r.f()}return n})),Object(E.a)(Object(q.a)(e),"getPropertiesofWidget",(function(t){var a=[];switch(t.widget){case o.Tabs:var n,r=Object(X.a)(t.tabs);try{for(r.s();!(n=r.n()).done;){var c=n.value;a.push.apply(a,Object(Y.a)(e.getProperties(c.widgets)))}}catch(u){r.e(u)}finally{r.f()}break;case o.ColorPickerList:var l,i=Object(X.a)(t.items);try{for(i.s();!(l=i.n()).done;){var s=l.value;a.push(s.property)}}catch(u){i.e(u)}finally{i.f()}break;default:a.push(t.property)}return a})),Object(E.a)(Object(q.a)(e),"getStyle",(function(e,t){return t.isDragging?t.isDropAnimating?Object(g.a)(Object(g.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px",transitionDuration:"0.001s"}):Object(g.a)(Object(g.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px"}):Object(g.a)(Object(g.a)({},e),{},{transform:"none"})})),Object(E.a)(Object(q.a)(e),"onPropertiesFilter",(function(t){var a=e.props.preset,n=a.Groups;t&&(n=I.a.map(a.Groups,(function(a){return e.filterGroup(a,t)}))),e.setState({filteredGroups:n,search:t})})),Object(E.a)(Object(q.a)(e),"onWidgetsFilter",(function(t){var a=I.a.sortBy(ft.filter((function(e){return e.label.toLowerCase().slice(0,t.length)===t})),(function(e){return e.label}));e.setState({filteredWidgets:a})})),Object(E.a)(Object(q.a)(e),"filterGroup",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{ExposedProperties:I.a.filter(e.ExposedProperties,(function(e){return-1!==e.DisplayName.toLowerCase().indexOf(t)})),ExposedFunctions:I.a.filter(e.ExposedFunctions,(function(e){return-1!==e.DisplayName.toLowerCase().indexOf(t)}))})})),Object(E.a)(Object(q.a)(e),"onPresetFilter",(function(t){var a=e.props.presets,n=a;t&&(n=a.filter((function(e){return-1!==e.Name.toLowerCase().indexOf(t)}))),e.setState({filteredPresets:n,search:t})})),Object(E.a)(Object(q.a)(e),"onViewUpdatedDebounced",I.a.debounce(e.props.onUpdateView,400)),Object(E.a)(Object(q.a)(e),"getWidgetFromElement",(function(e){var t;return e?{property:e.ID,propertyType:null===e||void 0===e?void 0:e.Type,widget:null===(t=e.Metadata)||void 0===t?void 0:t.Widget}:null})),Object(E.a)(Object(q.a)(e),"onWidgetRemove",function(){var t=Object(O.a)(h.a.mark((function t(a){var n,r,o,c,l,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.selected,o=n.panels,c=r.split("_"),l=Object(z.a)(c,2),i=l[0],s=l[1],t.next=4,He.show(a);case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:I.a.get(o,i,o).splice(+s,1),e.props.onUpdateView(!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onWidgetTabRemove",function(){var t=Object(O.a)(h.a.mark((function t(a){var n,r,o,c,l,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.selected,o=n.panels,c=r.split("_"),l=Object(z.a)(c,2),i=l[0],s=l[1],t.next=4,He.show("Are you sure you want to delete this tab?");case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:I.a.get(o,"".concat(i,"[").concat(s,"]tabs"),o).splice(a,1),e.props.onUpdateView();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onListItemRemove",function(){var t=Object(O.a)(h.a.mark((function t(a){var n,r,o,c,l,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.selected,o=n.panels,c=r.split("_"),l=Object(z.a)(c,2),i=l[0],s=l[1],t.next=4,He.show("Are you sure you want to delete this item?");case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:I.a.get(o,"".concat(i,"[").concat(s,"]items"),o).splice(a,1),e.props.onUpdateView();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onChange",(function(t,a){var n=e.props,r=n.selected,o=n.panels,c=Object(g.a)({},e.state.widget),l=r.split("_"),i=Object(z.a)(l,2),s=i[0],u=i[1];I.a.set(c,t,a),e.setState({widget:c});var d=I.a.get(o,s,o);I.a.set(d,"".concat(u,".").concat(t),a),e.onViewUpdatedDebounced()})),Object(E.a)(Object(q.a)(e),"renderWidget",(function(t){if(!t)return null;switch(e.props.lockWidget([t]),t.widget){case o.Sliders:return u.a.createElement(Ve,{widget:t});case o.Slider:return u.a.createElement(We,null);case o.Dropdown:return u.a.createElement(Ae,null);case o.ImageSelector:return u.a.createElement(Le,{widget:t});case o.Toggle:return u.a.createElement(Ue,{widget:t});case o.Label:return u.a.createElement("div",{className:"label"},"Label");case o.Text:return u.a.createElement("div",{className:"slider-row text-row"},u.a.createElement("div",{className:"title"},"Text"),u.a.createElement(Ne,{value:"Text"}),u.a.createElement(ie.a,{icon:["fas","undo"]}));case o.Vector:return u.a.createElement(Be,{widget:t});case o.Button:return u.a.createElement("div",{className:"btn-wrapper"},u.a.createElement(le,null));case o.ColorPicker:case o.MiniColorPicker:return u.a.createElement(ue,{widget:t.widget});case o.Joystick:return u.a.createElement(he,{type:n.Vector});case o.Dial:return u.a.createElement(ve,null);case o.Dials:return u.a.createElement(ge,{type:t.propertyType});case o.Asset:return u.a.createElement(Re,null);default:return null}})),Object(E.a)(Object(q.a)(e),"renderTabsEdit",(function(){var t=e.state.widget;return u.a.createElement(u.a.Fragment,null,u.a.createElement(et.c,{droppableId:t.id,type:"TABS-REORDER"},(function(a){var n;return u.a.createElement("div",Object.assign({className:"properties-list",ref:a.innerRef},a.droppableProps),null===(n=t.tabs)||void 0===n?void 0:n.map((function(t,a){return u.a.createElement(et.b,{key:t.id,draggableId:"REORDER_".concat(t.id),index:a},(function(n){var r;return u.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,{className:"properties-field line"}),u.a.createElement("span",Object.assign({},n.dragHandleProps,{className:"drag-handle",tabIndex:-1}),u.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"})),u.a.createElement("input",{type:"text",value:null!==(r=t.label)&&void 0!==r?r:"",onChange:function(t){return e.onChange("tabs[".concat(a,"]label"),t.target.value)}}),u.a.createElement(ie.a,{className:"icon",icon:["fas","times"],onClick:function(){return e.onWidgetTabRemove(a)}}))}))})),a.placeholder)})),u.a.createElement("div",{className:"btn-container"},u.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.onChange("tabs[".concat(t.tabs.length,"]"),{label:"Tab ".concat(t.tabs.length+1),widgets:[]})}},"Add new tab")),e.renderDelete("Tabs"))})),Object(E.a)(Object(q.a)(e),"renderListsEdit",(function(){var t=e.state.widget;return u.a.createElement(u.a.Fragment,null,u.a.createElement(et.c,{droppableId:t.id,type:"LIST-REORDER"},(function(a){var n;return u.a.createElement("div",Object.assign({className:"properties-list",ref:a.innerRef},a.droppableProps),null===(n=t.items)||void 0===n?void 0:n.map((function(a,n){return u.a.createElement(et.b,{draggableId:"REORDER_".concat(a.id),index:n,key:a.id},(function(r){var o,c;return u.a.createElement("div",Object.assign({ref:r.innerRef},r.draggableProps,{className:"properties-field line"}),u.a.createElement("span",Object.assign({},r.dragHandleProps,{className:"drag-handle",tabIndex:-1}),u.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"})),u.a.createElement("input",{type:"text",value:null!==(o=a.label)&&void 0!==o?o:"",onChange:function(t){return e.onChange("items[".concat(n,"]label"),t.target.value)}}),(null===(c=t.items)||void 0===c?void 0:c.length)>1&&u.a.createElement(ie.a,{className:"icon",icon:["fas","times"],onClick:e.onListItemRemove.bind(Object(q.a)(e),n)}))}))})),a.placeholder)})),u.a.createElement("div",{className:"btn-container"},u.a.createElement("button",{className:"btn btn-primary",onClick:e.onChange.bind(Object(q.a)(e),"items[".concat(t.items.length,"]"),{label:"Item ".concat(t.items.length+1),panels:[]})},"Add new item")),e.renderDelete("List"),u.a.createElement("div",{className:"btn-container"},u.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.props.onNewTabs(t.items)}},"Create Tabs from List Item")))})),Object(E.a)(Object(q.a)(e),"renderColorPickersListEdit",(function(){return e.renderDelete("Color Picker List")})),Object(E.a)(Object(q.a)(e),"renderColorPickerEdit",(function(t){var a,r=e.props.preset,o=e.state.widget,c=null===r||void 0===r?void 0:r.Exposed[null===o||void 0===o?void 0:o.property],l=!1;return"1"===(null===c||void 0===c||null===(a=c.Metadata)||void 0===a?void 0:a.Alpha)&&(l=!0),u.a.createElement(u.a.Fragment,null,t&&u.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),o.propertyType!==n.Vector4&&u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Show Alpha"),u.a.createElement("input",{className:"checkbox",type:"checkbox",onChange:function(t){return e.onMetadataChange(o,"Alpha",t.target.checked?"1":"0")},checked:l}))),e.renderDelete())})),Object(E.a)(Object(q.a)(e),"renderPanelEdit",(function(){var t,a=e.state.widget;return u.a.createElement("div",{className:"properties-list"},u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Panel Title"),u.a.createElement("input",{type:"text",value:null!==(t=null===a||void 0===a?void 0:a.title)&&void 0!==t?t:"",onChange:function(t){return e.onChange("title",t.target.value)}})),u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Is template"),u.a.createElement("input",{className:"checkbox",type:"checkbox",checked:!!(null===a||void 0===a?void 0:a.isTemplate),onChange:function(t){return e.onChange("isTemplate",t.target.checked)}})),e.renderDelete("Panel"))})),Object(E.a)(Object(q.a)(e),"onMetadataChange",(function(t,a,n){var r=Object(g.a)({},e.state.metadata);r[a]=n,e.setState({metadata:r}),F.payload.metadata(t.property,a,n)})),Object(E.a)(Object(q.a)(e),"onDiscardStateMetadata",(function(t){var a=Object(g.a)({},e.state.metadata);delete a[t],e.setState({metadata:a})})),Object(E.a)(Object(q.a)(e),"onVectorModeChange",(function(t,a,n){var r=e.props,o=r.selected,c=r.panels,l=o.split("_"),i=Object(z.a)(l,2),s=i[0],u=i[1],d=I.a.get(c,"".concat(s,".").concat(u),c),p=I.a.xor((null===d||void 0===d?void 0:d.widgets)||[],[a]);n&&(I.a.compact(n.map((function(e){return p.find((function(t){return t===e}))}))).length||p.push(a));d.widgets=p,t.widgets=p,e.props.onUpdateView()})),Object(E.a)(Object(q.a)(e),"renderPropertyLabel",(function(){var t,a,n=e.props.preset,r=e.state.widget,o="",c=null===n||void 0===n?void 0:n.Exposed[null===r||void 0===r?void 0:r.property];c&&(t=c.DisplayName,o=e.state.metadata.Description||(null===(a=c.Metadata)||void 0===a?void 0:a.Description)||"");return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Label"),u.a.createElement("input",{type:"text",placeholder:t,value:o,onChange:function(t){return e.onMetadataChange(r,"Description",t.target.value)},onBlur:function(){return e.onDiscardStateMetadata("Description")}})))})),Object(E.a)(Object(q.a)(e),"renderMinMax",(function(){var t,a,n=e.props.preset,r=e.state.widget;switch(null===r||void 0===r?void 0:r.widget){case o.Dial:case o.Dials:case o.Slider:case o.Joystick:case o.ScaleSlider:case o.Sliders:case o.Vector:var c=se.getMinMax(n,null===r||void 0===r?void 0:r.property),l=e.state.metadata,i=l.Min,s=l.Max;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Minimum"),u.a.createElement("input",{type:"number",value:null!==(t=null!==i&&void 0!==i?i:null===c||void 0===c?void 0:c.min)&&void 0!==t?t:"",onChange:function(t){return e.onMetadataChange(r,"Min",t.target.value)},onBlur:function(){return e.onDiscardStateMetadata("Min")}})),u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Maximum"),u.a.createElement("input",{type:"number",value:null!==(a=null!==s&&void 0!==s?s:null===c||void 0===c?void 0:c.max)&&void 0!==a?a:"",onChange:function(t){return e.onMetadataChange(r,"Max",t.target.value)},onBlur:function(){return e.onDiscardStateMetadata("Max")}})))}return null})),Object(E.a)(Object(q.a)(e),"renderDelete",(function(t){return u.a.createElement("div",{key:"delete",className:"btn-container"},u.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.onWidgetRemove("Are you sure you want to delete?")}},"Delete ",null!==t&&void 0!==t?t:"Widget"))})),Object(E.a)(Object(q.a)(e),"renderLabelEdit",(function(){var t=e.state.widget;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"properties-list"},u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Label"),u.a.createElement("input",{value:t.label,onChange:function(t){return e.onChange("label",t.target.value)}}))),e.renderDelete())})),Object(E.a)(Object(q.a)(e),"renderSpacerEdit",(function(){var t,a=e.state.widget;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"properties-list"},u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Rows"),u.a.createElement("input",{type:"number",value:null!==(t=String((null===a||void 0===a?void 0:a.spaces)||1))&&void 0!==t?t:"",onChange:function(t){return e.onChange("spaces",+t.target.value)}}))),e.renderDelete())})),Object(E.a)(Object(q.a)(e),"renderDialEdit",(function(t){return u.a.createElement(u.a.Fragment,null,t&&u.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),e.renderMinMax()),e.renderDelete())})),Object(E.a)(Object(q.a)(e),"renderVectorEdit",(function(t){var a,r=e.props.preset,c=e.state.widget,l=(null===c||void 0===c?void 0:c.widgets)||[],i=null===r||void 0===r?void 0:r.Exposed[null===c||void 0===c?void 0:c.property],s=!1;return"1"===(null===i||void 0===i||null===(a=i.Metadata)||void 0===a?void 0:a.Proportionally)&&(s=!0),u.a.createElement(u.a.Fragment,null,t&&u.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),c.propertyType!==n.Rotator&&e.renderMinMax(),u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Modes"),u.a.createElement("div",{className:"btn-group vector-btn-group"},c.propertyType!==n.Rotator&&u.a.createElement("button",{className:"btn ".concat(l.includes(o.Joystick)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(c,o.Joystick)}},"Joystick"),u.a.createElement("button",{className:"btn ".concat(l.includes(o.Dial)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(c,o.Dial)}},"Dial"),u.a.createElement("button",{className:"btn ".concat(l.includes(o.Sliders)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(c,o.Sliders)}},"Sliders"))),u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Proportionally"),u.a.createElement("input",{className:"checkbox",type:"checkbox",onChange:function(t){return e.onMetadataChange(c,"Proportionally",t.target.checked?"1":"0")},checked:s}))),e.renderDelete())})),Object(E.a)(Object(q.a)(e),"renderDialsEdit",(function(t){return e.renderSlidersEdit(t)})),Object(E.a)(Object(q.a)(e),"renderSlidersEdit",(function(t){var a,n=e.props.preset,r=e.state.widget,o=se.getPropertyKeys(null===r||void 0===r?void 0:r.propertyType),c=(null===r||void 0===r?void 0:r.widgets)||[],l=null===n||void 0===n?void 0:n.Exposed[null===r||void 0===r?void 0:r.property],i=!1;return"1"===(null===l||void 0===l||null===(a=l.Metadata)||void 0===a?void 0:a.Proportionally)&&(i=!0),u.a.createElement(u.a.Fragment,null,t&&u.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),e.renderMinMax(),u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Properties"),u.a.createElement("div",{className:"btn-group vector-btn-group"},o.map((function(t){return u.a.createElement("button",{key:t,className:"btn ".concat(c.includes(t)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(r,t,o)}},t)})))),u.a.createElement("div",{className:"properties-field"},u.a.createElement("label",null,"Proportionally"),u.a.createElement("input",{className:"checkbox",type:"checkbox",onChange:function(t){return e.onMetadataChange(r,"Proportionally",t.target.checked?"1":"0")},checked:i}))),e.renderDelete())})),Object(E.a)(Object(q.a)(e),"onFunctionParameterChanged",(function(t,a,n){var r=Object(g.a)({},e.state.metadata);r[a]=n,e.setState({metadata:r}),I.a.set(t,a,n),e.onViewUpdatedDebounced()})),Object(E.a)(Object(q.a)(e),"renderFunctionEdit",(function(){var t,a=e.state.widget,r=e.props.preset,o=[],c=null===r||void 0===r?void 0:r.Exposed[null===a||void 0===a?void 0:a.property];if(null===c||void 0===c||null===(t=c.UnderlyingFunction)||void 0===t?void 0:t.Arguments){var l,i=e.state.metadata,s=(null===(l=c.Metadata)||void 0===l?void 0:l.Description)||c.DisplayName,d=i.label||a.label||"";o.push(u.a.createElement("div",{key:"label",className:"property properties-field"},u.a.createElement("label",null,"Label"),u.a.createElement("input",{type:"text",placeholder:s,value:d,onChange:function(t){return e.onFunctionParameterChanged(a,"label",t.target.value)}})));for(var p=function(t){var r,l,s=c.UnderlyingFunction.Arguments[t],d=null!==(r=i[s.Name])&&void 0!==r?r:null===(l=a.args)||void 0===l?void 0:l[s.Name],p="args.".concat(s.Name);switch(s.Type){case n.String:case n.Text:o.push(u.a.createElement("div",{key:t,className:"property properties-field"},u.a.createElement("label",null,s.Name),u.a.createElement("input",{type:"text",value:d||"",onChange:function(t){return e.onFunctionParameterChanged(a,p,t.target.value)}})));break;case n.Uint8:case n.Boolean:o.push(u.a.createElement("div",{key:t,className:"property properties-field"},u.a.createElement("input",{className:"checkbox",type:"checkbox",checked:!!d,onChange:function(t){return e.onFunctionParameterChanged(a,p,t.target.checked)}}),u.a.createElement("label",null,s.Name)));break;case n.Int8:case n.Int16:case n.Int32:case n.Uint16:case n.Uint32:case n.Float:o.push(u.a.createElement("div",{key:t,className:"property properties-field"},u.a.createElement("label",null,s.Name),u.a.createElement("input",{type:"number",value:d||"",onChange:function(t){return e.onFunctionParameterChanged(a,p,+t.target.value)}})))}},m=0;m<c.UnderlyingFunction.Arguments.length;m++)p(m)}return o.push(e.renderDelete()),o})),Object(E.a)(Object(q.a)(e),"renderProperties",(function(t){var a=e.props.selected,n=e.state.widget,r=e.state.widget;if(!a||!n)return null;switch((null===n||void 0===n?void 0:n.widget)||r.type){case o.Tabs:return e.renderTabsEdit();case"LIST":return e.renderListsEdit();case"PANEL":return e.renderPanelEdit();case o.ColorPickerList:return e.renderColorPickersListEdit();case o.ColorPicker:case o.MiniColorPicker:return e.renderColorPickerEdit(t);case o.Label:return e.renderLabelEdit();case o.Spacer:return e.renderSpacerEdit();case o.Dial:return e.renderDialEdit(t);case o.Dials:return e.renderDialsEdit(t);case o.Vector:return e.renderVectorEdit(t);case o.Sliders:return e.renderSlidersEdit(t);case o.Button:return e.renderFunctionEdit()}return u.a.createElement(u.a.Fragment,null,t&&u.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),e.renderMinMax()),e.renderDelete())})),Object(E.a)(Object(q.a)(e),"isPropertyUsed",(function(t){return e.state.usedProperties[t]})),Object(E.a)(Object(q.a)(e),"isPropertyAvailable",(function(){var t=e.props.preset,a=e.state.widget;return!(!(null===a||void 0===a?void 0:a.property)||!(null===t||void 0===t?void 0:t.Exposed[a.property]))})),Object(E.a)(Object(q.a)(e),"onWidgetTypeChanged",(function(t,a){e.onMetadataChange(t,"Widget",a),t.widget&&(t.widget=a,e.props.onUpdateView())})),Object(E.a)(Object(q.a)(e),"renderCompatibleProperties",(function(t){var a=e.props,n=a.selected,r=a.preset,c=e.state.widget;if(!n||!c||!c.widget)return null;switch(c.widget){case o.Button:case o.ColorPicker:case o.MiniColorPicker:case o.Dial:case o.Dials:case o.Dropdown:case o.ImageSelector:case o.Joystick:case o.Slider:case o.Sliders:case o.Text:case o.Toggle:case o.Vector:break;default:return null}var l=I.a.filter(r.Exposed,(function(e){return e.Metadata.Widget===c.widget}));return u.a.createElement("div",{className:"types-selection"},u.a.createElement("div",{className:"dropdown-widget properties-field"},u.a.createElement("label",null,"Property"),!t&&u.a.createElement(ie.a,{icon:["fas","exclamation-circle"],className:"unbound-icon"}),u.a.createElement("select",{className:"dropdown",value:c.property||"",onChange:function(t){return function(t){var a=r.Exposed[t];c.propertyType=null===a||void 0===a?void 0:a.Type,c.property=t,e.props.onUpdateView()}(t.target.value)}},!t&&u.a.createElement("option",{value:""},"Unbound Property"),l.map((function(t){return u.a.createElement("option",{key:t.ID,value:t.ID},e.isPropertyUsed(t.ID)?"\u2022 ":" ",t.DisplayName)})))))})),Object(E.a)(Object(q.a)(e),"renderCompatibleWidgets",(function(){var t,a,n=e.props.preset,r=e.state.widget;if(!r||!n)return null;var o=n.Exposed[r.property],c=se.getCompatibleWidgets(null===o||void 0===o?void 0:o.Type),l=!(null===o||void 0===o||null===(t=o.Metadata)||void 0===t?void 0:t.Widget)||!c.find((function(e){return o.Metadata.Widget===e}));return u.a.createElement("div",{className:"dropdown-widget properties-field"},u.a.createElement("label",null,"Widget"),!!l&&u.a.createElement(ie.a,{icon:["fas","exclamation-circle"],className:"unbound-icon"}),u.a.createElement("select",{className:"dropdown",value:(null===o||void 0===o||null===(a=o.Metadata)||void 0===a?void 0:a.Widget)||"",onChange:function(t){return e.onWidgetTypeChanged(r,t.target.value)}},!!l&&u.a.createElement("option",{value:""},"[ No Widget Selected ]"),c.map((function(e){return u.a.createElement("option",{key:e,value:e},e)}))))})),Object(E.a)(Object(q.a)(e),"renderDraggableItem",(function(t,a){var n,r,c,l,i=e.props.selected,s="".concat(t.DisplayName,"_");switch(null===(n=t.Metadata)||void 0===n?void 0:n.Widget){case o.Button:s+=o.Button;break;case o.ColorPicker:s+=o.ColorPicker;break;case o.MiniColorPicker:s+=o.MiniColorPicker;break;case o.Toggle:s+=o.Toggle;break;case o.Dial:s+=o.Dial;break;case o.Dials:s+=o.Dials;break;default:s+="WIDGET"}var d="draggable-widget control-widget ",p=I.a.last(null===i||void 0===i?void 0:i.split("_"))||null,m=!(null===(r=t.Metadata)||void 0===r||null===(c=r.Widget)||void 0===c?void 0:c.length);e.isPropertyUsed(t.ID)&&(d+="widget-in-use "),p===t.ID&&(d+="selected "),m&&(d+="disabled ");var v=u.a.createElement("div",{className:d,"data-tooltip":t.DisplayName},u.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"Drag",className:"grip-handle"}),u.a.createElement("label",null,t.DisplayName),u.a.createElement("div",{className:"item-icon"},null===(l=t.Metadata)||void 0===l?void 0:l.Widget));return u.a.createElement(et.b,{key:s,draggableId:s,index:a,isDragDisabled:m},(function(a,n){return u.a.createElement(u.a.Fragment,null,n.isDragging&&v,u.a.createElement("li",Object.assign({},a.draggableProps,a.dragHandleProps,{ref:a.innerRef,style:e.getStyle(a.draggableProps.style,n),onClick:e.props.onSelected.bind(Object(q.a)(e),"__".concat(t.ID))}),n.isDragging?u.a.createElement("div",{className:"dragging-overlay"},e.renderWidget(e.getWidgetFromElement(t))):v))}))})),Object(E.a)(Object(q.a)(e),"renderTab",(function(t){var a=e.props.view,n=t.title,r=t.key;if(!a.tabs.length&&r!==Je.Presets)return null;var o="drawer-nav-tab ";return e.state.tab===r&&(o+="active"),u.a.createElement("li",{className:o,key:r,onClick:function(){return e.setState({tab:r})}},n)})),Object(E.a)(Object(q.a)(e),"renderTabContent",(function(){var t=e.props.preset,a=e.state,n=a.filteredGroups,r=a.filteredWidgets,o=a.filteredPresets;switch(a.tab){case Je.Properties:return u.a.createElement(it,{groups:n,preset:t,renderDraggableItem:e.renderDraggableItem,onWidgetsLock:function(t){return e.props.lockWidget(t.map(e.getWidgetFromElement))},onSerach:e.onPropertiesFilter});case Je.Tab:return u.a.createElement(ct,{onChangeIcon:e.props.onChangeIcon,onRenameTabModal:e.props.onRenameTabModal,onDuplicateTab:e.props.onDuplicateTab});case Je.Widgets:return u.a.createElement(lt,{widgets:r,renderWidget:e.renderWidget,onSearch:e.onWidgetsFilter});case Je.Presets:return u.a.createElement(ot,{preset:t,pressets:o,onPresetChange:e.props.onPresetChange,onSearch:e.onPresetFilter})}})),e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a,n=this.props,r=n.editable,o=n.selected,c=n.panels,l=n.preset,i=n.view,s=n.tab;if(r){if(r===e.editable&&i===e.view&&s===e.tab||this.buildPropertyList(null===i||void 0===i||null===(a=i.tabs)||void 0===a?void 0:a[s]),i!==e.view||o&&(o!==e.selected||!I.a.isEqual(c,e.panels))){var u,d,p=null!==(u=null===o||void 0===o?void 0:o.split("_"))&&void 0!==u?u:[],m=Object(z.a)(p,3),v=m[0],b=m[1],g=m[2];d=b?I.a.get(c,v,c)[+b]:this.getWidgetFromElement(l.Exposed[g]),this.setState({widget:d,metadata:{}})}if(l!==e.preset){var f=this.state.search;this.onPropertiesFilter(f),this.onPresetFilter(f)}this.state.tab!==t.tab&&this.resetFilter()}}},{key:"render",value:function(){if(!this.props.editable)return null;var e="drawer list ";this.state.editTab&&(e+="tab-editable");var t=this.isPropertyAvailable();return u.a.createElement("nav",{id:"tabs-drawer-layout",className:e},u.a.createElement("ul",{className:"drawer-nav"},gt.map(this.renderTab)),u.a.createElement("div",{className:"tab-content"},this.renderTabContent()),u.a.createElement("div",{className:"nav-properties"},u.a.createElement("div",{className:"properties-grid"},this.renderCompatibleProperties(t),this.renderProperties(t))))}}]),a}(s.Component);!function(e){e.ColorCorrection="ColorCorrection",e.LightCards="LightCards"}(st||(st={})),function(e){e.Global="Global",e.Highlights="Highlights",e.Midtones="Midtones",e.Shadows="Shadows",e.Color="Color"}(ut||(ut={})),function(e){e.Gain="Gain",e.Gamma="Gamma",e.Saturation="Saturation",e.Contrast="Contrast",e.Offset="Offset"}(dt||(dt={})),function(e){e.Rgb="RGB",e.Hsv="HSV"}(pt||(pt={})),function(e){e.All="All",e.Favorites="Favorites"}(mt||(mt={})),function(e){e[1/0]="Infinity",e.Sliders="Sliders"}(vt||(vt={})),function(e){e.x025="0.25",e.x05="0.5",e.x1="1",e.x2="2",e.x5="5"}(bt||(bt={}));var Ot=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(E.a)(Object(q.a)(e),"state",{selected:"",actors:{},values:{},favorites:{},mode:ut.Global,value:{},root:{},colorProperty:dt.Gain,range:{min:0,max:2},search:"",section:st.ColorCorrection,actorsGroup:mt.All,sliderMode:vt.Infinity,sensitivity:bt.x1}),Object(E.a)(Object(q.a)(e),"timer",void 0),Object(E.a)(Object(q.a)(e),"actorsLength",15),Object(E.a)(Object(q.a)(e),"updateSelection",!1),Object(E.a)(Object(q.a)(e),"actionsStack",[]),Object(E.a)(Object(q.a)(e),"onRefresh",Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onRefreshActors();case 2:return t.next=4,e.onRefreshValues();case 4:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onActorSelect",(function(t){var a,n=null!==(a=e.state.values[t])&&void 0!==a?a:{};e.setState({selected:t,value:n},(function(){return e.onRefreshValues(!0)}))})),Object(E.a)(Object(q.a)(e),"onToggleActorEnable",(function(t){var a,n=e.state,r=n.values,o=n.section,c=null!==(a=r[t])&&void 0!==a?a:{};switch(o){case st.ColorCorrection:e.onPropertyChange("Enabled",!c.Enabled);break;case st.LightCards:e.onPropertyChange("bHidden",!c.bHidden)}})),Object(E.a)(Object(q.a)(e),"onSpawnActor",Object(O.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.section,e.updateSelection=!0,t.t0=a,t.next=t.t0===st.ColorCorrection?5:t.t0===st.LightCards?7:9;break;case 5:return n="/Script/ColorCorrectRegions.ColorCorrectionRegion",t.abrupt("break",10);case 7:return n="/Script/DisplayCluster.DisplayClusterLightCardActor",t.abrupt("break",10);case 9:return t.abrupt("return");case 10:return t.next=12,F.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","SpawnActor",{Class:n});case 12:return t.next=14,e.onRefreshActors();case 14:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onDeleteActor",Object(O.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.selected,r=a.section,n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,He.show("Delete ".concat(r===st.ColorCorrection?"Color Correct Region":"Light Card","?"));case 5:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,F.proxy.function(n,"DestroyActor");case 9:e.onRefreshActors();case 10:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onRefreshActors",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c,l,i,s,u,d,p,m,v;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.state.section,t.t0=r,t.next=t.t0===st.ColorCorrection?4:t.t0===st.LightCards?6:8;break;case 4:return o="/Script/ColorCorrectRegions.ColorCorrectRegion",t.abrupt("break",9);case 6:return o="/Script/DisplayCluster.DisplayClusterLightCardActor",t.abrupt("break",9);case 8:return t.abrupt("return");case 9:return t.next=11,F.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","FindAllActorsOfClass",{Class:o});case 11:if(t.t2=a=t.sent,t.t1=null!==t.t2,!t.t1){t.next=15;break}t.t1=void 0!==a;case 15:if(!t.t1){t.next=19;break}t.t3=a,t.next=20;break;case 19:t.t3={};case 20:return c=t.t3,l=Date.now(),t.next=24,F.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","GetValuesOfActorsByClass",{Class:o});case 24:if(t.t5=n=t.sent,t.t4=null!==t.t5,!t.t4){t.next=28;break}t.t4=void 0!==n;case 28:if(!t.t4){t.next=32;break}t.t6=n,t.next=33;break;case 32:t.t6={};case 33:for(s in i=t.t6,I.a.remove(e.actionsStack,(function(e){return e.timestamp<=l})),i)i[s]=JSON.parse(i[s]);u=Object(X.a)(e.actionsStack);try{for(u.s();!(d=u.n()).done;)p=d.value,I.a.set(i[p.target],p.property,p.value)}catch(b){u.e(b)}finally{u.f()}I.a.isEqual(e.state.actors,c)&&I.a.isEqual(e.state.values,i)||((m=e.state.selected)&&!c[m]&&(m=void 0),m||(m=I.a.first(Object.keys(c))),e.updateSelection&&(m=I.a.last(Object.keys(c))),v=i[m],e.updateSelection=!1,e.setState({actors:c,values:i,selected:m,value:v}));case 39:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"getRootComponentPath",(function(){var t=e.state,a=t.section,n=t.selected;if(!n)return n;var r=".Root";a===st.LightCards&&(r=".DefaultSceneRoot");var o=n.lastIndexOf("'");return o<0?"".concat(n).concat(r):n.slice(0,o)+r+n.slice(o)})),Object(E.a)(Object(q.a)(e),"onRefreshValues",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.length>0&&void 0!==c[0]&&c[0],a=e.state,n=a.selected,r=a.range,n){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,F.proxy.put("/remote/object/property",{objectPath:e.getRootComponentPath(),access:"READ_ACCESS"});case 6:o=t.sent,I.a.isEqual(e.state.root,o)||e.setState({root:o,range:r});case 8:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onRootPropertyValueChangeInternal",function(){var t=Object(O.a)(h.a.mark((function t(a,n,r){var o,c,l,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.state,c=o.selected,l=o.root,c){t.next=3;break}return t.abrupt("return");case 3:return i=I.a.set({},I.a.compact([a,n]),r),I.a.merge(l,i),e.setState({root:l}),t.next=8,F.proxy.put("/remote/object/property",{objectPath:e.getRootComponentPath(),access:"WRITE_TRANSACTION_ACCESS",propertyName:a,propertyValue:i});case 8:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onPropertyValueChangeInternal",function(){var t=Object(O.a)(h.a.mark((function t(a,n,r){var o,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.state.selected){t.next=3;break}return t.abrupt("return");case 3:return c=I.a.set({},n,r),l={timestamp:Date.now(),target:o,property:n,value:r},e.actionsStack.push(l),t.next=8,F.proxy.put("/remote/object/property",{objectPath:o,access:"WRITE_TRANSACTION_ACCESS",propertyName:a,propertyValue:c});case 8:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onThrottledPropertyValueChange",I.a.throttle(e.onPropertyValueChangeInternal,100)),Object(E.a)(Object(q.a)(e),"onThrottledRootPropertyValueChange",I.a.throttle(e.onRootPropertyValueChangeInternal,100)),Object(E.a)(Object(q.a)(e),"onPropertyChange",(function(t,a){var n=e.state.value;I.a.set(n,t,a),e.setState({value:n});var r=t.split("."),o=Object(z.a)(r,1)[0];e.onThrottledPropertyValueChange(o,t,a)})),Object(E.a)(Object(q.a)(e),"onReset",function(){var t=Object(O.a)(h.a.mark((function t(a,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.show("Are you sure you want to reset?");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:e.onPropertyChange(a,n);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onFavoriteToggle",(function(){var t=e.state,a=t.selected,n=t.favorites,r=t.actorsGroup,o=n[a];(r!==mt.Favorites||o)&&(n[a]=!n[a],n[a]||delete n[a],localStorage.setItem("favorites",JSON.stringify(n)),e.setState({favorites:n}))})),Object(E.a)(Object(q.a)(e),"onSectionChange",(function(t){var a=e.state.mode;switch(t){case st.ColorCorrection:a=ut.Global;break;case st.LightCards:a=ut.Color}e.setState({section:t,mode:a,actors:{},selected:void 0,root:void 0},e.onRefresh)})),Object(E.a)(Object(q.a)(e),"onInfiniteWheelMove",(function(t,a,n,r,o){var c=.0025*a*(r-n)*+e.state.sensitivity;t=Math.max(n,Math.min(r,t+c)),e.onPropertyChange(o,t)})),Object(E.a)(Object(q.a)(e),"getRange",(function(t){var a=e.state,n=a.mode,r=a.colorProperty;if(n===ut.Color)return{min:0,max:1};var o=0,c=2;for(var l in r===dt.Offset&&(o=-1,c=1),t)t[l]>c&&(c=t[l]);return{min:o,max:c}})),Object(E.a)(Object(q.a)(e),"getColorProperty",(function(){var t=e.state,a=t.section,n=t.mode,r=t.colorProperty;return a===st.LightCards?"Color":"ColorGradingSettings.".concat(n,".").concat(r)})),Object(E.a)(Object(q.a)(e),"renderColorSlider",(function(t,a,n,r,o){return e.renderSlider(t,a,n,r,2,null,!1,o)})),Object(E.a)(Object(q.a)(e),"renderSlider",(function(t,a,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,c=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",s=e.state,d=s.value,p=s.sliderMode,m=I.a.get(d,t),v="control wrap ".concat(t.replace(" ","-").replace(".","-"),"-slider ");l&&(v+="disabled ");var b=u.a.createElement(je,{showLabel:!0,precision:o,value:m,onChange:function(a){return e.onPropertyChange(t,a)},min:a,max:n});return p===vt.Infinity&&(b=u.a.createElement("div",{className:"infinite-slider-container"},u.a.createElement(Me,{size:200,className:"infinite-slider ".concat(i),onWheelMove:function(r){return e.onInfiniteWheelMove(m,r,a,n,t)}}),u.a.createElement(ye,{draggable:!1,precision:o,min:a,max:n,value:m,onChange:function(a){return e.onPropertyChange(t,a)}}))),u.a.createElement("div",{className:v,key:t},u.a.createElement("label",null,null!==c&&void 0!==c?c:I.a.startCase(I.a.last(t.split(".")))),b,u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){return e.onPropertyChange(t,r)}}))})),Object(E.a)(Object(q.a)(e),"renderToggle",(function(t,a){var n=e.state.value;return u.a.createElement("div",{className:"prop ".concat(t.replaceAll(" ","-").replaceAll(".","-"),"-toggle")},u.a.createElement("label",null,null!==a&&void 0!==a?a:I.a.startCase(t)),u.a.createElement("div",{className:"boolean-toggle ".concat(!I.a.get(n,t)&&"checked"," ")},u.a.createElement("label",{className:"switch toggle-mode"},u.a.createElement("input",{type:"checkbox",checked:!I.a.get(n,t),onChange:function(a){return e.onPropertyChange(t,!a.target.checked)}}),u.a.createElement("span",{className:"slider inline"})),u.a.createElement("div",{className:"labels"},u.a.createElement("div",{className:"off"},"ON"),u.a.createElement("div",{className:"on"},"OFF"))))})),Object(E.a)(Object(q.a)(e),"renderSelect",(function(t,a){var n=e.state.value,r=[];if(Array.isArray(a))r=a.map((function(e){return{value:e,label:I.a.startCase(e)}}));else for(var o in a)r.push({value:o,label:a[o]});return u.a.createElement("div",{className:"prop"},u.a.createElement("label",null,I.a.startCase(t)),u.a.createElement("select",{className:"dropdown",value:I.a.get(n,t),onChange:function(a){return e.onPropertyChange(t,a.target.value)}},r.map((function(e){return u.a.createElement("option",{value:e.value,key:e.value},e.label)}))))})),Object(E.a)(Object(q.a)(e),"executeButton",(function(t){var a=e.state.selected;return F.proxy.function(a,t,{})})),Object(E.a)(Object(q.a)(e),"renderButton",(function(t){return u.a.createElement("div",{className:"prop"},u.a.createElement(le,{label:t,onExecute:function(){return e.executeButton(t)}}))})),Object(E.a)(Object(q.a)(e),"renderGuidesColorPicker",(function(){var t=e.state.value,a=I.a.get(t,"GuideColor");return u.a.createElement("div",{className:"guides-color-picker"},u.a.createElement("div",{className:"label"},"Guide Color"),u.a.createElement("div",{className:"color-controls-row"},u.a.createElement(ue,{value:a,reset:!0,mode:pt.Rgb,type:n.LinearColor,onChange:function(t){return e.onPropertyChange("GuideColor",null!==t&&void 0!==t?t:{R:1,G:1,B:0,A:0})}}),u.a.createElement("div",{className:"control-rows"},e.renderColorSlider("GuideColor.R",0,1,1,"red-slider"),e.renderColorSlider("GuideColor.G",0,1,1,"green-slider"),e.renderColorSlider("GuideColor.B",0,1,1,"blue-slider"))))})),Object(E.a)(Object(q.a)(e),"isColorModeModified",(function(t,a){var n=e.state,r=n.values,o=n.section,c=I.a.get(r,[t,o===st.ColorCorrection?"ColorGradingSettings":"color grading",a],{});for(var l in c){var i=l===dt.Offset?0:1;for(var s in c[l]){if(c[l][s]!==i)return!0}}return!1})),Object(E.a)(Object(q.a)(e),"renderChangeIndication",(function(t,a){var n="indicator ";return e.isColorModeModified(t,a)&&(n+="active "),u.a.createElement("div",{className:n},u.a.createElement(ie.a,{icon:["fas","circle"]}))})),Object(E.a)(Object(q.a)(e),"renderTabsIcons",(function(){var t=e.state,a=["far","star"];return t.favorites[t.selected]&&(a=["fas","star"]),u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"tab-icon",onClick:e.onFavoriteToggle},u.a.createElement(ie.a,{icon:a})))})),Object(E.a)(Object(q.a)(e),"getActorClassName",(function(t){var a,n=e.state,r=n.selected,o=n.section,c="light-card ";r===t&&(c+="active ");var l=n.values[t];switch(o){case st.ColorCorrection:a=!1===(null===l||void 0===l?void 0:l.Enabled);break;case st.LightCards:a=!0===(null===l||void 0===l?void 0:l.bHidden)}return!0===a&&(c+="disabled "),c})),Object(E.a)(Object(q.a)(e),"renderActorsContent",(function(t,a,n,r){var o=e.state,c=o.search,l=o.favorites,i=o.section,s=(o.values,t*a),d=s+a;r&&(n=Object.fromEntries(I.a.toPairs(n).filter((function(e){var t=Object(z.a)(e,2);t[0];return t[1]}))));var p=Object.keys(n);return c&&(p=p.filter((function(t){return e.state.actors[t].toLowerCase().includes(c)}))),u.a.createElement(u.a.Fragment,null,p.slice(s,d).map((function(t){return u.a.createElement("div",{key:t,className:e.getActorClassName(t),onClick:function(){return e.onActorSelect(t)},onDoubleClick:function(){return e.onToggleActorEnable(t)}},I.a.startCase(e.state.actors[t]),!!l[t]&&u.a.createElement(ie.a,{className:"icon-favorite",icon:["fas","star"]}),i===st.ColorCorrection&&u.a.createElement("div",{className:"change-indicators"},e.renderChangeIndication(t,ut.Global),e.renderChangeIndication(t,ut.Highlights),e.renderChangeIndication(t,ut.Midtones),e.renderChangeIndication(t,ut.Shadows)))})),!r&&u.a.createElement("div",{className:"light-card add-button",onClick:e.onSpawnActor},u.a.createElement(ie.a,{icon:["fas","plus"]})))})),Object(E.a)(Object(q.a)(e),"renderAdvancedContent",(function(t){var a=[];return 0===t&&a.push(e.renderSlider("ColorGradingSettings.ShadowsMax",0,1,0),e.renderSlider("ColorGradingSettings.HighlightsMax",1,10,0),e.renderSlider("ColorGradingSettings.HighlightsMin",-1,1,0)),1===t&&a.push(e.renderSlider("Inner",0,1,.5),e.renderSlider("Outer",0,1,1,3),e.renderSlider("Priority",-1,20,0,0)),a})),Object(E.a)(Object(q.a)(e),"renderAppearanceContent",(function(t){var a=[];return 0===t&&a.push(e.renderSlider("Temperature",0,1e4,6500),e.renderSlider("Tint",-1,1,0,3),e.renderSlider("Exposure",-2,10,.5,3,"Exposure"),e.renderSlider("Gain",-2,10,1,3)),1===t&&a.push(e.renderSlider("Opacity",0,1,1,3),e.renderSlider("Feathering",0,1,0,3),u.a.createElement("div",{key:"none1"}),u.a.createElement("div",{key:"none2"})),a})),Object(E.a)(Object(q.a)(e),"renderOrientationContent",(function(t){var a=[];return 0===t&&a.push(e.renderSlider("DistanceFromCenter",-2e3,2e3,300),e.renderSlider("Longitude",0,360,0,2),e.renderSlider("Latitude",-90,90,0),e.renderSlider("Spin",-360,360,0),e.renderSlider("Pitch",-360,360,0),e.renderSlider("Yaw",-360,360,0)),1===t&&a.push(e.renderSlider("Scale.X",0,20,2,3,"Scale X"),e.renderSlider("Scale.Y",0,20,2,3,"Scale Y"),e.renderSlider("RadialOffset",-360,360,0),u.a.createElement("div",{key:"empty"})),a})),Object(E.a)(Object(q.a)(e),"renderPositionTab",(function(){var t=e.state,a=t.root,r=t.sensitivity;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"control-rows no-space vector-controls"},u.a.createElement("div",{className:"control"},u.a.createElement(xe,{value:I.a.get(a,"RelativeLocation"),label:"Location",propertyType:n.Vector,step:+r,defaultValue:{X:0,Y:0,Z:0},onChange:function(t,a){return e.onThrottledRootPropertyValueChange("RelativeLocation",t,a)}})),u.a.createElement("div",{className:"control"},u.a.createElement(xe,{value:I.a.get(a,"RelativeRotation"),label:"Rotation",propertyType:n.Rotator,step:+r,defaultValue:{Pitch:0,Roll:0,Yaw:0},onChange:function(t,a){return e.onThrottledRootPropertyValueChange("RelativeRotation",t,a)}})),u.a.createElement("div",{className:"control"},u.a.createElement(xe,{value:I.a.get(a,"RelativeScale3D"),label:"Scale",propertyType:n.Vector,step:+r,defaultValue:{X:1,Y:1,Z:1},onChange:function(t,a){return e.onThrottledRootPropertyValueChange("RelativeScale3D",t,a)}}))))})),Object(E.a)(Object(q.a)(e),"renderSection",(function(){var t,a=e.state,n=a.section,r=a.value;switch(n){case st.ColorCorrection:return u.a.createElement(ke,{rightIcon:e.renderTabsIcons(),defaultActiveKey:"default"},u.a.createElement(we,{id:"position",tab:"Position"},e.renderPositionTab()),u.a.createElement(we,{id:"default",tab:"Default"},u.a.createElement("div",{className:"props-row fit-dropdown"},e.renderSelect("Type",["Sphere","Box","Cylinder","Cone"]),e.renderSelect("TemperatureType",["LegacyTemperature","WhiteBalance","ColorTemperature"]),e.renderToggle("Enabled")),u.a.createElement("div",{className:"control-rows"},e.renderSlider("Temperature",0,1e4,6500),e.renderSlider("Intensity",0,1,1),e.renderSlider("Falloff",0,20,0,3),e.renderSlider("Tint",-1,1,0,3))),u.a.createElement(we,{id:"advanced",tab:"Advanced"},u.a.createElement("div",{className:"props-row"},e.renderToggle("Invert")),u.a.createElement("div",{className:"multilines-content"},u.a.createElement(Wt,{pages:2,key:"advanced"},(function(t){var a=t.pagination;return e.renderAdvancedContent(a)})))));case st.LightCards:return u.a.createElement(ke,{rightIcon:e.renderTabsIcons(),defaultActiveKey:"appearance"},u.a.createElement(we,{id:"appearance",tab:"Appearance"},u.a.createElement("div",{className:"grid-row"},u.a.createElement("div",{className:"props-row"},e.renderSelect("Mask",["Square","Circle","Polygon","UseTextureAlpha"]),u.a.createElement("div",{className:"prop asset-control"},u.a.createElement(Re,{browse:!0,reset:!1,type:"Texture",typePath:"/Script/Engine.Texture",label:"Texture",onChange:function(t){return e.onPropertyChange("Texture",t)},value:null!==(t=I.a.get(r,"Texture"))&&void 0!==t?t:""}),u.a.createElement("span",{className:"reset"},u.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){return e.onPropertyChange("Texture",null)}}))))),u.a.createElement("div",{className:"multilines-content"},u.a.createElement(Wt,{pages:2,key:"appearance"},(function(t){var a=t.pagination;return e.renderAppearanceContent(a)})))),u.a.createElement(we,{id:"orientation",tab:"Orientation"},u.a.createElement("div",{className:"multilines-content full-height"},u.a.createElement(Wt,{pages:2,key:"orientation"},(function(t){var a=t.pagination;return e.renderOrientationContent(a)})))),u.a.createElement(we,{id:"position",tab:"Position"},e.renderPositionTab()))}return null})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=localStorage.getItem("favorites"))&&this.setState({favorites:JSON.parse(t)})}catch(a){}return e.next=3,this.onRefresh();case 3:this.timer=setInterval(this.onRefresh,1e3);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.colorProperty,r=a.value,o=a.mode;if(n!==t.colorProperty||o!==t.mode){var c=this.getRange(I.a.get(r,this.getColorProperty()));this.setState({range:c})}}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){var e=this,t=this.state,a=t.selected,n=t.mode,r=t.actors,o=t.favorites,c=t.actorsGroup,l=t.section,i=t.value,s=t.colorProperty,d=t.range,p=t.sliderMode,m=t.sensitivity,v={},b=this.getColorProperty(),g=I.a.get(i,b);v.position="relative";var f="cc-group cc-panel ";a||(f+="disabled");var h=I.a.pickBy(o,(function(e,t){return!!r[t]}));return u.a.createElement("div",{className:"color-correction-wrapper custom-ui-wrapper ".concat(l),tabIndex:-1},u.a.createElement("div",{className:"ipad-debug"}),u.a.createElement("div",{className:"group"},u.a.createElement(Lt,{section:l,property:b,color:g,colorProperty:s,range:d,mode:n,disabled:!a,sliderMode:p,sensitivity:m,onSectionChange:this.onSectionChange,onPropertyChange:this.onPropertyChange,onRangeUpdate:function(t){return e.setState({range:e.getRange(t)})},onColorPropertyChange:function(t){return e.setState({colorProperty:t})},onColorModeChange:function(t){return e.setState({mode:t})},isColorPropertyModified:function(t){return e.isColorModeModified(a,t)}})),u.a.createElement("div",{className:"group"},u.a.createElement("div",{className:"cc-group shotbox cc-panel"},u.a.createElement(ke,{rightIcon:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"trash-icon",onClick:this.onDeleteActor},u.a.createElement(ie.a,{icon:["fas","trash"]})),u.a.createElement(Ie,{placeholder:"Search",onSearch:function(t){return e.setState({search:t})}})),onTabChange:function(t){return e.setState({actorsGroup:t})},defaultActiveKey:c},u.a.createElement(we,{id:mt.All,tab:"All",icon:["fas","square"]},u.a.createElement(Wt,{pageItems:this.actorsLength,total:Object.values(r).length,key:"all"},(function(t){var a=t.pagination;return e.renderActorsContent(a,e.actorsLength,r,!1)}))),u.a.createElement(we,{id:mt.Favorites,tab:"Favorites",icon:["fas","star"]},u.a.createElement(Wt,{pageItems:this.actorsLength+1,total:Object.values(h).length,key:"favorites"},(function(t){var a=t.pagination;return e.renderActorsContent(a,e.actorsLength,h,!0)}))))),u.a.createElement("div",{className:f,style:v},u.a.createElement("div",{className:"body"},this.renderSection()))),u.a.createElement("div",{className:"group bottom-bar"},u.a.createElement("div",{className:"cc-group inline-group"},u.a.createElement("div",{className:"group-item operation-style bottom-tabs-style"},u.a.createElement("div",{className:"label"},"Operation Style"),u.a.createElement(ke,{onlyHeader:!0,defaultActiveKey:p,onTabChange:function(t){return e.setState({sliderMode:t})}},Object.values(vt).map((function(e){return u.a.createElement(we,{key:e,tab:e,id:e})})))),u.a.createElement("div",{className:"group-item sensitivity-style bottom-tabs-style"},u.a.createElement("div",{className:"label"},"Sensitivity"),u.a.createElement(ke,{onlyHeader:!0,defaultActiveKey:m,onTabChange:function(t){return e.setState({sensitivity:t})}},Object.values(bt).map((function(e){return u.a.createElement(we,{key:e,tab:"x".concat(e),id:e})})))))))}}]),a}(u.a.Component);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Et=u.a.createElement("path",{d:"M32.2 10.5002C44.1 10.5002 53.8 20.3002 53.8 32.1002C53.8 43.9002 44 53.7002 32.2 53.7002C20.3 53.7002 10.6 43.9002 10.6 32.1002C10.6 20.3002 20.3 10.5002 32.2 10.5002ZM32.2 6.2002C17.8 6.2002 6.29999 17.7002 6.29999 32.1002C6.29999 46.5002 17.8 58.0002 32.2 58.0002C46.6 58.0002 58.1 46.5002 58.1 32.1002C58.1 17.7002 46.6 6.2002 32.2 6.2002Z",fill:"url(#paint0_linear_61_48)"}),Ct=u.a.createElement("path",{d:"M32.2 54.8004C44.7369 54.8004 54.9 44.6373 54.9 32.1004C54.9 19.5635 44.7369 9.40039 32.2 9.40039C19.6631 9.40039 9.5 19.5635 9.5 32.1004C9.5 44.6373 19.6631 54.8004 32.2 54.8004Z",fill:"url(#paint1_radial_61_48)"}),kt=u.a.createElement("path",{d:"M32 53.7C43.9 53.7 53.6 44 53.6 32.1C53.6 20.2 43.9 10.5 32 10.5C20.1 10.5 10.4 20.2 10.4 32.1C10.4 44 20.1 53.7 32 53.7Z",fill:"url(#paint2_radial_61_48)"}),wt=u.a.createElement("path",{d:"M39.9 31.6002C43.9 31.6002 47.1 28.4002 47.1 24.4002C47.1 20.4002 43.9 17.2002 39.9 17.2002C35.9 17.2002 32.7 20.4002 32.7 24.4002C32.7 28.3002 35.9 31.6002 39.9 31.6002Z",fill:"url(#paint3_radial_61_48)"}),Nt=u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"paint0_linear_61_48",x1:51.7924,y1:15.5287,x2:.912686,y2:58.6554,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{offset:.4569,stopColor:"#E6E6E6"}),u.a.createElement("stop",{offset:1,stopColor:"#666666"})),u.a.createElement("radialGradient",{id:"paint1_radial_61_48",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(39.081 22.4407) scale(20.1462)"},u.a.createElement("stop",{stopColor:"#CCCCCC"}),u.a.createElement("stop",{offset:1,stopColor:"#4D4D4D"})),u.a.createElement("radialGradient",{id:"paint2_radial_61_48",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(36.948 22.9535) scale(30.7001)"},u.a.createElement("stop",{stopColor:"white"}),u.a.createElement("stop",{offset:.3121,stopColor:"#B3B3B3"}),u.a.createElement("stop",{offset:.6357,stopColor:"#6A6A6A"}),u.a.createElement("stop",{offset:.7861,stopColor:"#4D4D4D"}),u.a.createElement("stop",{offset:1,stopColor:"#666666"})),u.a.createElement("radialGradient",{id:"paint3_radial_61_48",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(39.9291 24.363) scale(7.2137)"},u.a.createElement("stop",{offset:.4569,stopColor:"white"}),u.a.createElement("stop",{offset:1,stopColor:"#F2F2F2",stopOpacity:0}))),St=function(e){var t=e.svgRef,a=e.title,n=jt(e,["svgRef","title"]);return u.a.createElement("svg",yt({width:64,height:64,viewBox:"0 0 64 64",fill:"none",className:"ccr-icon",ref:t},n),a?u.a.createElement("title",null,a):null,Et,Ct,kt,wt,Nt)},Pt=u.a.forwardRef((function(e,t){return u.a.createElement(St,yt({svgRef:t},e))}));a.p;function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Dt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Tt=u.a.createElement("path",{opacity:.5,d:"M80 74H65V82H80V74Z",fill:"white"}),It=u.a.createElement("path",{opacity:.5,d:"M75.2 89H68.8L66 85H78L75.2 89Z",fill:"white"}),Mt=u.a.createElement("path",{d:"M71.8119 28C61.2772 28 53 37.5455 53 46.7091C53 52.0546 56.3861 56.2546 60.1485 60.0727C62.4059 62.3636 64.2871 66.1818 66.9208 70H77.0792C79.7129 66.5636 81.5941 62.3636 83.8515 60.0727C87.6139 56.2546 91 52.0546 91 46.7091C90.6238 37.5455 82.3465 28 71.8119 28Z",fill:"white"}),Rt=function(e){var t=e.svgRef,a=e.title,n=Dt(e,["svgRef","title"]);return u.a.createElement("svg",xt({width:64,height:128,viewBox:"0 0 132 128",fill:"none",ref:t},n),a?u.a.createElement("title",null,a):null,Tt,It,Mt)},At=u.a.forwardRef((function(e,t){return u.a.createElement(Rt,xt({svgRef:t},e))})),Lt=(a.p,function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(E.a)(Object(q.a)(e),"state",{colorMode:pt.Rgb}),Object(E.a)(Object(q.a)(e),"onReset",function(){var t=Object(O.a)(h.a.mark((function t(a,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.show("Are you sure you want to reset?");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:e.props.onPropertyChange(a,n);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onColorModeChange",(function(){var t=pt.Hsv;e.state.colorMode===pt.Hsv&&(t=pt.Rgb),e.setState({colorMode:t})})),Object(E.a)(Object(q.a)(e),"onColorChange",(function(t){var a=e.props,n=a.color,r=a.property;return I.a.isObject(n)&&(t=Object(g.a)(Object(g.a)({},n),t)),e.props.onPropertyChange(r,t)})),Object(E.a)(Object(q.a)(e),"onHsvWheelMove",(function(t,a){var n=e.props,r=n.range,o=n.color,c=n.mode,l=n.sensitivity,i=se.colorToRgb(o,r.max),s=se.rgb2Hsv(i);if(a)s.h=a/360;else{var u=.001*t*+l;s.h+u<0&&(u+=1),s.h=s.h+u}i=se.hsv2rgb(s),o=se.rgbToColor(i,r.max,c!==ut.Color),e.onColorChange(o)})),Object(E.a)(Object(q.a)(e),"onShiftSliderMove",(function(t){var a=e.props,n=a.colorProperty,r=a.property,o=a.color,c=.01*t*+a.sensitivity;if(o){var l=o.X+o.Y+o.Z,i=0;n===dt.Offset&&(i=-1),o.X=Math.max(i,o.X+(o.X/l||1)*c),o.Y=Math.max(i,o.Y+(o.Y/l||1)*c),o.Z=Math.max(i,o.Z+(o.Z/l||1)*c),e.props.onPropertyChange(r,o),e.props.onRangeUpdate(o)}})),Object(E.a)(Object(q.a)(e),"getSectionProps",(function(t){var a=e.props,n=a.section,r=a.onSectionChange,o="cc-group mode-button ";return n===t&&(o+="active "),{className:o,onClick:function(){return r(t)}}})),Object(E.a)(Object(q.a)(e),"getColorResetValue",(function(){var t=e.props,a=t.mode,n=t.colorProperty;return a===ut.Color?{R:1,G:1,B:1,A:0}:n===dt.Offset?{X:0,Y:0,Z:0,W:0}:{X:1,Y:1,Z:1,W:1}})),Object(E.a)(Object(q.a)(e),"getHsvValue",(function(){var t=e.props,a=t.range,n=t.color,r=se.colorToRgb(n,a.max);return se.rgb2Hsv(r)})),Object(E.a)(Object(q.a)(e),"getValueColor",(function(){var t=e.props,a=t.color,n=t.mode;if(!a||n===ut.Color)return{opacity:0};var r=Math.max(a.X,a.Y,a.Z,1),o=se.colorToRgb(a,r),c=se.rgb2Hsv(o),l=0;return c.v&&(l=Math.max(0,Math.min(1,+(1-c.v).toFixed(4)))),{opacity:l}})),Object(E.a)(Object(q.a)(e),"getPreviewColorStyles",(function(t){var a=e.props.range,n=se.colorToRgb(t,a.max);return{background:"rgb(".concat(Math.round(n.R),",").concat(Math.round(n.G),",").concat(Math.round(n.B),")")}})),Object(E.a)(Object(q.a)(e),"getPropertyType",(function(){var t=e.props.mode,a=n.Vector4;return t===ut.Color&&(a=n.LinearColor),a})),Object(E.a)(Object(q.a)(e),"renderColorSlider",(function(t,a,n){var r=e.state.colorMode,o=e.props,c=o.color,l=o.colorProperty,i=o.property,s=o.range,d=o.sliderMode,p=o.sensitivity,m=e.getPropertyType();return u.a.createElement(Vt,{className:n,label:a,mode:d,sensitivity:+p,color:c,colorProperty:l,property:i,sliderProperty:t,range:s,colorMode:r,propertyType:m,onPropertyChange:e.props.onPropertyChange,onRangeUpdate:e.props.onRangeUpdate})})),Object(E.a)(Object(q.a)(e),"renderSliders",(function(){return e.getPropertyType()===n.LinearColor?u.a.createElement(u.a.Fragment,null,e.renderColorSlider("R","R","red-slider"),e.renderColorSlider("G","G","green-slider"),e.renderColorSlider("B","B","blue-slider"),e.renderColorSlider("A","A","alpha-slider")):e.state.colorMode===pt.Hsv?u.a.createElement(u.a.Fragment,null,e.renderColorSlider("s","S","saturation-slider"),e.renderColorSlider("v","V","alpha-slider"),e.renderColorSlider("a","Y","alpha-slider")):u.a.createElement(u.a.Fragment,null,e.renderColorSlider("X","R","red-slider"),e.renderColorSlider("Y","G","green-slider"),e.renderColorSlider("Z","B","blue-slider"),e.renderColorSlider("W","Y","alpha-slider"))})),Object(E.a)(Object(q.a)(e),"renderModifyIndicator",(function(t){var a,n;return(null===(a=(n=e.props).isColorPropertyModified)||void 0===a?void 0:a.call(n,t))?u.a.createElement("div",{className:"change-indicator active"},u.a.createElement(ie.a,{icon:["fas","circle"]})):null})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.property,n=t.color,r=t.colorProperty,o=t.range,c=t.mode,l=t.disabled,i=t.section,s=this.state.colorMode,d=this.getColorResetValue(),p=this.getHsvValue(),m=p?(360*p.h).toFixed(1):0,v={};l&&(v.opacity=.6,v.pointerEvents="none");var b=Object.values(ut);return i===st.ColorCorrection&&(b=b.filter((function(e){return e!==ut.Color}))),u.a.createElement("div",{className:"group"},u.a.createElement("div",{className:"cc-group screen-mode-selectors"},u.a.createElement("div",{className:"mode-selector"},u.a.createElement("div",this.getSectionProps(st.ColorCorrection),u.a.createElement(Pt,null)),u.a.createElement("div",this.getSectionProps(st.LightCards),u.a.createElement(At,null)))),u.a.createElement("div",{className:"cc-group",style:v},u.a.createElement("div",{className:"body",style:{width:"calc(100% - 20px)"}},i===st.ColorCorrection&&u.a.createElement("div",{className:"mode-selectors"},u.a.createElement(ke,{onTabChange:this.props.onColorModeChange,onlyHeader:!0,defaultActiveKey:c},b.map((function(t){return u.a.createElement(we,{key:t,id:t,tab:t,view:function(){return e.renderModifyIndicator(t)}})})))),u.a.createElement("div",{className:"color-picker-singleton"},u.a.createElement("div",{className:"color-wheel"},u.a.createElement(ie.a,{className:"reset-icon",icon:["fas","undo"],onClick:function(){return e.onReset(a,d)}}),s===pt.Rgb&&u.a.createElement("div",{className:"color-picker-value",style:this.getValueColor()}),u.a.createElement(ue,{value:n,mode:s,alpha:c===ut.Color,type:this.getPropertyType(),max:o.max,onChange:function(t){return e.onColorChange(null!==t&&void 0!==t?t:d)}}),u.a.createElement("div",{className:"wheel-addon"},u.a.createElement("div",{className:"dot",style:this.getPreviewColorStyles(n)}),u.a.createElement("div",{className:"color-mode-toggle ".concat(s===pt.Hsv&&"checked"," ")},u.a.createElement("label",{className:"switch toggle-mode"},u.a.createElement("input",{type:"checkbox",checked:s===pt.Hsv,onChange:this.onColorModeChange}),u.a.createElement("span",{className:"slider inline"})),u.a.createElement("div",{className:"labels"},u.a.createElement("div",{className:"off"},"RGB"),u.a.createElement("div",{className:"on"},"HSV"))))),u.a.createElement("div",{className:"shift-slider"},s===pt.Rgb&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Me,{vertical:!0,onWheelMove:this.onShiftSliderMove}),"Value")),u.a.createElement("div",{className:"details-section"},u.a.createElement("div",{className:"color-property-selection"},i===st.ColorCorrection&&Object.values(dt).map((function(t){return u.a.createElement("div",{key:t,onClick:function(){return e.props.onColorPropertyChange(t)},className:"mode-selector ".concat(t===r?"active":"")},t)}))),u.a.createElement("div",{className:"color-properties"},u.a.createElement("div",{className:"sliders"},u.a.createElement("div",{className:"rgb-sliders"},this.renderSliders(),u.a.createElement("div",{className:"slider-wheel-container hue-slider"},u.a.createElement("span",{className:"title"},"Hue"),u.a.createElement(Me,{size:200,onWheelMove:function(t){return e.onHsvWheelMove(t)}}),u.a.createElement(ye,{draggable:!1,precision:1,min:0,max:360,value:m,onChange:function(t){return e.onHsvWheelMove(1,t)}}))))))))))}}]),a}(u.a.Component)),Vt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(E.a)(Object(q.a)(e),"onChange",(function(t,a,n){return e.props.colorMode===pt.Rgb?e.onRgbChange(t,a,n):e.onHsvChange(t,a,n)})),Object(E.a)(Object(q.a)(e),"onRgbChange",(function(t,a,n){var r=e.props,o=r.sensitivity,c=r.color,l=r.colorProperty,i=r.property;if(c){var s=.01*a*o;c[t]+=s,void 0!==n&&(c[t]=n),l!==dt.Offset&&(c[t]=Math.max(0,c[t])),e.props.onPropertyChange(i,c),e.props.onRangeUpdate(c)}})),Object(E.a)(Object(q.a)(e),"onHsvChange",(function(t,a,r){var o=e.props,c=o.sensitivity,l=o.propertyType,i=o.range,s=o.colorProperty,u=o.property;if(e.props.color){var d=.01*a*c,p=e.getHsv(i.max);p[t]+=d,void 0!==r&&("v"===t&&(r/=i.max),p[t]=r),p[t]=Math.max(p[t],1e-4);var m=se.hsv2rgb(p),v=m;switch(l){case n.Vector4:v=se.rgbToColor(m,i.max);break;case n.LinearColor:v=se.rgbToColor(m,i.max,!1)}if(m.A&&(v.W=m.A),s!==dt.Offset)for(var b in v)v[b]=Math.max(0,v[b]);e.props.onPropertyChange(u,v),e.props.onRangeUpdate(v)}})),Object(E.a)(Object(q.a)(e),"getHsv",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=e.props.color,n=se.colorToRgb(a,t);return se.rgb2Hsv(n)})),Object(E.a)(Object(q.a)(e),"getValue",(function(t){return e.props.colorMode===pt.Rgb?e.getRgbValue(t):e.getHsvValue(t)})),Object(E.a)(Object(q.a)(e),"getRgbValue",(function(t){var a,n=e.props.color,r=null===n||void 0===n?void 0:n[t];return null!==(a=null===r||void 0===r?void 0:r.toFixed(3))&&void 0!==a?a:0})),Object(E.a)(Object(q.a)(e),"getHsvValue",(function(t){return e.getHsv()[t]})),Object(E.a)(Object(q.a)(e),"getSSliderColor",(function(){var t,a=e.getHsv(),n=se.hsv2rgb({h:a.h,s:1,v:1,a:null===a||void 0===a?void 0:a.a});return"linear-gradient(90deg, ".concat(e.getVSliderMinColor()," 0%, rgba(").concat(n.R,", ").concat(n.G,", ").concat(n.B,", ").concat(null!==(t=null===n||void 0===n?void 0:n.A)&&void 0!==t?t:1,") 100%)")})),Object(E.a)(Object(q.a)(e),"getVSliderColor",(function(){var t,a,n=e.getHsv(),r=se.hsv2rgb({h:n.h,s:n.s,v:1,a:null===n||void 0===n?void 0:n.a});return"linear-gradient(90deg, rgba(0,0,0,".concat(null!==(t=null===r||void 0===r?void 0:r.A)&&void 0!==t?t:1,") 0%, rgba(").concat(r.R,", ").concat(r.G,", ").concat(r.B,", ").concat(null!==(a=null===r||void 0===r?void 0:r.A)&&void 0!==a?a:1,") 100%)")})),Object(E.a)(Object(q.a)(e),"getVSliderMinColor",(function(){var t,a=e.getHsv(),n=se.hsv2rgb({h:a.h,s:0,v:a.v,a:null===a||void 0===a?void 0:a.a});return"rgba(".concat(n.R,", ").concat(n.G,", ").concat(n.B,", ").concat(null!==(t=null===n||void 0===n?void 0:n.A)&&void 0!==t?t:1,")")})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,r=t.mode,o=t.label,c=t.sliderProperty,l=t.range,i=t.colorMode,s=Math.max(l.min,l.max),d=r===vt.Infinity,p={};return n+=" slider-wheel-container ".concat(c,"-slider"),d||(n+=" slider"),i===pt.Hsv&&"s"===c&&(p.background=this.getSSliderColor(),s=1),i===pt.Hsv&&"v"===c&&(p.background=this.getVSliderColor()),u.a.createElement("div",{className:n},u.a.createElement("span",{className:"title"},o),d&&u.a.createElement(Me,{size:200,style:p,onWheelMove:function(t){return e.onChange(c,t)}}),!d&&u.a.createElement(je,{showLabel:!1,style:p,value:+this.getValue(c),onChange:function(t){return e.onChange(c,0,t)},min:l.min,max:s,size:200}),u.a.createElement(ye,{draggable:!1,precision:3,min:l.min,value:this.getValue(c),onChange:function(t){return e.onChange(c,0,t)}}))}}]),a}(u.a.Component),Wt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{pagination:0}),Object(E.a)(Object(q.a)(e),"getIsDisabled",(function(t){var a=e.state.pagination,n=e.props,r=n.pageItems,o=n.total,c=n.pages,l=a+t;return l<0||(!!(c&&l>c-1)||l*r>=o)})),Object(E.a)(Object(q.a)(e),"onPaginationClick",(function(t,a){if(!a){var n=e.state.pagination;n+=t,e.setState({pagination:n})}})),Object(E.a)(Object(q.a)(e),"renderPaginationArrow",(function(t){var a="arrow up ",n=e.getIsDisabled(t);return t>0&&(a=a.replace("up","down")),n&&(a+="disabled "),u.a.createElement("div",{className:a,onClick:function(){return e.onPaginationClick(t,n)}},u.a.createElement("div",{className:"icon"}))})),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.children;return u.a.createElement("div",{className:"content",style:{display:"flex"}},u.a.createElement("div",{className:"body",style:{width:"100%"}},e(Object(g.a)({},this.state))),u.a.createElement("div",{className:"arrows-pagination"},this.renderPaginationArrow(-1),this.renderPaginationArrow(1)))}}]),a}(u.a.Component),_t=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(E.a)(Object(q.a)(e),"timer",void 0),Object(E.a)(Object(q.a)(e),"state",{selected:"",actors:{},value:{}}),Object(E.a)(Object(q.a)(e),"onRefresh",Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onRefreshActors();case 2:return t.next=4,e.onRefreshValues();case 4:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onActorSelect",(function(t){e.setState({selected:t},e.onRefreshValues)})),Object(E.a)(Object(q.a)(e),"onSpawnActor",Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","SpawnActor",{Class:"/nDisplay/LightCard/LightCard.LightCard_C"});case 2:return t.next=4,e.onRefreshActors();case 4:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onRefreshActors",Object(O.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","FindAllActorsOfClass",{Class:"/nDisplay/LightCard/LightCard.LightCard_C"});case 2:a=t.sent,I.a.isEqual(e.state.actors,a)||((n=e.state.selected)&&!a[n]&&(n=void 0),n||(n=I.a.first(Object.keys(a))),e.setState({actors:a,selected:n}));case 4:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onRefreshValues",Object(O.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.selected){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,F.proxy.put("/remote/object/property",{objectPath:a,access:"READ_ACCESS"});case 5:n=t.sent,I.a.isEqual(e.state.value,n)||e.setState({value:n});case 7:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onPropertyValueChangeInternal",function(){var t=Object(O.a)(h.a.mark((function t(a,n,r){var o,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.state.selected){t.next=3;break}return t.abrupt("return");case 3:return c=I.a.set({},n,r),t.next=6,F.proxy.put("/remote/object/property",{objectPath:o,access:"WRITE_ACCESS",propertyName:a,propertyValue:c});case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onThrottledPropertyValueChange",I.a.throttle(e.onPropertyValueChangeInternal,100)),Object(E.a)(Object(q.a)(e),"onPropertyChange",(function(t,a){var n=e.state.value;I.a.set(n,t,a),e.setState({value:n});var r=t.split("."),o=Object(z.a)(r,1)[0];e.onThrottledPropertyValueChange(o,t,a)})),Object(E.a)(Object(q.a)(e),"renderColorPicker",(function(t){var a=e.state.value;return u.a.createElement(ue,{value:I.a.get(a,t),type:n.LinearColor,alpha:!0,onChange:function(a){return e.onPropertyChange(t,a)}})})),Object(E.a)(Object(q.a)(e),"renderSlider",(function(t,a,n,r){var o=e.state.value;return u.a.createElement("div",{className:"control"},u.a.createElement("label",null,null!==r&&void 0!==r?r:I.a.startCase(t)),u.a.createElement(je,{showLabel:!0,value:I.a.get(o,t),onChange:function(a){return e.onPropertyChange(t,a)},min:a,max:n}))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.onRefresh();case 2:this.timer=setInterval(this.onRefresh,1e3);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){var e=this,t=this.state,a=t.selected,n=t.actors,r={};return a||(r.opacity=.6,r.pointerEvents="none"),u.a.createElement("div",{className:"light-cards-wrapper  custom-ui-wrapper",tabIndex:-1},u.a.createElement("div",{className:"group",style:r},u.a.createElement("div",{className:"group vertical"},u.a.createElement("div",{className:"cc-group"},u.a.createElement("div",{className:"cc-title"},"Size and Position"),u.a.createElement("div",{className:"body"},this.renderSlider("DistanceFromCenter",0,1e4,"Distance"),this.renderSlider("Scale.X",.01,1),this.renderSlider("Scale.Y",.01,1),this.renderSlider("Longitude",0,360),this.renderSlider("Latitude",0,360))),u.a.createElement("div",{className:"cc-group"},u.a.createElement("div",{className:"cc-title"},"Guides"),u.a.createElement("div",{className:"body"},this.renderColorPicker("Color")))),u.a.createElement("div",{className:"cc-group"},u.a.createElement("div",{className:"cc-title"},"Appearance"),u.a.createElement("div",{className:"body"},this.renderColorPicker("GuideColor"),this.renderSlider("Exposure",0,10),this.renderSlider("Opacity",0,1),this.renderSlider("Feathering",0,10)))),u.a.createElement("div",{className:"cc-group shotbox"},u.a.createElement("div",{className:"body"},Object.keys(n).map((function(t){return u.a.createElement("div",{key:t,className:"light-card ".concat(a===t?"active":""),onClick:function(){return e.onActorSelect(t)}},I.a.startCase(n[t]))})),u.a.createElement("div",{className:"light-card active",onClick:function(){return e.onSpawnActor()}},u.a.createElement(ie.a,{icon:["fas","plus"]})))))}}]),a}(u.a.Component),Ut=a(37),Ft=a.n(Ut),Bt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"player",void 0),Object(E.a)(Object(q.a)(e),"interval",void 0),Object(E.a)(Object(q.a)(e),"state",{filter:"",sequences:[],activeTooltip:null}),Object(E.a)(Object(q.a)(e),"onInitialize",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c,l,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.proxy.function("Object'/Engine/Transient.UnrealEdEngine_0:UnrealEditorSubsystem_0'","GetEditorWorld");case 2:if(a=t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,F.proxy.function("Object'/Script/SequencerPlaylists.Default__SequencerPlaylistPlayer'","GetDefaultPlayer",{WorldContextObject:a});case 7:return e.player=t.sent,t.next=10,F.assets.search("",["/Script/LevelSequence.LevelSequence"],"/Game",200);case 10:return n=t.sent,e.setState({sequences:n}),t.next=14,F.proxy.function(e.player,"GetPlaylist");case 14:if(!(r=t.sent)){t.next=23;break}return o=Ft.a.dirname(r),c=Ft.a.basename(r).split("."),l=Object(z.a)(c,1),i=l[0],t.next=20,F.assets.search(i,["/Script/SequencerPlaylists.SequencerPlaylist"],o,200);case 20:return s=t.sent,t.next=23,e.onLoadPlaylist(s[0]);case 23:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onSearchChange",(function(t){e.setState({filter:t})})),Object(E.a)(Object(q.a)(e),"onCheckSequenceStatus",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c,l,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.playlist,r=a.data,n&&(null===r||void 0===r?void 0:r.Items)){t.next=3;break}return t.abrupt("return");case 3:o=!1,c=Object(X.a)(r.PlaylistItems),t.prev=5,c.s();case 7:if((l=c.n()).done){t.next=15;break}return i=l.value,t.next=11,F.proxy.function(e.player,"IsPlaying",{Item:i.Path});case 11:(s=!!t.sent)!==i.IsPlaying&&(i.IsPlaying=s,o=!0);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),c.e(t.t0);case 20:return t.prev=20,c.f(),t.finish(20);case 23:o&&e.forceUpdate();case 24:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})))),Object(E.a)(Object(q.a)(e),"onDocumentClick",(function(t){var a=e.state.activeTooltip;t.defaultPrevented||null===a||e.setState({activeTooltip:null})})),Object(E.a)(Object(q.a)(e),"onTooltipClick",(function(t,a){t.preventDefault(),e.setState({activeTooltip:a})})),Object(E.a)(Object(q.a)(e),"onPlaylistBrowse",Object(O.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qe.open({placeholder:"Search Playlist",types:["/Script/SequencerPlaylists.SequencerPlaylist"],prefix:"/Game",count:200});case 2:if(a=t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,F.proxy.function(e.player,"SetPlaylist",{InPlaylist:a.Path});case 7:return t.next=9,e.onLoadPlaylist(a);case 9:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onLoadPlaylist",function(){var t=Object(O.a)(h.a.mark((function t(a){var n,r,o,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,F.proxy.property.get(a.Path);case 4:(n=t.sent).PlaylistItems=[],r=Object(X.a)(n.Items),t.prev=7,r.s();case 9:if((o=r.n()).done){t.next=18;break}return c=o.value,t.next=13,F.proxy.property.get(c);case 13:(l=t.sent).Path=c,n.PlaylistItems.push(l);case 16:t.next=9;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(7),r.e(t.t0);case 23:return t.prev=23,r.f(),t.finish(23);case 26:e.setState({playlist:a,data:n,filter:""});case 27:case"end":return t.stop()}}),t,null,[[7,20,23,26]])})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onAddItem",Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),Object(E.a)(Object(q.a)(e),"onSequenceBrowse",function(){var t=Object(O.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qe.open({placeholder:"Search Sequence",types:["LevelSequence"],prefix:"/Game",count:200});case 2:if(!(n=t.sent)){t.next=6;break}return t.next=6,e.onSetPlaylistItem(a,"Sequence",n.Path);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onPlaylistAction",(function(t){if(e.state.playlist&&e.player)return F.proxy.function(e.player,t)})),Object(E.a)(Object(q.a)(e),"onPlaylistItemAction",(function(t,a){if(e.state.playlist&&e.player)return F.proxy.function(e.player,a,{Item:t.Path})})),Object(E.a)(Object(q.a)(e),"onSetPlaylistItem",function(){var t=Object(O.a)(h.a.mark((function t(a,n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a[n]=r,t.next=3,F.proxy.property.set(a.Path,n,r);case 3:e.forceUpdate();case 4:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"renderPlaylistItem",(function(t,a){var n=e.state.sequences,r=F.assets.thumbnailUrl(t.Sequence);return t.IsPlaying&&"active",u.a.createElement("tr",{key:a,className:"playlist-item col col-".concat(a+1)},u.a.createElement("td",{className:"col-actions"},u.a.createElement("div",{className:"controls"},u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary playlist-play ".concat(t.IsPlaying&&"playing"," "),onClick:function(){return e.onPlaylistItemAction(t,"PlayItem")}},u.a.createElement(ie.a,{icon:["fas","play"]})),u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary playlist-stop  ".concat(t.IsPlaying&&"playing active"),onClick:function(){return e.onPlaylistItemAction(t,"StopItem")}},u.a.createElement(ie.a,{icon:["fas","stop"]})),u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary playlist-rehold",onClick:function(){return e.onPlaylistItemAction(t,"ResetItem")}},u.a.createElement(ie.a,{icon:["fas","reply"]})))),u.a.createElement("td",{className:"col-thumb"},u.a.createElement("div",{className:"thumbnail-block"},u.a.createElement(Oe,{src:r,fallback:"/images/assets/Sequencer.png",alt:t.Sequence,className:"box-image"}))),u.a.createElement("td",{className:"col-name"},u.a.createElement("select",{value:t.Sequence,onChange:function(a){return e.onSetPlaylistItem(t,"Sequence",a.target.value)}},u.a.createElement("option",null,"None"),n.map((function(e){return u.a.createElement("option",{key:e.Path,value:e.Path},e.Name)}))),u.a.createElement("span",{className:"icon",onClick:function(){return e.onSequenceBrowse(t)}},u.a.createElement("img",{src:"/images/icons/playlistIcons/ContentBrowser.svg",className:"playlist-icon"}))),u.a.createElement("td",{className:"col-control"},u.a.createElement("div",{className:"input-container"},u.a.createElement(ye,{value:t.StartFrameOffset,onChange:function(a){return e.onSetPlaylistItem(t,"StartFrameOffset",a)},precision:0})),u.a.createElement("div",{className:"input-container"},u.a.createElement(ye,{value:t.EndFrameOffset,onChange:function(a){return e.onSetPlaylistItem(t,"EndFrameOffset",a)},precision:0}))),u.a.createElement("td",{className:"col-control"},u.a.createElement("div",{className:"checkbox-container"},u.a.createElement("label",{className:"container"},u.a.createElement("input",{type:"checkbox",checked:t.bHoldAtFirstFrame,onChange:function(a){return e.onSetPlaylistItem(t,"bHoldAtFirstFrame",a.target.checked)}}),u.a.createElement("span",{className:"checkmark"},u.a.createElement("img",{src:"/images/icons/playlistIcons/HoldFrame.svg",className:"playlist-icon"}))))),u.a.createElement("td",{className:"col-control"},u.a.createElement("div",null,u.a.createElement(ye,{value:t.NumLoops,onChange:function(a){return e.onSetPlaylistItem(t,"NumLoops",a)},precision:0}))))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){document.onclick=this.onDocumentClick,this.onInitialize(),this.interval=setInterval(this.onCheckSequenceStatus,300)}},{key:"componentWillUnmount",value:function(){document.onclick=null,clearInterval(this.interval),this.interval=null}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.filter,r=a.playlist,o=a.data,c=null!==(e=null===o||void 0===o?void 0:o.PlaylistItems)&&void 0!==e?e:[];if(n){var l=n.toLowerCase();c=I.a.filter(c,(function(e){return e.Sequence.toLowerCase().includes(l)}))}return r?u.a.createElement("div",{className:"playlist-wrapper",tabIndex:-1},u.a.createElement("div",{className:"playlist-controls"},u.a.createElement("div",null,u.a.createElement("div",{className:"playlist-header",onClick:this.onPlaylistBrowse},u.a.createElement("span",{className:"icon"},u.a.createElement(ie.a,{icon:["fas","folder"]})),u.a.createElement("h1",null,null===r||void 0===r?void 0:r.Name)),u.a.createElement("span",{className:"description"},null===o||void 0===o?void 0:o.Description)),u.a.createElement("div",{className:"controls"},u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary playlist-play",onClick:function(){return t.onPlaylistAction("PlayAll")}},u.a.createElement(ie.a,{icon:["fas","play"]})),u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary playlist-stop",onClick:function(){return t.onPlaylistAction("StopAll")}},u.a.createElement(ie.a,{icon:["fas","stop"]})),u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary playlist-rehold",onClick:function(){return t.onPlaylistAction("ResetAll")}},u.a.createElement(ie.a,{icon:["fas","reply"]})))),u.a.createElement("div",{className:"list-wrapper"},u.a.createElement("div",{className:"search-block"},u.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary add-item",onClick:this.onAddItem},u.a.createElement(ie.a,{icon:["fas","plus"]})," Item"),u.a.createElement("div",{className:"search-field"},u.a.createElement(ie.a,{icon:["fas","search"]}),u.a.createElement("input",{type:"text",value:n,onChange:function(e){return t.onSearchChange(e.target.value)},autoComplete:"no"}))),u.a.createElement("div",{className:"table-wrapper"},u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"col col-control"},"\xa0"),u.a.createElement("th",{className:"col col-3",colSpan:2},"Playlist Items"),u.a.createElement("th",{className:"col col-control"},"Offset"),u.a.createElement("th",{className:"col col-control"},"Hold"),u.a.createElement("th",{className:"col col-control"},"Loop"))),u.a.createElement("tbody",null,c.map(this.renderPlaylistItem)))))):u.a.createElement("div",{className:"playlist-wrapper"},u.a.createElement("div",{className:"playlist-placeholder"},u.a.createElement("div",{className:"playlist-placeholder-title",onClick:this.onPlaylistBrowse},u.a.createElement("img",{src:"/images/icons/playlistIcons/PlaylistLoad.svg",className:"playlist-icon large"}),"Load Playlist")))}}]),a}(u.a.Component),Ht=(u.a.Component,function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{map:"",search:"",sortBy:"Metadata.CaptureTime",sortAsc:!1,snapshots:[],filters:[]}),Object(E.a)(Object(q.a)(e),"fetchAssets",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c,l,i,s,u,d,p,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.map){t.next=8;break}return t.next=4,F.proxy.function("/Script/UnrealEd.Default__EditorSubsystemBlueprintLibrary","GetEditorSubsystem",{Class:"/Script/UnrealEd.UnrealEditorSubsystem"});case 4:return n=t.sent,t.next=7,F.proxy.function(n,"GetEditorWorld",{});case 7:a=t.sent;case 8:return t.next=10,F.assets.search("",["/Script/LevelSnapshotFilters.LevelSnapshotFilter"],"/Game",{},50);case 10:return r=t.sent,o={EnableBlueprintNativeClassFiltering:!0,NativeParentClasses:["/Script/LevelSnapshotFilters.LevelSnapshotBlueprintFilter"]},t.t0=I.a,t.next=15,F.assets.search("",["/Script/Engine.Blueprint"],"/Game",o,50);case 15:return t.t1=t.sent,t.t2=function(e){return!!e.Metadata.GeneratedClass},c=t.t0.filter.call(t.t0,t.t1,t.t2),l=[].concat(Object(Y.a)(c),Object(Y.a)(r)),i=e.state,s=i.search,u=i.sortBy,d=i.sortAsc,t.next=22,F.assets.search(s,["/Script/LevelSnapshots.LevelSnapshot"],"/Game",{},200);case 22:p=t.sent,m=I.a.filter(p,(function(e){var t;return!a||(null===(t=e.Metadata)||void 0===t?void 0:t.MapPath)===a})),m=e.sortAssets(m,u,d),e.setState({snapshots:m,filters:l,map:a});case 26:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"fetchAssetsDebounced",I.a.debounce(e.fetchAssets,200)),Object(E.a)(Object(q.a)(e),"sortAssets",(function(e,t,a){return I.a.orderBy(e,[t],[a?"asc":"desc"])})),Object(E.a)(Object(q.a)(e),"onSortChange",(function(){var t=e.state,a=t.sortBy,n=t.sortAsc,r=e.sortAssets(e.state.snapshots,a,n);e.setState({snapshots:r})})),Object(E.a)(Object(q.a)(e),"onSetSort",(function(t){var a=e.state.sortAsc;a=t!==e.state.sortBy||!a,e.setState({sortBy:t,sortAsc:a},e.onSortChange)})),Object(E.a)(Object(q.a)(e),"onSearchChange",(function(t){e.setState({search:t}),e.fetchAssetsDebounced()})),Object(E.a)(Object(q.a)(e),"showDetails",(function(t){e.setState({snapshot:t})})),Object(E.a)(Object(q.a)(e),"onCreate",Object(O.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.map,t.next=3,Kt.show(a);case 3:if(!t.sent){t.next=5;break}e.fetchAssets();case 5:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.state.snapshot&&e.setState({snapshot:null})})),Object(E.a)(Object(q.a)(e),"renderSnapshot",(function(t,a){var n,r,o="";t===e.state.snapshot&&(o="selected-row ");var c=F.assets.thumbnailUrl(t.Path);return u.a.createElement("tr",{key:a,className:o,onClick:function(){return e.showDetails(t)}},u.a.createElement("td",{className:"name"},u.a.createElement("div",{className:"name-block"},u.a.createElement(Oe,{src:c,fallback:"/images/assets/LevelSnapshot.png",alt:t.Name,className:"box"}),u.a.createElement("p",null,t.Name))),u.a.createElement("td",{className:"description"},u.a.createElement("p",null,null===(n=t.Metadata)||void 0===n?void 0:n.SnapshotDescription)),u.a.createElement("td",{className:"created"},u.a.createElement("p",null,null===(r=t.Metadata)||void 0===r?void 0:r.CaptureTime)))})),Object(E.a)(Object(q.a)(e),"renderColumnHeader",(function(t,a){var n=e.state,r=n.sortBy,o=n.sortAsc;return u.a.createElement(u.a.Fragment,null,u.a.createElement("th",{className:t.toLowerCase(),onClick:function(){return e.onSetSort(a)}},t,r===a&&u.a.createElement(ie.a,{icon:o?"sort-up":"sort-down",className:"sort-icon"})))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.fetchAssets()}},{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&this.fetchAssets()}},{key:"render",value:function(){var e=this,t=this.state,a=t.map,n=t.search,r=t.filters,o=t.snapshot,c=t.snapshots;return u.a.createElement("div",{className:"snapshot-wrapper",onClick:function(){return e.showDetails()},tabIndex:-1},u.a.createElement("div",{className:"list-wrapper"},u.a.createElement("div",{className:"search-block"},u.a.createElement("button",{className:"btn snapshot-btn",onClick:this.onCreate},u.a.createElement("p",null,"TAKE SNAPSHOT")),u.a.createElement("div",{className:"search-field"},u.a.createElement(ie.a,{icon:["fas","search"]}),u.a.createElement("input",{type:"text",value:n,onChange:function(t){return e.onSearchChange(t.target.value)},autoComplete:"no"}))),u.a.createElement("div",{className:"table-wrapper",onClick:function(e){return e.stopPropagation()}},u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,this.renderColumnHeader("Name","Name"),this.renderColumnHeader("Description","Metadata.SnapshotDescription"),this.renderColumnHeader("Created","Metadata.CaptureTime"))),u.a.createElement("tbody",null,c.map(this.renderSnapshot))))),u.a.createElement(Gt,{map:a,filters:r,snapshot:o,onClose:function(){return e.showDetails()}}))}}]),a}(u.a.Component)),Gt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{}),Object(E.a)(Object(q.a)(e),"onLoad",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c,l,i,s,u,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,n=a.map,r=a.snapshot,o=a.onClose,c=a.filters,l=e.state,i=l.filter,s=l.loading,r&&!s){t.next=4;break}return t.abrupt("return");case 4:if(e.setState({loading:!0}),t.prev=5,!i){t.next=17;break}d=I.a.find(c,(function(e){return e.Path===i})),t.t0=null===d||void 0===d?void 0:d.Class,t.next="Blueprint"===t.t0?11:"LevelSnapshotFilter"===t.t0?15:17;break;case 11:return t.next=13,F.proxy.function("/Script/LevelSnapshotFilters.Default__FilterBlueprintFunctionLibrary","CreateFilterByClass",{Class:d.Metadata.GeneratedClass});case 13:return u=t.sent,t.abrupt("break",17);case 15:return u=d.Path,t.abrupt("break",17);case 17:return t.next=19,F.proxy.function("/Script/LevelSnapshots.Default__LevelSnapshotsFunctionLibrary","ApplySnapshotToWorld",{WorldContextObject:n,Snapshot:r.Path,OptionalFilter:u});case 19:t.next=23;break;case 21:t.prev=21,t.t1=t.catch(5);case 23:e.setState({loading:!1}),null===o||void 0===o||o();case 25:case"end":return t.stop()}}),t,null,[[5,21]])})))),e}return Object(j.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.snapshot,r=a.filters,o=this.state,c=o.filter,l=o.loading,i="btn snapshot-btn ";return n||(i+="disabled"),u.a.createElement("div",{className:"snapshot-preview-wrapper",onClick:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"preview-title"},u.a.createElement("span",null,(null===n||void 0===n||null===(e=n.Metadata)||void 0===e?void 0:e.SnapshotName)?null===n||void 0===n?void 0:n.Name:u.a.createElement("span",{className:"hint-text"},"Select a snapshot above"))),(null===n||void 0===n?void 0:n.Path)&&u.a.createElement("div",{className:"preview-description"},u.a.createElement("div",{className:"description-title"},"Asset Path"),null===n||void 0===n?void 0:n.Path),u.a.createElement("div",{className:"controls-block"},u.a.createElement("div",{className:"snapshot-dropdown"},u.a.createElement("div",{className:"title"},"Filter"),u.a.createElement("select",{className:"dropdown",value:c,onChange:function(e){return t.setState({filter:e.target.value})}},u.a.createElement("option",{value:""},"[None]"),null===r||void 0===r?void 0:r.map((function(e,t){var a;return u.a.createElement("option",{key:t,value:e.Path},I.a.head(null===(a=e.Name)||void 0===a?void 0:a.split(".")))})))),u.a.createElement("button",{className:i,onClick:this.onLoad},l&&u.a.createElement(ie.a,{icon:["fas","sync-alt"],className:"spin-icon",spin:!0}),u.a.createElement("p",null,"APPLY SNAPSHOT"))))}}]),a}(u.a.Component),Kt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{loading:!0,name:"",path:"/Game/LevelSnapshots/",description:""}),Object(E.a)(Object(q.a)(e),"onOK",Object(O.a)(h.a.mark((function t(){var a,n,r,o,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.name,r=a.path,o=a.description,c=a.loading,n&&!c){t.next=3;break}return t.abrupt("return");case 3:return e.setState({loading:!0}),t.prev=4,t.next=7,F.proxy.function("/Script/LevelSnapshotsEditor.Default__LevelSnapshotsEditorFunctionLibrary","TakeAndSaveLevelSnapshotEditorWorld",{FileName:n,FolderPath:r,Description:o});case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(4);case 11:e.setState({loading:!1}),e.props.close(!0);case 13:case"end":return t.stop()}}),t,null,[[4,9]])})))),Object(E.a)(Object(q.a)(e),"onCancel",(function(){e.state.loading||e.props.close(!1)})),Object(E.a)(Object(q.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(h.a.mark((function e(){var t,a,n,r,o,c,l,i,s,u,d,p,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/Script/LevelSnapshotsEditor.Default__LevelSnapshotsEditorSettings",e.next=4,F.proxy.property.get(a,"RootLevelSnapshotSaveDir");case 4:return n=e.sent,r=n.RootLevelSnapshotSaveDir,o=null!==(t=null===r||void 0===r?void 0:r.Path)&&void 0!==t?t:"/Game/LevelSnapshots",e.next=9,F.proxy.property.get(a,"LevelSnapshotSaveDir");case 9:return c=e.sent,(l=c.LevelSnapshotSaveDir)&&(o+="/".concat(l)),e.next=14,F.proxy.property.get(a,"DefaultLevelSnapshotName");case 14:return i=e.sent,s=i.DefaultLevelSnapshotName,u=this.props.map,(null===(d=/([^/]+)\..+$/.exec(this.props.map))||void 0===d?void 0:d[1])&&(u=d[1]),e.next=21,F.proxy.function(a,"ParseLevelSnapshotsTokensInText",{InTextToParse:o,InWorldName:u});case 21:return p=e.sent,e.next=24,F.proxy.function(a,"ParseLevelSnapshotsTokensInText",{InTextToParse:s,InWorldName:u});case 24:m=e.sent,this.setState({path:p,name:m}),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(0);case 30:this.setState({loading:!1});case 31:case"end":return e.stop()}}),e,this,[[0,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.path,r=t.description,o=t.loading;return u.a.createElement("div",{className:"fullscreen",onClick:this.onCancel,onKeyPress:this.onKeyPress,tabIndex:-1},u.a.createElement("div",{className:"save-asset-modal",onClick:function(e){return e.stopPropagation()}},u.a.createElement("div",{className:"save-row"},"TAKE SNAPSHOT",u.a.createElement(ie.a,{icon:["fas","times"],onClick:this.onCancel})),u.a.createElement("div",{className:"item-row"},u.a.createElement("div",{className:"item-title"},"Name"),u.a.createElement("input",{className:"item-content name-field",value:a,onChange:function(t){return e.setState({name:t.target.value})},autoFocus:!0,autoComplete:"no",readOnly:o})),u.a.createElement("div",{className:"item-row"},u.a.createElement("div",{className:"item-title"},"Description"),u.a.createElement("textarea",{className:"item-content description-field",readOnly:o,rows:5,value:r,onChange:function(t){return e.setState({description:t.target.value})}})),u.a.createElement("div",{className:"item-row"},u.a.createElement("div",{className:"item-title"},"Save Dir"),u.a.createElement("input",{className:"item-content name",value:n,onChange:function(t){return e.setState({path:t.target.value})},autoComplete:"no",readOnly:o})),u.a.createElement("button",{className:"btn snapshot-btn",disabled:!a,onClick:this.onOK},o&&u.a.createElement(ie.a,{icon:["fas","sync-alt"],className:"spin-icon",spin:!0}),"TAKE SNAPSHOT")))}}],[{key:"show",value:function(e){var t;null===(t=a.pending)||void 0===t||t.call(a,void 0),a.pending=void 0;var n=document.createElement("div");return document.getElementById("modal").prepend(n),new Promise((function(t){a.pending=t,p.a.render(u.a.createElement(a,{map:e,close:t}),n)})).finally((function(){p.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}))}}]),a}(u.a.Component);Object(E.a)(Kt,"pending",void 0);var Yt,Xt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{search:"",assets:[]}),Object(E.a)(Object(q.a)(e),"fetchAssets",Object(O.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.search,t.next=3,F.assets.search(a,["/Script/LevelSequence.LevelSequence"],"/Game",200);case 3:n=t.sent,e.setState({assets:n});case 5:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"fetchAssetsDebounced",I.a.debounce(e.fetchAssets,200)),Object(E.a)(Object(q.a)(e),"onSearchChange",(function(t){e.setState({search:t}),e.fetchAssetsDebounced()})),Object(E.a)(Object(q.a)(e),"renderSequence",(function(t,a){var n=F.assets.thumbnailUrl(t.Path);return u.a.createElement("tr",{key:a,className:"col col-".concat(a+1)},u.a.createElement("td",null,u.a.createElement("div",{className:"name-block"},u.a.createElement(Oe,{src:n,fallback:"/images/assets/Sequencer.png",alt:t.Name,className:"box"}),u.a.createElement("p",null,t.Name))),u.a.createElement("td",null,u.a.createElement("p",null,t.Path)),u.a.createElement("td",null,u.a.createElement("div",{className:"play-icon",onClick:function(){return e.playSequence(t)}},u.a.createElement(ie.a,{icon:["fas","play"]}))))})),Object(E.a)(Object(q.a)(e),"playSequence",function(){var e=Object(O.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/Script/LevelSequenceEditor.Default__LevelSequenceEditorBlueprintLibrary","/Script/EditorScriptingUtilities.Default__EditorAssetLibrary",e.prev=2,e.next=5,F.proxy.put("/remote/object/call",{objectPath:"/Script/EditorScriptingUtilities.Default__EditorAssetLibrary",functionName:"LoadAsset",parameters:{AssetPath:t.Path}});case 5:return e.next=7,F.proxy.put("/remote/object/call",{objectPath:a,functionName:"OpenLevelSequence",parameters:{LevelSequence:t.Path}});case 7:return e.next=9,F.proxy.put("/remote/object/call",{objectPath:a,functionName:"Pause"});case 9:return e.next=11,F.proxy.put("/remote/object/call",{objectPath:a,functionName:"SetCurrentTime",parameters:{NewFrame:0}});case 11:return e.next=13,F.proxy.put("/remote/object/call",{objectPath:a,functionName:"Play"});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("Failed to play sequence",t);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.fetchAssets()}},{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&this.fetchAssets()}},{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.assets;return u.a.createElement("div",{className:"snapshot-wrapper sequencer-wrapper",tabIndex:-1},u.a.createElement("div",{className:"list-wrapper"},u.a.createElement("div",{className:"search-block"},u.a.createElement("div",{className:"search-field"},u.a.createElement(ie.a,{icon:["fas","search"]}),u.a.createElement("input",{type:"text",value:a,onChange:function(t){return e.onSearchChange(t.target.value)},autoComplete:"no"}))),u.a.createElement("div",{className:"table-wrapper"},u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"col col-2"},"Name"),u.a.createElement("th",{className:"col col-3"},"Folder"),u.a.createElement("th",{className:"col col-4"}))),u.a.createElement("tbody",null,n.map(this.renderSequence))))))}}]),a}(u.a.Component),zt=Object(m.b)((function(e){return{payload:e.api.payload}}))(Yt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.screen,a=e.payload,n=e.visible;if(!t)return null;var r={payload:a,visible:n,data:t.data};switch(t.type){case i.Snapshot:return u.a.createElement(Ht,r);case i.Sequencer:return u.a.createElement(Xt,r);case i.Playlist:return u.a.createElement(Bt,r);case i.ColorCorrection:return u.a.createElement(Ot,r);case i.LightCards:return u.a.createElement(_t,r)}return null}}]),a}(u.a.Component))||Yt,qt=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"fullscreen login-screen"},u.a.createElement("div",{className:"icon-wrapper"},u.a.createElement("div",{className:"app-icon"},u.a.createElement(oe,{className:"logo"})),u.a.createElement("div",null,"Remote Control Web App")),u.a.createElement("div",{className:"form"},"Password",u.a.createElement("input",{type:"password"}),u.a.createElement("div",{className:"hint"},"Configure the password in: ",u.a.createElement("span",{className:"breadcrumb"},"Project Settings / Authentication / Password")),u.a.createElement("label",{className:"login-status"},"Incorrect Password")))}}]),a}(u.a.Component),Jt=a(29),Zt=a.n(Jt),$t={audioTrack:void 0};var Qt=function(e){var t=Object(s.useRef)(null);return Object(s.useEffect)((function(){var a;if(t.current)return null===(a=e.videoTrack)||void 0===a||a.play(t.current),function(){var t;null===(t=e.videoTrack)||void 0===t||t.stop()}}),[t,e.videoTrack]),Object(s.useEffect)((function(){var t;e.audioTrack&&(null===(t=e.audioTrack)||void 0===t||t.play());return function(){var t;null===(t=e.audioTrack)||void 0===t||t.stop()}}),[e.audioTrack]),u.a.createElement("div",{ref:t,className:"video-player",style:{width:"320px",height:"240px"}})},ea=(a(85),Zt.a.createClient({codec:"h264",mode:"rtc"}));function ta(e){var t="",a=[];return window.location.search.substr(1).split("&").forEach((function(n){(a=n.split("="))[0]===e&&(t=decodeURIComponent(a[1]))})),t}var aa,na=function(e){var t=function(e){var t=Object(s.useState)(void 0),a=Object(z.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(!1),c=Object(z.a)(o,2),l=c[0],i=c[1],u=Object(s.useState)(!1),d=Object(z.a)(u,2),p=d[0],m=d[1],v=Object(s.useState)(!1),b=Object(z.a)(v,2),g=b[0],f=(b[1],Object(s.useState)([])),y=Object(z.a)(f,2),j=y[0],E=y[1],C={appid:null,channel:null,uid:null,token:null};function k(){return(k=Object(O.a)(h.a.mark((function t(a,n,o,c){var s,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!l&&!p){t.next=2;break}return t.abrupt("return");case 2:return m(!0),t.next=5,Promise.all([e.join(a,n,o,c),Zt.a.createMicrophoneAudioTrack()]);case 5:return s=t.sent,u=Object(z.a)(s,2),C.uid=u[0],$t.audioTrack=u[1],r($t.audioTrack),t.next=12,e.publish(Object.values($t));case 12:window.client=e,i(!0),m(!1);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n&&(n.stop(),n.close()),E([]),i(!1),t.next=5,null===e||void 0===e?void 0:e.leave();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){if(e){E(e.remoteUsers);var t=function(){var t=Object(O.a)(h.a.mark((function t(a,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.subscribe(a,n);case 2:E((function(t){return Array.from(e.remoteUsers)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),a=function(t){E((function(t){return Array.from(e.remoteUsers)}))},n=function(t){E((function(t){return Array.from(e.remoteUsers)}))},r=function(t){E((function(t){return Array.from(e.remoteUsers)}))};return e.on("user-published",t),e.on("user-unpublished",a),e.on("user-joined",n),e.on("user-left",r),function(){e.off("user-published",t),e.off("user-unpublished",a),e.off("user-joined",n),e.off("user-left",r)}}}),[e]),{localAudioTrack:n,joinState:l,joinInProgress:p,aiDenoiserState:g,leave:function(){return w.apply(this,arguments)},join:function(e,t,a,n){return k.apply(this,arguments)},controler:function(e){return N.apply(this,arguments)},remoteUsers:j}}(ea),a=(t.localAudioTrack,t.joinState),n=(t.joinInProgress,t.aiDenoiserState,t.leave),r=t.join,o=(t.controler,t.remoteUsers);return u.a.createElement("div",{className:"call"},u.a.createElement("form",{className:"call-form"},u.a.createElement("div",{className:"button-group"},u.a.createElement("button",{id:"Audio Channel",type:"button",className:"btn btn-primary btn-sm voice-button",style:{display:a?"none":"inline"},onClick:Object(O.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ta("code"),a=""!==sessionStorage.photonRoom&&null!=sessionStorage.photonRoom?sessionStorage.photonRoom:"test",r("7e6df1173bb44ad3bedd070112748cf6",a,null,parseInt(e.userID));case 3:case"end":return t.stop()}}),t)})))},"Join Voice Channel"),u.a.createElement("button",{id:"leave",type:"button",className:"btn btn-primary btn-sm voice-button",style:{display:a?"inline":"none",color:"#5abaf9"},onClick:function(){n()}},"Leave Voice Channel"))),u.a.createElement("div",{className:"player-container",style:{display:"none"}},u.a.createElement("div",{className:"local-player-wrapper"}),o.map((function(e){return u.a.createElement("div",{className:"remote-player-wrapper",key:e.uid},u.a.createElement("p",{className:"remote-player-text"},"remoteVideo(".concat(e.uid,")")),u.a.createElement(Qt,{videoTrack:void 0,audioTrack:e.audioTrack}))}))))},ra=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"ref",u.a.createRef()),Object(E.a)(Object(q.a)(e),"state",{allTabsVisible:!0}),Object(E.a)(Object(q.a)(e),"setRef",(function(t,a){e.ref={current:a},t(a)})),Object(E.a)(Object(q.a)(e),"getStyle",(function(e,t){var a,n=e.transform;return n=(null===(a=n)||void 0===a?void 0:a.replace(/(, (-|)[0-9]+)/,", 0"))||"",Object(g.a)(Object(g.a)({},e),{},{transform:n})})),Object(E.a)(Object(q.a)(e),"onResize",(function(){var t,a=null===(t=e.ref)||void 0===t?void 0:t.current;if(a){var n,r=a.children,o=0,c=Object(X.a)(r);try{for(c.s();!(n=c.n()).done;){o+=n.value.clientWidth}}catch(l){c.e(l)}finally{c.f()}e.setState({allTabsVisible:o<a.clientWidth}),e.onTabChange(e.props.selected)}})),Object(E.a)(Object(q.a)(e),"onTabChange",(function(t){var a,n,r,o,c=e.ref.current;if(!(t<0||t>=(null===(a=e.props.tabs)||void 0===a?void 0:a.length))&&c){e.props.selected!==t&&(null===(n=(r=e.props).onChange)||void 0===n||n.call(r,t));for(var l=c.children,i=c.scrollLeft,s=c.clientWidth,u=0,d=0;d<t;d++){var p,m;u+=null!==(p=null===(m=l[d])||void 0===m?void 0:m.clientWidth)&&void 0!==p?p:0}var v=u+(null===(o=l[t])||void 0===o?void 0:o.clientWidth),b=i<=u;v<=i+s||c.scrollTo(v-s,0),b||c.scrollTo(u,0)}})),Object(E.a)(Object(q.a)(e),"renderTab",(function(t,a){var n=e.props,r=n.editable,o=n.selected,c="tab-".concat(a);return u.a.createElement(et.b,{key:c,draggableId:c,index:a,isDragDisabled:!r},(function(n,c){return u.a.createElement("div",Object.assign({className:"tab ".concat(a===o&&"selected"),ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:Object(g.a)({},e.getStyle(n.draggableProps.style,c)),onPointerDown:function(){return e.onTabChange(a)},tabIndex:-1}),u.a.createElement("div",{className:"icon"},!!t.icon&&u.a.createElement(ie.a,{icon:["fas",t.icon]})),u.a.createElement("div",{className:"label"},t.name),r&&o===a&&u.a.createElement("div",{className:"delete-tab",onClick:e.props.onDeleteTab.bind(Object(q.a)(e),a)},u.a.createElement(ie.a,{icon:["fas","times"]})))}))})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){e.tabs===this.props.tabs&&e.selected===this.props.selected&&e.editable===this.props.editable||this.onResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this,t=this.props,a=t.tabs,n=t.selected,r=t.editable,o=(t.preset,t.locked,t.undo),c=t.redo,l=this.state.allTabsVisible,i="arrow left ";(0===n||l)&&(i+="disabled");var s="arrow right ";(n===(null===a||void 0===a?void 0:a.length)-1||l)&&(s+="disabled ");return c||"disabled",u.a.createElement("div",{className:"tabs-wrapper"},u.a.createElement("div",{className:"tabs-wrapper-inner"},u.a.createElement(et.c,{droppableId:"header-tabs",direction:"horizontal",type:"HEADER_TABS",isDropDisabled:!r},(function(t){return u.a.createElement("div",Object.assign({ref:e.setRef.bind(e,t.innerRef),className:"tabs-drop-list"},t.droppableProps),null===a||void 0===a?void 0:a.map(e.renderTab))}))),u.a.createElement(na,{userID:this.props.agoraUserID}),u.a.createElement("div",{className:"tab-navigation"},!!r&&u.a.createElement("div",{className:"tab new-tab",onClick:function(){return e.props.onNewTab()}},u.a.createElement(ie.a,{icon:["fas","plus"]})),u.a.createElement("div",{className:i,onClick:function(){return e.onTabChange(n-1)}},u.a.createElement(ie.a,{icon:["fas","caret-left"]})),u.a.createElement("div",{className:s,onClick:function(){return e.onTabChange(n+1)}},u.a.createElement(ie.a,{icon:["fas","caret-right"]}))))}}]),a}(u.a.Component),oa=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.signal;return e===r.Good?null:u.a.createElement("div",{className:"signal-icon ".concat(e.toLowerCase())},u.a.createElement("span",{className:"bar-1"}),u.a.createElement("span",{className:"bar-2"}),u.a.createElement("span",{className:"bar-3"}),u.a.createElement("span",{className:"bar-4"}))}}]),a}(u.a.Component),ca=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"screens",[{type:i.Stack,title:"Build Your Own UI"},{type:i.ColorCorrection,title:"Color Correction"},{type:i.Playlist,title:"Playlist"},{type:i.Snapshot,title:"Snapshot"},{type:i.Sequencer,title:"Sequencer"}]),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"panel"},u.a.createElement("div",{className:"empty-tab-container"},u.a.createElement("ul",{className:"screens-list"},this.screens.map((function(t){var a=t.type,n=t.title;return u.a.createElement("li",{className:"screen-type-item",key:a},u.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.props.onAddScreen(a)}},n))})))))}}]),a}(u.a.Component);a(86),u.a.Component;function la(){var e=Math.ceil(1),t=Math.floor(1e4);return Math.floor(Math.random()*(t-e)+e).toString()}var ia=Object(m.b)((function(e){return{connected:e.api.status.connected,keyCorrect:e.api.status.keyCorrect,loading:e.api.status.loading,isOpen:e.api.status.isOpen,presets:I.a.values(e.api.presets),preset:e.api.presets[e.api.preset],view:e.api.view,lockedUI:e.api.lockedUI,signal:e.api.status.signal,undo:e.api.undo,redo:e.api.redo}}),(function(e){return{initialize:function(){var t=Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(F.initialize()));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}))(aa=function(e){Object(J.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),Object(E.a)(Object(q.a)(e),"state",{tab:0,panel:0}),Object(E.a)(Object(q.a)(e),"agoraID",la()),Object(E.a)(Object(q.a)(e),"appRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"panelRef",u.a.createRef()),Object(E.a)(Object(q.a)(e),"widget",null),Object(E.a)(Object(q.a)(e),"dropElements",{}),Object(E.a)(Object(q.a)(e),"dropBoundaries",[]),Object(E.a)(Object(q.a)(e),"hoverDelay",null),Object(E.a)(Object(q.a)(e),"buildInfo",""),Object(E.a)(Object(q.a)(e),"getBuildInfo",Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/version.json");case 3:return t=e.sent,e.next=6,t.text();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))),Object(E.a)(Object(q.a)(e),"checkVersionMatch",Object(O.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBuildInfo();case 2:if(a=t.sent,e.buildInfo&&a){t.next=5;break}return t.abrupt("return");case 5:if(e.buildInfo!==a){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,He.show("The web app seems to be outdated, reload?");case 9:t.sent&&document.location.reload();case 11:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onDropElementAdd",(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return e.dropElements[t]={id:t,path:a,accept:n,type:r},t})),Object(E.a)(Object(q.a)(e),"onPointerMove",(function(t){var a,n=e.state,r=n.dragging,o=n.droppable;if(r){var c=document.elementsFromPoint(t.clientX,t.clientY),l=c.find((function(e){return!!(null===e||void 0===e?void 0:e.getAttribute("data-prefix"))}));if(l){var i=l.getAttribute("data-prefix"),s=l.getAttribute("data-value");return clearTimeout(e.hoverDelay),e.hoverDelay=setTimeout((function(){return e.setState({hoverTab:"".concat(i,"_").concat(s)})}),300)}clearTimeout(e.hoverDelay);var u=c.find((function(e){return!!(null===e||void 0===e?void 0:e.getAttribute("data-rbd-droppable-id"))})),d=null===u||void 0===u?void 0:u.getAttribute("data-rbd-droppable-id");if(d&&o!==d){var p=(null===(a=e.dropElements[d])||void 0===a?void 0:a.accept)||[],m=I.a.last(r.split("_"));(p.includes(m)||"ALL"===I.a.first(p))&&e.setState({droppable:d})}}})),Object(E.a)(Object(q.a)(e),"onKeyDown",function(){var t=Object(O.a)(h.a.mark((function t(a){var n,r,o,c,l,i,s,u,d,p,m,v,b,g,f,O,y;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.ctrlKey||a.metaKey||"Delete"===a.key){t.next=2;break}return t.abrupt("return");case 2:if(n=e.state,r=n.tab,o=n.selected,c=n.editable,"Delete"!==a.key){t.next=20;break}if(c&&o&&!(a.target instanceof HTMLInputElement)){t.next=6;break}return t.abrupt("return");case 6:if(u=e.props.view,d=null===(l=u.tabs)||void 0===l?void 0:l[e.state.tab],p=null===o||void 0===o?void 0:o.split("_"),m=Object(z.a)(p,2),v=m[0],b=m[1],(g=I.a.get(d.panels,v,d.panels)).length){t.next=12;break}return t.abrupt("return");case 12:if(a.shiftKey){t.next=17;break}return t.next=15,He.show("Are you sure you want to delete ?");case 15:if(t.sent){t.next=17;break}return t.abrupt("return");case 17:return g.splice(+b,1),F.views.set(u),t.abrupt("return",null===(i=e.appRef)||void 0===i||null===(s=i.current)||void 0===s?void 0:s.focus());case 20:if(f=parseInt(a.key),isNaN(f)){t.next=27;break}return y=e.props.view,f=f||(null===(O=y.tabs)||void 0===O?void 0:O.length)||1,e.onTabChange(f-1),a.preventDefault(),t.abrupt("return");case 27:t.t0=a.nativeEvent.code,t.next="KeyE"===t.t0?30:"ArrowLeft"===t.t0?33:"ArrowRight"===t.t0?35:37;break;case 30:return a.preventDefault(),e.setState({editable:!e.state.editable}),t.abrupt("break",37);case 33:return e.onTabChange(r-1),t.abrupt("break",37);case 35:return e.onTabChange(r+1),t.abrupt("break",37);case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"isEditable",(function(t){var a,n,r=e.props.view;if(!(null===(a=r.tabs)||void 0===a?void 0:a.length))return!1;var o=null!==(n=r.tabs[t])&&void 0!==n?n:{},c=o.layout,i=o.panels;switch(c){case l.Stack:return!(null===i||void 0===i?void 0:i.length);case l.Screen:return!1}return!1})),Object(E.a)(Object(q.a)(e),"onTabChange",(function(t){var a,n=e.props.view;t=Math.min(Math.max(0,t),(null===(a=n.tabs)||void 0===a?void 0:a.length)-1)||0;var r=e.isEditable(t)||e.state.editable;e.setState({tab:t,vector:null,editable:r})})),Object(E.a)(Object(q.a)(e),"getNewTabName",(function(){var t,a,n,r=0,o=Object(X.a)(null!==(t=null===(a=e.props.view)||void 0===a?void 0:a.tabs)&&void 0!==t?t:[]);try{for(o.s();!(n=o.n()).done;){var c=n.value,l=/^Tab (\d+)$/i.exec(c.name),i=parseInt(null===l||void 0===l?void 0:l[1]);!isNaN(i)&&i>r&&(r=i)}}catch(s){o.e(s)}finally{o.f()}return"Tab ".concat(r+1)})),Object(E.a)(Object(q.a)(e),"getRandomIcon",(function(){var e=Object.keys(Ge.a).map((function(e){return Ge.a[e].iconName}));return e[Math.round(1e4*performance.now())%e.length]})),Object(E.a)(Object(q.a)(e),"onNewTab",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=e.props.view;e.createNewTabInternal(t,null,l.Empty),F.views.set(a),e.onTabChange(a.tabs.length-1),e.setState({editable:!0})})),Object(E.a)(Object(q.a)(e),"onNewTabs",(function(t){var a,n=e.props.view,r=Object(X.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.createNewTabInternal(o.panels,o.label)}}catch(c){r.e(c)}finally{r.f()}F.views.set(n),e.onTabChange(n.tabs.length-1),e.setState({editable:!0})})),Object(E.a)(Object(q.a)(e),"createNewTabInternal",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.Stack,r=e.props.view;r.tabs.push({name:null!==a&&void 0!==a?a:e.getNewTabName(),icon:e.getRandomIcon(),layout:n,panels:t})})),Object(E.a)(Object(q.a)(e),"onDuplicateTab",(function(){var t=e.props.view,a=e.state.tab,n=Object(g.a)(Object(g.a)({},t.tabs[a]),{},{name:e.getNewTabName()});t.tabs.push(n),F.views.set(t),e.onTabChange(t.tabs.length-1),e.setState({editable:!0})})),Object(E.a)(Object(q.a)(e),"onScreenAdd",(function(t){var a=e.props.view,n=a.tabs[e.state.tab];switch(delete n.panels,t){case i.ColorCorrection:n=Object(g.a)(Object(g.a)({},n),{},{name:"Color Correction",icon:"palette",layout:l.Screen,screen:{type:i.ColorCorrection}});break;case i.LightCards:n=Object(g.a)(Object(g.a)({},n),{},{name:"Light Cards",icon:"adjust",layout:l.Screen,screen:{type:i.LightCards}});break;case i.Playlist:n=Object(g.a)(Object(g.a)({},n),{},{name:"Playlists",icon:"play",layout:l.Screen,screen:{type:i.Playlist}});break;case i.Sequencer:n=Object(g.a)(Object(g.a)({},n),{},{name:"Sequences",icon:"play",layout:l.Screen,screen:{type:i.Sequencer}});break;case i.Snapshot:n=Object(g.a)(Object(g.a)({},n),{},{name:"Snapshot",icon:"save",layout:l.Screen,screen:{type:i.Snapshot}});break;case i.Stack:n=Object(g.a)(Object(g.a)({},n),{},{panels:[],layout:l.Stack})}a.tabs[e.state.tab]=n,F.views.set(a)})),Object(E.a)(Object(q.a)(e),"onSetTabsDrawer",(function(t){e.setState({editable:t})})),Object(E.a)(Object(q.a)(e),"onPresetChanged",(function(t){var a;t.ID!==(null===(a=e.props.preset)||void 0===a?void 0:a.ID)&&F.presets.select(t)})),Object(E.a)(Object(q.a)(e),"onTabRename",Object(O.a)(h.a.mark((function t(){var a,n,r,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.view,n=e.state.tab,r=a.tabs[n].name,t.next=5,Xe.rename(r,"Tab title");case 5:if((o=t.sent)&&o!==r){t.next=8;break}return t.abrupt("return");case 8:a.tabs[n].name=o,F.views.set(a);case 10:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"onTabDelete",function(){var t=Object(O.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.show("Are you sure you want to delete this tab?");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:if(n=e.props.view,!(a<0||a>=n.tabs.length)){t.next=7;break}return t.abrupt("return");case 7:n.tabs.splice(a,1),F.views.set(n),a=Math.min(a,n.tabs.length-1),e.setState({tab:a});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"onTabIconChange",Object(O.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.view,n=a.tabs[e.state.tab]){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Ke.show(n.icon);case 6:(r=t.sent)&&(n.icon=r,F.views.set(a));case 8:case"end":return t.stop()}}),t)})))),Object(E.a)(Object(q.a)(e),"setVectorDrawer",(function(t){var a,n=null;(null===t||void 0===t||null===(a=t.widgets)||void 0===a?void 0:a.length)&&(n=t),e.setState({vector:n})})),Object(E.a)(Object(q.a)(e),"resetDragState",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.widget=null,e.setState(Object(g.a)({dragging:null,droppable:null,selected:null},t))})),Object(E.a)(Object(q.a)(e),"onBeforeCapture",(function(t){var a=e.state.selected;t.draggableId.startsWith("REORDER")||(a=null),e.setState({dragging:t.draggableId,selected:a})})),Object(E.a)(Object(q.a)(e),"onDragEnd",(function(t){var a,n,r,l=t.destination,i=t.source,s=t.draggableId;if(!l)return e.resetDragState();var u=e.props.view;if("HEADER_TABS"===t.type){var d=u.tabs[i.index];return u.tabs.splice(i.index,1),u.tabs.splice(l.index,0,d),F.views.set(u),e.onTabChange(l.index),e.resetDragState()}var p=null===(a=u.tabs)||void 0===a?void 0:a[e.state.tab],m=e.dropElements[l.droppableId];if(["TABS-REORDER","LIST-REORDER"].includes(t.type)){var v=I.a.get(null===p||void 0===p?void 0:p.panels,m.path,null===p||void 0===p?void 0:p.panels);"TABS-REORDER"===t.type&&(v=v.tabs),"LIST-REORDER"===t.type&&(v=v.items);var b=v[i.index];return v.splice(i.index,1),v.splice(l.index,0,b),F.views.set(u)}if(!m)return e.resetDragState();var g=null===(n=e.dropElements[i.droppableId])||void 0===n?void 0:n.path,f=null===m||void 0===m?void 0:m.path,h=I.a.last(s.split("_")),O=i.index;p.panels||(p.panels=[]);var y,j=Object(Y.a)(p.panels),E=I.a.get(null===p||void 0===p?void 0:p.panels,f,null===p||void 0===p?void 0:p.panels);(null===(r=e.widget)||void 0===r?void 0:r.length)||(e.widget=I.a.get(null===p||void 0===p?void 0:p.panels,g,null===p||void 0===p?void 0:p.panels).splice(O,1),f===g&&[o.Button,o.ColorPicker,o.MiniColorPicker,o.Toggle].includes(null===(y=e.widget[0])||void 0===y?void 0:y.widget)&&l.droppableId!==i.droppableId&&i.index<l.index&&(l.index-=1));var C=Object(Y.a)(e.widget);switch(h){case"PANEL":break;case"LIST":C=[{type:c.List,items:[{label:"Item 1",panels:j}]}],E.splice(0,E.length);break;default:["ROOT","LIST"].includes(m.type)&&(C=[{type:c.Panel,widgets:C}])}E.splice.apply(E,[l.index,0].concat(Object(Y.a)(C))),e.resetDragState({selected:"".concat(f,"_").concat(l.index,"_").concat(I.a.first(C).property||null)}),F.views.set(u)})),Object(E.a)(Object(q.a)(e),"onSelected",(function(t){e.state.editable&&e.setState({selected:t})})),Object(E.a)(Object(q.a)(e),"onResetSelection",(function(t){e.setState({selected:null})})),Object(E.a)(Object(q.a)(e),"renderTab",(function(){var t=e.props.view;if(!t.tabs||!t.tabs.length)return null;var a=e.state.tab,n=t.tabs[a];if(!n)return null;var r=!0,o={};e.state.tab!==a&&(r=!1,o.display="none");var c=null;switch(n.layout){case l.Stack:c=e.renderStack(n,r,a);break;case l.Screen:c=e.renderScreen(n,r);break;case l.Empty:c=u.a.createElement(ca,{onAddScreen:e.onScreenAdd})}return u.a.createElement("section",{id:"panels",key:a,className:"layout-".concat(n.layout),style:o},c)})),Object(E.a)(Object(q.a)(e),"renderStack",(function(t,a,n){var r=e.state,o=r.editable,c=r.dragging,l=r.droppable,i=r.selected,s=r.hoverTab,d=r.vector,p="".concat(t.name,"-").concat(n);return u.a.createElement("div",{ref:e.panelRef,className:"panel",onClick:e.onResetSelection},u.a.createElement($e,{agoraUserID:e.agoraID,panels:t.panels,editable:o,visible:a,dragging:c,droppable:l,selected:i,tabKey:p,hoverTab:s,vector:d,onSelected:e.onSelected,getDroppableId:e.onDropElementAdd,onSetVectorDrawer:e.setVectorDrawer}))})),Object(E.a)(Object(q.a)(e),"renderScreen",(function(e,t){return u.a.createElement("div",{className:"panel"},u.a.createElement(zt,{screen:e.screen,visible:t}))})),Object(E.a)(Object(q.a)(e),"onUpdateView",(function(t){var a=e.props.view;t&&e.setState({selected:null}),F.views.set(a)})),Object(E.a)(Object(q.a)(e),"onLockedChange",(function(){var t=e.props.lockedUI;F.lockUI(!t)})),Object(E.a)(Object(q.a)(e),"checkPassphrase",function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.passphrase.login(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(E.a)(Object(q.a)(e),"renderStatus",(function(){var t=e.props,a=t.keyCorrect,n=t.connected,r=t.loading,o=t.isOpen;t.preset;return n?a||o?r?u.a.createElement("div",{className:"fullscreen"},u.a.createElement("div",{className:"app-icon"},u.a.createElement(ie.a,{icon:["fas","sync-alt"],spin:!0})),u.a.createElement("div",null,"Loading Preset Data...")):null:u.a.createElement(qt,null):u.a.createElement(ce,null)})),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.initialize(),document.onpointermove=this.onPointerMove,this.getBuildInfo().then((function(t){return e.buildInfo=t}))}},{key:"componentDidUpdate",value:function(e,t){var a,n=this.props.preset,r=this.state.editable;(null===n||void 0===n?void 0:n.Name)!==(null===(a=e.preset)||void 0===a?void 0:a.Name)&&this.setState({tab:0}),r!==t.editable&&this.setState({selected:null}),this.props.connected&&!e.connected&&this.checkVersionMatch()}},{key:"componentWillUnmount",value:function(){document.onpointermove=null}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.view,r=a.preset,o=a.presets,c=a.lockedUI,l=a.undo,i=a.redo,s=a.signal,d=this.state,p=d.tab,m=d.editable,v=d.selected,b="tabs-closed ";return m&&(b=b.replace("closed","open")),c&&(b+="locked "),u.a.createElement(et.a,{onBeforeCapture:this.onBeforeCapture,onDragEnd:this.onDragEnd},u.a.createElement("div",{id:"app",className:b,tabIndex:1,ref:this.appRef,onKeyDown:this.onKeyDown},this.renderStatus(),c&&u.a.createElement("div",{className:"locked-layer"}),u.a.createElement("nav",{id:"top-bar"},u.a.createElement("div",{className:"app-icon"},u.a.createElement("img",{src:"/images/favicon/32x32.png",alt:"Unreal Engine"})),u.a.createElement(ra,{preset:r,agoraUserID:this.agoraID,tabs:n.tabs,selected:p,onChange:this.onTabChange,onNewTab:this.onNewTab,editable:m,locked:c,undo:!!l.length,redo:!!i.length,onDeleteTab:this.onTabDelete,onLockedChange:this.onLockedChange})),!!r&&u.a.createElement(ht,{preset:r,presets:o,editable:m,tab:p,view:n,panels:(null===(e=n.tabs[p])||void 0===e?void 0:e.panels)||[],selected:v,onChangeIcon:this.onTabIconChange,onRenameTabModal:this.onTabRename,onDuplicateTab:this.onDuplicateTab,onPresetChange:this.onPresetChanged,onUpdateView:this.onUpdateView,onSelected:this.onSelected,onNewTabs:this.onNewTabs,lockWidget:function(e){return t.widget=e}}),this.renderTab(),u.a.createElement(oa,{signal:s})))}}]),a}(u.a.Component))||aa,sa=(a(87),a(27)),ua=a(45);sa.b.add(Ge.a,ua.a);var da=Object(v.e)(K,Object(v.a)(b.a));p.a.render(u.a.createElement(m.a,{store:da},u.a.createElement(ia,null)),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.2884e9d3.chunk.js.map