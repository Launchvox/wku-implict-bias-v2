(this["webpackJsonpconductor-client"]=this["webpackJsonpconductor-client"]||[]).push([[0],{170:function(e,t,a){e.exports=a(332)},206:function(e,t){},212:function(e,t){},214:function(e,t){},224:function(e,t){},226:function(e,t){},251:function(e,t){},253:function(e,t){},254:function(e,t){},259:function(e,t){},261:function(e,t){},268:function(e,t){},270:function(e,t){},288:function(e,t){},291:function(e,t){},307:function(e,t){},310:function(e,t){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n,r,o,c,i,l=a(0),s=a.n(l),u=a(21),d=a.n(u),p=a(28),v=a(24),m=a(166),b=a(8),g=a(10),h=a.n(g),f=a(13),O=a(2),j=a(32),y=a(46),E=a.n(y),C=a(167),w=a.n(C);!function(e){e.Boolean="bool",e.Int8="int8",e.Int16="int16",e.Int32="int32",e.Int64="int64",e.Uint8="uint8",e.Uint16="uint16",e.Uint32="uint32",e.Uint64="uint64",e.Float="float",e.Double="double",e.Vector="FVector",e.Vector2D="FVector2D",e.Vector4="FVector4",e.Rotator="FRotator",e.Color="FColor",e.LinearColor="FLinearColor",e.String="FString",e.Text="FText",e.Function="Function"}(n||(n={})),function(e){e.Dial="Dial",e.Dials="Dials",e.Slider="Slider",e.Sliders="Sliders",e.ScaleSlider="Scale Slider",e.ColorPicker="Color Picker",e.MiniColorPicker="Mini Color Picker",e.ColorPickerList="Color Picker List",e.Toggle="Toggle",e.Joystick="Joystick",e.Button="Button",e.Text="Text",e.Label="Label",e.Dropdown="Dropdown",e.ImageSelector="Image Selector",e.Vector="Vector",e.Spacer="Spacer",e.Tabs="Tabs",e.CustomWidget="Custom Slider Widget"}(r||(r={})),function(e){e.Panel="PANEL",e.List="LIST"}(o||(o={})),function(e){e.Stack="Stack",e.Screen="Screen"}(c||(c={})),function(e){e.Snapshot="Snapshot",e.Sequencer="Sequencer"}(i||(i={}));var k,N,S,P,x=a(9),D=a.n(x);var T="";function I(e,t){N=e,P=localStorage.getItem("passphrase"),""===T&&(T="https://"+function(e){var t,a,n=window.location.search.substring(1).split("&");for(a=0;a<n.length;a++)if((t=n[a].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1]);return!1}("code")+".vrtrainers.net"),(S=w()("".concat(T,"/"),{path:"/api/io",transportOptions:{}})).on("disconnect",(function(){return e(V.STATUS({connected:!1,isOpen:!1,keyCorrect:!1,version:void 0}))})).on("presets",(function(t){return e(V.PRESETS(t))})).on("payloads",(function(t){e(V.PAYLOADS(t)),k&&t[k]&&e(V.PAYLOAD(t[k]))})).on("value",(function(t,a,n){e(V.PAYLOADS_VALUE(Object(O.a)({},t,Object(O.a)({},a,n)))),k===t&&e(V.PAYLOAD(Object(O.a)({},a,n)))})).on("values",(function(t,a){e(V.PAYLOADS_VALUE(Object(O.a)({},t,a))),k===t&&e(V.PAYLOAD(a))})).on("view",(function(t,a){k===t&&e(V.VIEW(a))})).on("connected",(function(t,a){e(V.STATUS({connected:t,version:a})),null!==P&&W.passphrase.login(P),W.presets.get(),W.payload.all()})).on("opened",(function(t){e(V.STATUS({isOpen:t,loading:!1}))})).on("passphrase",(function(t){e(V.STATUS({keyCorrect:t}))})).on("loading",(function(t){e(V.STATUS({loading:t}))}))}function M(e,t,a,n,r){return L.apply(this,arguments)}function L(){return(L=Object(f.a)(h.a.mark((function e(t,a,n,r,o){var c,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:t,mode:"cors",redirect:"follow",headers:{}},n instanceof FormData||"string"===typeof n?c.body=n:"object"===typeof n&&(c.body=JSON.stringify(n),c.headers["Content-Type"]="application/json"),c.headers.passphrase=null!==o&&void 0!==o?o:P,e.next=5,fetch(T+a,c);case 5:return i=e.sent,e.next=8,i.text();case 8:if((l=e.sent).length>0&&(l=JSON.parse(l)),i.ok){e.next=12;break}throw l;case 12:return"function"===typeof r&&N(r(l)),e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,a){return M("GET",e,void 0,t,a)}function R(e,t,a){return M("PUT",e,t,void 0,a)}console.log("The host is ".concat(T));var V={STATUS:Object(j.a)("API_STATUS"),PRESETS:Object(j.a)("API_PRESETS"),PRESET_SELECT:Object(j.a)("API_PRESET_SELECT"),VIEW:Object(j.a)("API_VIEW"),PAYLOAD:Object(j.a)("API_PAYLOAD"),PAYLOADS:Object(j.a)("API_PAYLOADS"),PAYLOADS_VALUE:Object(j.a)("API_PAYLOADS_VALUE")},W={initialize:function(){return I.bind(null)},presets:{get:function(){return A("/api/presets",V.PRESETS)},load:function(e){return A("/api/presets/".concat(e,"/load"))},select:function(e){W.presets.load(null===e||void 0===e?void 0:e.ID),N(V.PRESET_SELECT(null===e||void 0===e?void 0:e.ID))}},views:{get:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/presets/view?preset=".concat(t));case 2:return"object"===typeof(r=e.sent)&&(null===(a=r)||void 0===a||null===(n=a.tabs)||void 0===n?void 0:n.length)||(r={tabs:[{name:"Tab 1",layout:c.Stack,panels:[]}]}),N(V.VIEW(r)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(e){S.emit("view",k,e)}},passphrase:{login:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/passphrase",V.STATUS,t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return localStorage.setItem("passphrase",t),P=t,W.presets.get(),W.payload.all(),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},payload:{get:function(e){return A("/api/presets/payload?preset=".concat(e),V.PAYLOAD)},all:function(){return A("/api/payloads",V.PAYLOADS)},set:function(e,t){S.emit("value",k,e,t)},execute:function(e,t){S.emit("execute",k,e,null!==t&&void 0!==t?t:{})},metadata:function(e,t,a){S.emit("metadata",k,e,t,a)},rebind:function(e,t){S.emit("rebind",k,e,t)}},assets:{search:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return new Promise((function(o){return S.emit("search",e,t,a,n,r,o)}))},thumbnailUrl:function(e){return"".concat(T,"/api/thumbnail?asset=").concat(e)}},proxy:{get:function(e){return R("/api/proxy",{method:"GET",url:e})},put:function(e,t){return R("/api/proxy",{method:"PUT",url:e,body:t})},function:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={objectPath:e,functionName:t,parameters:a};return W.proxy.put("/remote/object/call",n)},property:{get:function(e,t){var a={objectPath:e,propertyName:t,access:"READ_ACCESS"};return W.proxy.put("/remote/object/property",a)},set:function(e,t,a){var n={objectPath:e,propertyName:t,propertyValue:Object(O.a)({},t,a),access:"WRITE_ACCESS"};return W.proxy.put("/remote/object/property",n)}}}},_=Object(j.b)({},{presets:{},payload:{},payloads:{},view:{tabs:null},status:{connected:!1,keyCorrect:!1,isOpen:!1}});_.on(V.STATUS,(function(e,t){return E.a.merge(e,"status",t)})).on(V.PRESETS,(function(e,t){var a=D.a.keyBy(t,"ID"),n=(e=E.a.set(e,"presets",a)).preset;if(n&&!a[n]&&(n=void 0),!n){var r,o=new URLSearchParams(window.location.search);return(n=o.get("preset"))&&a[n]||(n=localStorage.getItem("preset")),n&&a[n]||(n=null===(r=t[0])||void 0===r?void 0:r.ID),n?(k=n,W.presets.load(n).then((function(){return Promise.all([W.views.get(n),W.payload.get(n)])})),Object(b.a)(Object(b.a)({},e),{},{preset:n,view:{tabs:[]},payload:{}})):(k=void 0,Object(b.a)(Object(b.a)({},e),{},{preset:void 0,view:{tabs:null},payload:{}}))}return e})).on(V.VIEW,(function(e,t){return E.a.merge(e,"view",t)})).on(V.PAYLOADS,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{payloads:t})})).on(V.PAYLOADS_VALUE,(function(e,t){for(var a in t){var n=t[a];for(var r in n)e=E.a.set(e,["payloads",a,r],n[r])}return e})).on(V.PAYLOAD,(function(e,t){for(var a in t)e=E.a.set(e,["payload",a],t[a]);return e})).on(V.PRESET_SELECT,(function(e,t){return k=t,localStorage.setItem("preset",t),W.views.get(t),W.payload.get(t),Object(b.a)(Object(b.a)({},e),{},{preset:t,view:{tabs:[]},payload:{}})}));var U=_,F=Object(v.c)({api:U}),B=a(18),G=a(23),H=a(17),K=a(4),Y=a(5),z=a(1),X=a(7),J=a(6);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var $=s.a.createElement("g",{id:"Layer_1-2"},s.a.createElement("path",{d:"M160.2,227.1c-3.6,2.7-12.1,7.4-27.7,5.5-19.5-2.3-34.9-23.6-42.6-33.2l-3.8,3.3v16.3c-.2,1.3,.7,2.5,2,2.7h0v1.2h-13.5v-1.2c.6-.2,1.2-.5,1.6-1,.3-.5,.5-1.1,.4-1.8v-43.5c0-1.2-1-2.2-2.3-2.2-.9,0-1.7,.5-2,1.3-.5,1.1-1,2.2-1.3,3.3l-11.7,35.4-3.3,9.6h-6.7l-3-9.1-8.9-27-12.1,36.1h-6.7L3.9,177.8c-.6-1.9-1.2-3.1-1.7-3.8s-1.3-1.2-2.2-1.4v-.8H15.3v1.2c-1.3,.3-2,1.1-2,2.2,0,.8,.2,1.7,.5,2.5l8.6,27.2,9.3-27.3c.4-1.2,.6-2,.6-2.3,0-1.2-.7-1.9-2.1-2.2v-1.3h15.8v1.2c-1.4,.5-2.2,1.3-2.2,2.4,.1,.8,.3,1.5,.5,2.3l8.8,27.3,8.5-26.8c.4-1.3,.7-2.3,.7-3,0-1.1-.8-1.8-2.3-2.2v-1.2h28.2v1.2c-.6,.1-1.2,.5-1.6,1-.3,.5-.5,1.1-.4,1.7v15.7l17.9-15c.8-.8,1.2-1.4,1.2-1.9,0-.7-.6-1.2-1.8-1.5v-1.2h31.2v1.2c-1.3,.2-2.2,1.4-2.1,2.7h0v25.6c0,3,.1,5.2,.4,6.6,.2,1.3,.8,2.5,1.5,3.5,2,2.6,5.5,3.8,10.4,3.8s8.4-1.3,10.4-3.8c.8-1,1.3-2.2,1.5-3.5,.3-1.4,.4-3.6,.4-6.6v-25.6c0-.6-.1-1.2-.4-1.8-.4-.5-1-.8-1.6-1v-1.1h12.8v1.2c-.6,.2-1.2,.5-1.6,1-.3,.5-.5,1.1-.5,1.8v28.8c0,5.4-.8,9.5-2.5,12.2-3,4.9-9.3,7.3-18.9,7.3-6.9,0-12.2-1.3-15.9-3.9-2.1-1.5-3.7-3.7-4.5-6.2-.8-2.6-1.2-5.7-1.2-9.3v-29c0-1-1.1-2-2.3-2-.8,.1-1.5,.3-2.1,.8-.3,.2-21.8,19.1-21.8,19.1,7,9,18.5,24.7,29.4,31.5,13.7,8.5,27.4,3.7,33.2,1.3l.9,.7Z"}),s.a.createElement("g",null,s.a.createElement("path",{d:"M23.4,155V48.7c0-3.1-3.9-2.6-3.9-2.6v-7.2h25.6V127.4c13.4-3.1,29.1-9.6,41.5-23.4,12.4,13.8,29,20.3,42.4,23.4V38.9h25.7v7.2s-4-.4-4,2.6v106.3H23.4Z"}),s.a.createElement("path",{d:"M108.1,29.2s-4.3,1.7-7.2-5.8c-2.9-7.5-9.4-8.7-9.4-8.7v-6.1c.9-.1,1.5-.9,1.5-1.7s-.7-1.5-1.5-1.5h-.1c-.1-1.7-1.5-3.1-3.2-3.2V0h-2.2V2.2c-3.2,.5-3.2,3.2-3.2,3.2-.8,0-1.5,.6-1.5,1.4v.1c0,.9,.6,1.6,1.5,1.7v6.1s-6.5,1.2-9.4,8.7c-2.9,7.5-7.2,5.8-7.2,5.8l-4.3,4.2,4.8,4.7h1.2v53.7c11.2-5.6,19.3-15.3,19.3-15.3,0,0,8.3,9.7,19.5,15.3V38.2h1.2l4.7-4.7-4.5-4.3Zm-21,35.1c-4.1,0-7.4-3.3-7.5-7.4,0-4.1,3.3-7.4,7.4-7.5,4.1,0,7.4,3.3,7.5,7.4v.1c-.1,4.1-3.4,7.4-7.4,7.4"})),s.a.createElement("path",{d:"M167.6,226.5h-1v-5.7c.6-.1,1.3-.2,2-.2,.9,0,1.4,.2,1.8,.4,.4,.3,.6,.7,.6,1.2,0,.7-.5,1.2-1.1,1.4v.1c.5,.2,.8,.7,1,1.4,.1,.9,.3,1.2,.4,1.4h-1.1c-.2-.2-.3-.7-.4-1.5-.1-.6-.5-.9-1.3-.9h-.7l-.2,2.4Zm0-3.2h.7c.8,0,1.5-.2,1.5-.9,0-.6-.3-.9-1.4-.9-.3,0-.5,0-.8,.1v1.7Z"}),s.a.createElement("path",{d:"M168.6,218.1c-3,0-5.5,2.4-5.5,5.5s2.4,5.5,5.5,5.5,5.5-2.4,5.5-5.5h0c0-3-2.4-5.5-5.5-5.5h0m0,10c-2.5,0-4.5-2-4.5-4.4s2-4.5,4.4-4.5,4.5,2,4.5,4.4h0c.1,2.5-1.9,4.4-4.4,4.5h0"})),Q=function(e){var t=e.svgRef,a=e.title,n=Z(e,["svgRef","title"]);return s.a.createElement("svg",q({id:"Layer_2",width:174.1,height:233.04,viewBox:"0 0 174.1 233.04",ref:t},n),a?s.a.createElement("title",null,a):null,$)},ee=s.a.forwardRef((function(e,t){return s.a.createElement(Q,q({svgRef:t},e))}));a.p;function te(e){return function(e){var t,a,n=window.location.search.substring(1).split("&");for(a=0;a<n.length;a++)if((t=n[a].split("="))[0]===e)return void 0===t[1]?"":decodeURIComponent(t[1]);return""}("code").length>0===e?{visibility:"visible"}:{visibility:"collapse",display:"none"}}var ae,ne,re,oe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(z.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(z.a)(n)),n.handleCancel=n.handleCancel.bind(Object(z.a)(n)),n}return Object(Y.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value.toLowerCase()})}},{key:"handleSubmit",value:function(e){e.preventDefault(),window.location.search="?code="+this.state.value}},{key:"handleCancel",value:function(e){e.preventDefault(),this.setState({value:""}),window.location.search=""}},{key:"render",value:function(){return s.a.createElement("div",{className:"fullscreen"},s.a.createElement("div",{className:"app-icon"},s.a.createElement(ee,{className:"logo"})),s.a.createElement("div",{style:te(!0)},"Trying to connect...",s.a.createElement("br",null),s.a.createElement("div",{style:{backgroundColor:"#191919",display:"flex",justifyContent:"center",alignItems:"center",margin:"10px"}},s.a.createElement("button",{style:{backgroundColor:"#191919",border:"solid 1px #141414",color:"#FFF"},onClick:this.handleCancel},"Cancel"))),s.a.createElement("div",{style:te(!1)},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",placeholder:"Access Code",style:{textAlign:"center"},onChange:this.handleChange,value:this.state.value}),s.a.createElement("input",{type:"submit"}))))}}]),a}(s.a.Component),ce=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"onClick",(function(){var t,a;null===(t=(a=e.props).onExecute)||void 0===t||t.call(a)})),e}return Object(Y.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"widget-button-wrapper"},s.a.createElement("button",{className:"widget-button",onClick:this.onClick},this.props.label||"Button"))}}]),a}(s.a.Component),ie=a(3),le=function(){function e(){Object(K.a)(this,e)}return Object(Y.a)(e,null,[{key:"getPropertyLimits",value:function(e){switch(e){case n.Int8:return{min:-128,max:127};case n.Int16:return{min:-32768,max:32767};case n.Int32:return{min:-2147483648,max:2147483647};case n.Uint16:return{min:0,max:65535};case n.Uint32:return{min:0,max:4294967295};case n.Float:case n.Vector:case n.Vector2D:case n.Vector4:case n.LinearColor:return{min:-117549e33,max:3402823466e29};case n.Rotator:return{min:0,max:360};case n.Double:return{min:Number.MIN_VALUE,max:Number.MAX_VALUE};case n.Color:return{min:0,max:255}}return{}}},{key:"parseNumber",value:function(e){var t=parseFloat(e);if(!isNaN(t))return t}},{key:"getMinMax",value:function(t,a){var n,r,o=t.Exposed[a];return{min:e.parseNumber(null===o||void 0===o||null===(n=o.Metadata)||void 0===n?void 0:n.Min),max:e.parseNumber(null===o||void 0===o||null===(r=o.Metadata)||void 0===r?void 0:r.Max)}}},{key:"registerWidget",value:function(t,a,n){var r={type:t,render:n};e.customWidgets[t]=r;var o,c=Object(G.a)(a);try{for(c.s();!(o=c.n()).done;){var i=o.value;e.propertyWidgets[i]||(e.propertyWidgets[i]=[]),e.propertyWidgets[i].push(r)}}catch(l){c.e(l)}finally{c.f()}}},{key:"getPropertyPrecision",value:function(e){switch(e){case n.Float:case n.Double:case n.Vector:case n.Vector2D:case n.Vector4:case n.LinearColor:return 3;case n.Rotator:return 2}return 0}},{key:"getPropertyKeys",value:function(e){switch(e){case n.Rotator:return["Roll","Pitch","Yaw"];case n.Vector:return["X","Y","Z"];case n.Vector2D:return["X","Y"];case n.Vector4:return["X","Y","Z","W"];case n.Color:case n.LinearColor:return["R","G","B"]}return[]}},{key:"getCompatibleWidgets",value:function(e){switch(e){case n.Int16:case n.Int32:case n.Int64:case n.Uint16:case n.Uint32:case n.Uint64:case n.Float:case n.Double:return[r.Slider,r.Dial,r.CustomWidget];case n.Boolean:case n.Uint8:return[r.Toggle];case n.Vector:case n.Vector2D:return[r.Vector,r.Joystick,r.Sliders,r.Dials];case n.Vector4:case n.LinearColor:case n.Color:return[r.ColorPicker,r.MiniColorPicker];case n.Rotator:return[r.Vector,r.Sliders,r.Dials]}return e&&(e.startsWith("TEnum")||e.startsWith("E"))?[r.Dropdown]:[]}},{key:"colorToRgb",value:function(e,t){var a,n,r,o=e,c=e;t=t||1;var i={R:255*(null!==(a=null===c||void 0===c?void 0:c.X)&&void 0!==a?a:null===o||void 0===o?void 0:o.R)/t,G:255*(null!==(n=null===c||void 0===c?void 0:c.Y)&&void 0!==n?n:null===o||void 0===o?void 0:o.G)/t,B:255*(null!==(r=null===c||void 0===c?void 0:c.Z)&&void 0!==r?r:null===o||void 0===o?void 0:o.B)/t};return(null===o||void 0===o?void 0:o.A)&&(i.A=o.A),i}},{key:"rgb2Hsv",value:function(e){var t,a,n,r,o=null!==(t=(null===e||void 0===e?void 0:e.R)/255)&&void 0!==t?t:1,c=null!==(a=(null===e||void 0===e?void 0:e.G)/255)&&void 0!==a?a:1,i=null!==(n=(null===e||void 0===e?void 0:e.B)/255)&&void 0!==n?n:1,l=Math.min(o,c,i),s=Math.max(o,c,i),u=0,d=s,p=s-l;if(r=0===s?0:p/s,s!==l){switch(s){case o:u=(c-i)/p+(c<i?6:0);break;case c:u=(i-o)/p+2;break;case i:u=(o-c)/p+4}u/=6}var v={h:u,s:r,v:d};return(null===e||void 0===e?void 0:e.A)&&(v.a=e.A),v}},{key:"hsv2rgb",value:function(e){var t,a,n,r=e.h,o=e.s,c=e.v,i=e.a,l=Math.floor(6*r),s=6*r-l,u=c*(1-o),d=c*(1-s*o),p=c*(1-(1-s)*o);l%6===0&&(t=c,a=p,n=u),l%6===1&&(t=d,a=c,n=u),l%6===2&&(t=u,a=c,n=p),l%6===3&&(t=u,a=d,n=c),l%6===4&&(t=p,a=u,n=c),l%6===5&&(t=c,a=u,n=d);var v={R:255*t,G:255*a,B:255*n};return i&&(v.A=i),v}}]),e}();Object(O.a)(le,"propertyWidgets",{}),Object(O.a)(le,"customWidgets",{}),Object(O.a)(le,"rgbToColor",(function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.R/255*t,r=e.G/255*t,o=e.B/255*t;if(a)return{X:n,Y:r,Z:o};var c={R:n,G:r,B:o};return e.A&&(c.A=e.A),c})),function(e){e.R="R",e.G="G",e.B="B"}(ae||(ae={})),function(e){e.Circle="CIRCLE",e.Wheel="WHEEL",e.Value="VALUE",e.Saturation="SATURATION",e.Alpha="ALPHA",e.Inputs="INPUTS"}(ne||(ne={})),function(e){e.Rgb="RGB",e.Hsv="HSV"}(re||(re={}));var se=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),Object(O.a)(Object(z.a)(e),"state",{color:null,v:1,max:1}),Object(O.a)(Object(z.a)(e),"circleRef",s.a.createRef()),Object(O.a)(Object(z.a)(e),"rectangleRef",s.a.createRef()),Object(O.a)(Object(z.a)(e),"color",null),Object(O.a)(Object(z.a)(e),"monitoring",!1),Object(O.a)(Object(z.a)(e),"updateValues",(function(){var t=e.props,a=t.type,r=t.alpha,o=e.state,c=o.max,i=o.v,l=e.getValue(),s=null===l||void 0===l?void 0:l.A;null===l||void 0===l||delete l.A,r&&(l.A=null!==s&&void 0!==s?s:1);var u=l;if(a===n.Vector4||a===n.LinearColor){for(var d in c=1,l)l[d]>c&&(c=l[d]);u=le.colorToRgb(l,c)}i=le.rgb2Hsv(u).v||.001,e.setState({color:l,max:c,v:i})})),Object(O.a)(Object(z.a)(e),"normalize",(function(e){for(;e<0;)e+=360;for(;e>360;)e-=360;return e})),Object(O.a)(Object(z.a)(e),"getValue",(function(){var t=e.props,a=t.value,r=t.type;if(a)return a;switch(r){case n.Vector4:return{X:1,Y:1,Z:1};case n.Color:case n.LinearColor:return{R:1,G:1,B:1}}})),Object(O.a)(Object(z.a)(e),"onSetColor",(function(t){var a,n;null===(a=(n=e.props).onChange)||void 0===a||a.call(n,t)})),Object(O.a)(Object(z.a)(e),"onPointerRgbDown",(function(t){e.monitoring=!0,e.circleRef.current.setPointerCapture(t.pointerId),e.onPointerRgbMove(t)})),Object(O.a)(Object(z.a)(e),"onPointerHsvDown",(function(t){e.monitoring=!0,e.rectangleRef.current.setPointerCapture(t.pointerId),e.onPointerHsvMove(t)})),Object(O.a)(Object(z.a)(e),"onPointerRgbMove",(function(t){if(e.monitoring){var a=e.props,r=a.type,o=a.alpha,c=e.state,i=c.v,l=c.max,s=e.circleRef.current.getBoundingClientRect(),u=(s.right-s.left)/2+s.left,d=(s.bottom-s.top)/2+s.top,p=t.clientX-u,v=t.clientY-d,m=Math.sqrt(p*p+v*v),b=e.circleRef.current.clientHeight/2,g=Math.atan2(p,v),h=e.normalize(-1*g*(180/Math.PI)-90)/360,f=Math.min(m/b,1);f<.02&&(f=0);var O={h:h,s:f,v:i},j=le.hsv2rgb(O);if(o){var y=e.state.color;j.A=y.A}var E=null;switch(r){case n.Vector4:E=le.rgbToColor(j,l);break;case n.LinearColor:E=le.rgbToColor(j,l,!1);break;case n.Color:E=j}e.setState({color:E}),e.onSetColor(E)}})),Object(O.a)(Object(z.a)(e),"onPointerHsvMove",(function(t){if(e.monitoring){var a=e.state,r=a.color,o=a.max,c=e.props.type,i=e.rectangleRef.current.getBoundingClientRect(),l=Math.max(0,Math.min(i.width,t.clientX-i.left)),s=Math.max(0,Math.min(i.height,t.clientY-i.top)),u=l/i.width,d=Math.max(.01,(i.height-s)/i.height),p=r;c!==n.LinearColor&&c!==n.Vector4||(p=le.colorToRgb(r,o));var v=le.rgb2Hsv(p);switch(v.s=Math.max(u,1e-4),v.v=d,p=le.hsv2rgb(v),c){case n.Vector4:r=le.rgbToColor(p,o);break;case n.LinearColor:r=le.rgbToColor(p,o,!1);break;case n.Color:r=p}e.setState({color:r}),e.onSetColor(r)}})),Object(O.a)(Object(z.a)(e),"onPointerHsvUp",(function(t){e.monitoring&&(e.rectangleRef.current.releasePointerCapture(t.pointerId),e.monitoring=!1)})),Object(O.a)(Object(z.a)(e),"onPointerRgbUp",(function(t){e.monitoring&&(e.circleRef.current.releasePointerCapture(t.pointerId),e.monitoring=!1)})),Object(O.a)(Object(z.a)(e),"onValueInputChange",(function(t,a){var n,r,o=e.state.color;o&&(o[t]=a,null===(n=(r=e.props).onChange)||void 0===n||n.call(r,o))})),Object(O.a)(Object(z.a)(e),"onValueSliderChange",(function(t,a){var r=e.state,o=r.color,c=r.v,i=r.max,l=e.props.type,s=o;"v"===t&&(c=a),"s"===t&&(a=Math.max(a,.01)),"a"===t&&l===n.Color&&(a*=255),l!==n.LinearColor&&l!==n.Vector4||(s=le.colorToRgb(o,i));var u=le.rgb2Hsv(s);switch(u[t]=a,u.v=Math.max(c,1e-5),o=s=le.hsv2rgb(u),l){case n.Vector4:o=le.rgbToColor(o,i);break;case n.LinearColor:o=le.rgbToColor(o,i,!1)}e.setState({color:o,v:c}),e.onSetColor(o)})),Object(O.a)(Object(z.a)(e),"onHsvWheelMove",(function(t){var a=e.state,r=a.color,o=a.max,c=e.props.type,i=.001*t,l=r;c!==n.LinearColor&&c!==n.Vector4||(l=le.colorToRgb(r,o));var s=le.rgb2Hsv(l);switch(s.h+i<0&&(i+=1),s.h=s.h+i,r=l=le.hsv2rgb(s),c){case n.Vector4:r=le.rgbToColor(r,o);break;case n.LinearColor:r=le.rgbToColor(r,o,!1)}e.setState({color:r}),e.onSetColor(r)})),Object(O.a)(Object(z.a)(e),"getPreviewColorStyles",(function(){var t,a,r,o,c,i,l=e.state,s=l.color,u=l.max,d=e.props.type,p=Object(b.a)({},s);return d!==n.LinearColor&&d!==n.Vector4||(p=le.colorToRgb(s,u)),(null===(t=p)||void 0===t?void 0:t.A)&&d===n.Color&&(p.A/=255),{background:"rgba(".concat(null===(a=p)||void 0===a?void 0:a.R,", ").concat(null===(r=p)||void 0===r?void 0:r.G,", ").concat(null===(o=p)||void 0===o?void 0:o.B,", ").concat(null!==(c=null===(i=p)||void 0===i?void 0:i.A)&&void 0!==c?c:1,")")}})),Object(O.a)(Object(z.a)(e),"getPointerPosition",(function(){var t=e.state,a=t.color,r=t.max,o=null;switch(e.props.type){case n.LinearColor:case n.Vector4:o=le.colorToRgb(a,r);break;case n.Color:o=a}var c=le.rgb2Hsv(o),i=(c.h-.25)*Math.PI*2;return{circleX:Math.sin(i)*Math.max(0,Math.min(c.s,1))*90,circleY:-Math.cos(i)*Math.max(0,Math.min(c.s,1))*90,rectangleX:191*Math.max(0,Math.min(c.s,1)),rectangleY:201*(1-Math.max(0,c.v))}})),Object(O.a)(Object(z.a)(e),"getVisibleParts",(function(){var t=e.props,a=t.parts,n=t.widget,o={};return a.map((function(e){return o[e]=!0})),n===r.MiniColorPicker&&(o[ne.Circle]=!1,o[ne.Saturation]=!1,o[ne.Value]=!1),o})),Object(O.a)(Object(z.a)(e),"renderRgbInput",(function(t){var a,r,o=e.state.color,c=3,i=t;switch(e.props.type){case n.Color:c=0,a=0,r=255;break;case n.Vector:case n.Vector4:switch(t){case ae.R:i="X";break;case ae.G:i="Y";break;case ae.B:i="Z"}}var l="input ",u=0;switch(o&&(u=o[i]),t){case ae.R:l+="red ";break;case ae.G:l+="green ";break;case ae.B:l+="blue "}return s.a.createElement("div",{className:l},s.a.createElement(Oe,{draggable:!1,min:a,max:r,precision:c,value:u,onChange:e.onValueInputChange.bind(Object(z.a)(e),i)}))})),Object(O.a)(Object(z.a)(e),"rendeCircleRectangle",(function(){var t,a,r,o=e.props,c=o.mode,i=o.type,l=e.state,u=l.color,d=l.max,p=e.getPointerPosition(),v={transform:"translate(".concat(p.circleX,"px, ").concat(p.circleY,"px)")};if(c===re.Rgb)return s.a.createElement("div",{className:"circle"},s.a.createElement("div",{className:"circle-gradient"},s.a.createElement("div",{className:"canvas-area",ref:e.circleRef,onPointerMove:e.onPointerRgbMove,onPointerDown:e.onPointerRgbDown,onPointerUp:e.onPointerRgbUp},s.a.createElement("div",{className:"canvas-area-pointer",style:v}))));var m=Object(b.a)({},u);i!==n.LinearColor&&i!==n.Vector4||(m=le.colorToRgb(u,d));var g=le.rgb2Hsv(m);(null===(t=m=le.hsv2rgb({h:g.h,s:1,v:1,a:null===g||void 0===g?void 0:g.a}))||void 0===t?void 0:t.A)&&i===n.Color&&(m.A/=255);var h={backgroundColor:"rgba(".concat(m.R,", ").concat(m.G,", ").concat(m.B,", ").concat(null!==(a=null===(r=m)||void 0===r?void 0:r.A)&&void 0!==a?a:1,")"),width:"210px",height:"220px"},f={transform:"translate(".concat(p.rectangleX,"px, ").concat(p.rectangleY,"px)")};return s.a.createElement("div",{className:"rectangle",ref:e.rectangleRef,style:h,onPointerMove:e.onPointerHsvMove,onPointerDown:e.onPointerHsvDown,onPointerUp:e.onPointerHsvUp},s.a.createElement("div",{className:"rectangle-area-pointer",style:f}))})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){this.updateValues()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.value,n=t.type;e.value===a&&n===e.type||this.updateValues()}},{key:"render",value:function(){var e,t,a=this,o=this.props,c=o.label,i=o.type,l=o.widget,u=o.value,d=o.alpha,p=this.state,v=p.color,m=p.max,b=this.getVisibleParts(),g=v;i!==n.LinearColor&&i!==n.Vector4||(g=le.colorToRgb(v,m));var h=le.rgb2Hsv(g),f=null!==(e=null===h||void 0===h?void 0:h.a)&&void 0!==e?e:0;return i===n.Color&&(f/=255),s.a.createElement("div",{className:"color-picker-container"},!!(null===(t=this.props)||void 0===t?void 0:t.onPrecisionModal)&&s.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:this.props.onPrecisionModal}),s.a.createElement("div",{className:"color-picker-wheel"},s.a.createElement("div",null,c),!!b[ne.Circle]&&this.rendeCircleRectangle(),!!b[ne.Wheel]&&s.a.createElement("div",{className:"slider-wheel-container"},l===r.ColorPicker&&s.a.createElement("div",{className:"slider-wheel-top"},s.a.createElement("span",{className:"title"},"Hue"),s.a.createElement("span",{className:"value"},(360*h.h).toFixed(1),"\xb0")),s.a.createElement(Ne,{onWheelMove:this.onHsvWheelMove})),!!b[ne.Saturation]&&s.a.createElement(de,{value:h.s,label:"Saturation",onChange:this.onValueSliderChange.bind(this,"s")}),!!b[ne.Value]&&s.a.createElement(de,{value:h.v,label:"Value",onChange:this.onValueSliderChange.bind(this,"v")}),!!d&&!!b[ne.Alpha]&&s.a.createElement(de,{value:f,label:"Alpha",onChange:this.onValueSliderChange.bind(this,"a")}),s.a.createElement("div",{className:"color-picker-inputs"},!!b[ne.Inputs]&&s.a.createElement(s.a.Fragment,null,this.renderRgbInput(ae.R),this.renderRgbInput(ae.G),this.renderRgbInput(ae.B)),l===r.ColorPicker&&!!u&&s.a.createElement("div",{className:"color",style:this.getPreviewColorStyles()}))),s.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var e,t;return null===(e=(t=a.props).onChange)||void 0===e?void 0:e.call(t)}}))}}]),a}(s.a.Component);Object(O.a)(se,"defaultProps",{parts:[ne.Circle,ne.Wheel,ne.Saturation,ne.Value,ne.Alpha,ne.Inputs],widget:r.ColorPicker,mode:re.Rgb});var ue,de=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{x:null}),Object(O.a)(Object(z.a)(e),"monitoring",!1),Object(O.a)(Object(z.a)(e),"dragValue",null),Object(O.a)(Object(z.a)(e),"dragOffset",null),Object(O.a)(Object(z.a)(e),"ref",s.a.createRef()),Object(O.a)(Object(z.a)(e),"pointer",s.a.createRef()),Object(O.a)(Object(z.a)(e),"updateValues",(function(){var t=e.props.value,a=Math.min(196,Math.max(0,196*t));e.setState({x:a})})),Object(O.a)(Object(z.a)(e),"onPointerDown",(function(t){if(e.ref.current){var a=e.pointer.current.getBoundingClientRect();e.dragOffset=0,e.dragValue=e.props.value,a.left<=t.clientX&&t.clientX<=a.right&&(e.dragOffset=t.clientX-(a.left+a.width/2)),e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId),e.onPointerMove(t)}})),Object(O.a)(Object(z.a)(e),"onPointerMove",(function(t){if(e.monitoring){var a=e.ref.current.getBoundingClientRect(),n=t.clientX-e.dragOffset,r=Math.max(0,Math.min((n-a.left)/a.width,1));Math.abs(e.dragValue-r)>.001&&(e.dragValue=r,e.setState({x:Math.max(0,n-a.left-4)}),e.props.onChange(r))}})),Object(O.a)(Object(z.a)(e),"onPointerLostCapture",(function(t){e.monitoring&&(e.dragOffset=0,e.dragValue=null,e.monitoring=!1,e.ref.current.releasePointerCapture(t.pointerId))})),Object(O.a)(Object(z.a)(e),"getPercentage",(function(){var t=e.state.x;return Math.max(0,Math.round(100*t/196))})),e}return Object(Y.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.value;isNaN(a)||e.value===a||this.updateValues()}},{key:"render",value:function(){var e=this.props.label,t=this.state.x;return s.a.createElement("div",{className:"color-picker-slider",ref:this.ref,style:{width:200},onPointerMove:this.onPointerMove,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerLostCapture},s.a.createElement("div",{className:"color-picker-slider-label"},e),s.a.createElement("div",{className:"color-picker-slider-pointer",style:{transform:"translateX(".concat(t,"px)")},ref:this.pointer}),s.a.createElement("div",{className:"color-picker-slider-bgc"}),s.a.createElement("div",{className:"color-picker-slider-value"},this.getPercentage(),"%"))}}]),a}(s.a.Component),pe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(O.a)(Object(z.a)(e),"state",{selected:null}),Object(O.a)(Object(z.a)(e),"onItemSelect",(function(t,a,n){var r=e.props.path;n.preventDefault(),e.setState({selected:t}),e.props.onSelect("".concat(r,"_").concat(a,"_").concat(t.property))})),Object(O.a)(Object(z.a)(e),"getMaxColorValue",(function(e,t){var a=1;if(e===n.Vector4||e===n.LinearColor)for(var r in a=0,t)t[r]>a&&(a=t[r]);return a})),Object(O.a)(Object(z.a)(e),"getPreviewColorStyles",(function(e,t,a){var r,o,c,i=e;return t!==n.LinearColor&&t!==n.Vector4||(i=le.colorToRgb(e,a)),{background:"rgb(".concat(null===(r=i)||void 0===r?void 0:r.R,", ").concat(null===(o=i)||void 0===o?void 0:o.G,", ").concat(null===(c=i)||void 0===c?void 0:c.B,")")}})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.list,t=D.a.first(e.items);this.setState({selected:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dragging,n=t.selection,r=t.list,o=this.state.selected;if(a!==e.dragging&&a){var c=a.split("_"),i=Object(H.a)(c,2)[1];r.id===i&&this.setState({selected:null})}if(r!==e.list){if(!n){var l,s=null!==(l=D.a.find(r.items,["id",o.id]))&&void 0!==l?l:D.a.first(r.items);return this.setState({selected:s})}var u=n.split("_"),d=Object(H.a)(u,2),p=d[0],v=d[1];p===this.props.path&&this.setState({selected:r.items[v]})}}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.list,r=a.selection,o=a.path,c=a.isDragDisabled,i=this.state.selected,l=this.props.getPropertyValue(null===i||void 0===i?void 0:i.property);return s.a.createElement("div",{className:"color-pickers-list-container"},s.a.createElement("ul",{className:"colors-list"},null===n||void 0===n||null===(e=n.items)||void 0===e?void 0:e.map((function(e,a){var l="".concat(e.id,"_").concat(n.id,"_").concat(e.widget),u=t.props.getPropertyValue(null===e||void 0===e?void 0:e.property),d=t.getMaxColorValue(e.propertyType,u),p="list-item ";return(null===i||void 0===i?void 0:i.id)===e.id&&(p+="selected "),s.a.createElement("li",{className:p,key:a},s.a.createElement(Xe,{draggableId:l,key:e.id,selected:r==="".concat(o,"_").concat(a,"_").concat(e.property),index:a,onSelect:t.onItemSelect.bind(t,e,a),isDragDisabled:c},s.a.createElement("div",null,!!t.props.onPrecisionModal&&s.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:function(){return t.props.onPrecisionModal(e)}}),t.props.getPropertyLabel(e)),s.a.createElement("div",{className:"color-preview",style:t.getPreviewColorStyles(u,e.propertyType,d)})))}))),s.a.createElement(se,{value:l,type:null===i||void 0===i?void 0:i.propertyType,widget:null===i||void 0===i?void 0:i.widget,alpha:this.props.getAlpha(null===i||void 0===i?void 0:i.property),onChange:this.props.onChange.bind(this,i),onPrecisionModal:function(){return t.props.onPrecisionModal(i)}}))}}]),a}(s.a.Component);!function(e){e.Range="RANGE",e.Endless="ENDLESS",e.Rotation="ROTATION"}(ue||(ue={}));var ve=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"ref",s.a.createRef()),Object(O.a)(Object(z.a)(e),"monitoring",!1),Object(O.a)(Object(z.a)(e),"beautify",new Intl.NumberFormat),Object(O.a)(Object(z.a)(e),"svgCircleDegreeLength",477.5),Object(O.a)(Object(z.a)(e),"onDown",(function(t){e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId),e.onMove(t)})),Object(O.a)(Object(z.a)(e),"onUp",(function(t){e.monitoring=!1,e.ref.current.releasePointerCapture(t.pointerId)})),Object(O.a)(Object(z.a)(e),"onMove",(function(t){var a,n;if(e.monitoring){var r=e.ref.current.getBoundingClientRect(),o=(r.right-r.left)/2+r.left,c=(r.bottom-r.top)/2+r.top,i=-1*Math.atan2(t.clientX-o,t.clientY-c)*(180/Math.PI);e.props.mode!==ue.Range&&(i+=180);var l=e.props,s=l.min,u=l.max,d=l.mode;i=e.normalize(i);var p=e.getValueFromAngle(i);d===ue.Rotation?p=e.normalize(p,-180,180):(void 0!==s&&(p=Math.max(s,p)),void 0!==u&&(p=Math.min(p,u))),null===(a=(n=e.props).onChange)||void 0===a||a.call(n,p)}})),Object(O.a)(Object(z.a)(e),"onValueInputChange",(function(t){return e.props.mode===ue.Rotation&&(t=e.normalize(t,-180,180)),e.props.onChange(t)})),Object(O.a)(Object(z.a)(e),"renderSmallLines",(function(t,a,n,r){for(var o=e.props,c=o.shortLines,i=o.mode,l=i===ue.Range?180:0,u=i!==ue.Range,d=1;d<=c;d++){var p=e.normalize(r+n/(c+1)*d-180),v=a>=e.normalize(p+l)||u,m="dial-tick short ".concat(v&&"active");t.push(s.a.createElement("div",{key:p,className:m,style:{transform:"rotate(".concat(p,"deg)")}}))}})),Object(O.a)(Object(z.a)(e),"renderLines",(function(t){var a=e.props,n=a.startAngle,r=a.endAngle,o=a.largeLines,c=0,i=a.mode!==ue.Range;i&&(n=0,r=360,c=180),t=e.normalize(t-c);var l=(r-n)/(o-1);if(o<1)return null;for(var u=[],d=0;d<o;d++){var p=e.normalize(d*l+n),v="dial-tick large ".concat((t>=p||i)&&"active");u.push(s.a.createElement("div",{key:p,className:v,style:{transform:"rotate(".concat(p-180-c,"deg)")}})),d+1<o&&e.renderSmallLines(u,t,l,p)}return u})),Object(O.a)(Object(z.a)(e),"normalize",(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:360,n=a-t;e<t;)e+=n;for(;e>a;)e-=n;return e})),Object(O.a)(Object(z.a)(e),"getValue",(function(){var t=e.props,a=t.min,n=t.max,r=e.props.value,o=void 0===r?0:r;return isNaN(a)||(o=Math.max(a,o)),isNaN(n)||(o=Math.min(n,o)),o})),Object(O.a)(Object(z.a)(e),"getValueFromAngle",(function(t){var a=e.props,n=a.min,r=a.startAngle,o=a.endAngle,c=a.mode,i=e.getRange();switch(c){case ue.Range:return n+((t=Math.max(r,Math.min(t,o)))-r)/(o-r)*i;case ue.Endless:case ue.Rotation:var l=e.getValue(),s=e.normalize(e.getAngle(l)-180),u=e.normalize(t-s);return l+=(u>180?u-360:u)*(i>=360?1:i/1080),c===ue.Rotation&&(l=e.normalize(l)),l}})),Object(O.a)(Object(z.a)(e),"getRange",(function(){var t=e.props,a=t.min,n=t.max;return void 0===a||void 0===n?1e3:Math.max(n-a,.01)})),Object(O.a)(Object(z.a)(e),"getAngle",(function(t){var a=e.props,n=a.mode,r=a.min,o=void 0===r?0:r,c=a.startAngle,i=a.endAngle,l=e.getRange(),s=0;switch(n){case ue.Range:s=c+(t-o)/l*(i-c);break;case ue.Endless:case ue.Rotation:s=180+t/(l>=360?1:l/1080)%360}return e.normalize(s)})),Object(O.a)(Object(z.a)(e),"getText",(function(t){if(isNaN(t))return"";var a=e.props,n=a.min,r=a.max,o=a.display,c=Math.max(.1,r-n),i=Math.max(0,4-c.toFixed().length);return"PERCENT"===o?(100*((t-n)/c)).toFixed(2):e.beautify.format(+(null===t||void 0===t?void 0:t.toFixed(i)))})),Object(O.a)(Object(z.a)(e),"getCirclePaintOver",(function(t){var a=e.props,n=a.startAngle,r=function(t){var a=t/3.6;return e.svgCircleDegreeLength/100*a};switch(a.mode){case ue.Endless:case ue.Rotation:var o=t<180?t+180:t-180;return e.svgCircleDegreeLength-r(o);case ue.Range:return e.svgCircleDegreeLength+r(n)-r(t)}})),Object(O.a)(Object(z.a)(e),"getPaintOverRotate",(function(){var t=e.props,a=t.startAngle;return t.mode===ue.Range?90+a:-90})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=void 0===a?0:a,r=t.size,o=t.min,c=t.max,i=t.label,l=t.mode,u=this.getAngle(n),d={width:r,height:r},p=l===ue.Range?{position:"absolute",top:"82%"}:{};return s.a.createElement("div",{className:"dial-widget-wrapper"},!this.props.hidePrecision&&s.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:this.props.onPrecisionModal}),i&&s.a.createElement("div",{className:"dial-label"},i),s.a.createElement("div",{className:"dial-border-first"},s.a.createElement("div",{className:"dial-border-second"},s.a.createElement("div",{className:"dial-wrapper",ref:this.ref,style:isNaN(r)?{}:d,onLostPointerCapture:this.onUp,onPointerDown:this.onDown,onPointerUp:this.onUp,onPointerMove:this.onMove,tabIndex:-1},s.a.createElement("div",{className:"dial-circle"},s.a.createElement(me,{angle:u,size:r,mode:l,rotate:this.getPaintOverRotate(),circlePaintOver:this.getCirclePaintOver(u),svgCircleDegreeLength:this.svgCircleDegreeLength}),s.a.createElement("div",{className:"dial-ticks"},this.renderLines(u)),s.a.createElement("div",{className:"dial-center-wrapper"},s.a.createElement("div",{className:"dial-center"},i&&s.a.createElement("div",{className:"dial-label"},i),s.a.createElement("div",{className:"dial-value",style:p,onPointerDown:function(e){return e.stopPropagation()}},s.a.createElement(Oe,{min:o,max:c,value:n,onChange:this.onValueInputChange})))),s.a.createElement("div",{className:"dial-line",style:{transform:"rotate(".concat(u,"deg)")}}))))),!this.props.hideReset&&s.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}}))}}]),a}(s.a.Component);Object(O.a)(ve,"defaultProps",{startAngle:50,endAngle:310,largeLines:11,shortLines:5,display:"VALUE",mode:ue.Range,size:202});var me=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.angle,a=e.size,n=e.rotate,r=e.circlePaintOver,o=e.svgCircleDegreeLength,c=e.mode,i=a/2-1,l=0,u=r;c!==ue.Range&&(l=(t<180?t+180:t-180)-90,u=o/4*3);var d="svg-circle";return c===ue.Range&&(d+=" range"),s.a.createElement("div",{className:"svg-circle"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"shape-gradient",x1:"0",x2:"0",y1:"1",y2:"0"},s.a.createElement("stop",{offset:"0%",stopColor:"rgba(0,103,180,1)"}),s.a.createElement("stop",{offset:"50%",stopColor:"rgba(0,103,180,0)"}))),s.a.createElement("circle",{transform:"rotate(".concat(n+l,", ").concat(i,", ").concat(i,")"),cx:i,cy:i,r:"76",fill:"transparent",strokeWidth:"45",strokeDasharray:o,strokeDashoffset:u,className:d})))}}]),a}(s.a.Component),be=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"getProperties",(function(){var t=e.props,a=t.type,n=t.properties,r=le.getPropertyKeys(a);return(null===n||void 0===n?void 0:n.length)&&(r=r.filter((function(e){return n.includes(e)}))),r})),Object(O.a)(Object(z.a)(e),"onChange",(function(t,a){var n=e.props.onChange,r=e.props.value;void 0===r&&(r=e.getProperties().length?{}:0);a?r[a]=t:r=t,null===n||void 0===n||n(r)})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.min,n=t.max,r=t.mode,o=t.value,c=t.display,i=t.hidePrecision,l=t.label,u=this.props.size,d=this.getProperties(),p=203;u&&(p=Math.min(u/d.length,u-70)-10);var v={mode:r,min:a,max:n,display:c,size:p,startAngle:void 0,endAngle:void 0,hideReset:!0,hidePrecision:i};return s.a.createElement("div",{className:"dial-wrapper-container"},l,s.a.createElement("div",{className:"dial-wrapper-block"},!!d.length&&d.map((function(t){var a;return s.a.createElement(ve,Object.assign({},v,{key:t,label:t,value:null!==(a=null===o||void 0===o?void 0:o[t])&&void 0!==a?a:0,onChange:function(a){return e.onChange(a,t)}}))})),!d.length&&s.a.createElement(ve,Object.assign({},v,{value:"number"===typeof o?o:0,onChange:this.onChange}))))}}]),a}(s.a.Component),ge=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{x:0,y:0}),Object(O.a)(Object(z.a)(e),"ref",s.a.createRef()),Object(O.a)(Object(z.a)(e),"monitoring",!1),Object(O.a)(Object(z.a)(e),"step",{}),Object(O.a)(Object(z.a)(e),"value",null),Object(O.a)(Object(z.a)(e),"interval",null),Object(O.a)(Object(z.a)(e),"onPointerDown",(function(t){var a=e.props,n=a.interval,r=a.value;e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId),e.value=r,e.onPointerMove(t),e.makeMove(),e.interval=setInterval(e.makeMove,n)})),Object(O.a)(Object(z.a)(e),"onPointerMove",(function(t){if(e.monitoring){var a=e.props,n=a.label,r=a.step,o=e.ref.current.getBoundingClientRect(),c=(o.right-o.left)/2+o.left,i=(o.bottom-o.top)/2+o.top,l=t.clientX-c,s=t.clientY-i,u=Math.sqrt(l*l+s*s),d=e.ref.current.clientHeight/2,p=Math.atan2(l,s),v=e.normalize(-1*p*(180/Math.PI)-90)/360,m=Math.min(u/d,.88),b=(v-.25)*Math.PI*2;l=Math.sin(b)*m*90,s=Math.cos(b)*m*90;var g={};switch(n){case"X":l=0,g.X=s*r/d;break;case"Y":s=0,g.Y=l*r/d;break;case"Z":l=0,g.Z=s*r/d;break;case"XY":g.X=s*r/d,g.Y=l*r/d}e.step=g,e.setState({x:l,y:s})}})),Object(O.a)(Object(z.a)(e),"onPointerLost",(function(t){e.monitoring&&(e.ref.current.releasePointerCapture(t.pointerId),e.monitoring=!1,e.value=null,e.setState({x:0,y:0}),clearInterval(e.interval),e.interval=null)})),Object(O.a)(Object(z.a)(e),"makeMove",(function(){var t,a,n=e.props,r=n.min,o=n.max;if(e.value){for(var c in e.step){var i=e.value[c]+e.step[c];void 0!==o&&(i=Math.min(i,o)),void 0!==r&&(i=Math.max(r,i)),e.value[c]=i}null===(t=(a=e.props).onChange)||void 0===t||t.call(a,e.value)}})),Object(O.a)(Object(z.a)(e),"normalize",(function(e){for(;e<0;)e+=360;for(;e>360;)e-=360;return e})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.state,t=e.x,a=e.y,n=this.props.label,r="circle ";return this.monitoring||(r+="animate"),s.a.createElement("div",{className:"joystick-wrapper"},s.a.createElement("div",{ref:this.ref,className:"joystick",onPointerDown:this.onPointerDown,onPointerMoveCapture:this.onPointerMove,onLostPointerCaptureCapture:this.onPointerLost},s.a.createElement("div",{className:"arrows"},["Z","X","XY"].includes(n)&&s.a.createElement(ie.a,{icon:["fas","caret-up"]}),["Y","XY"].includes(n)&&s.a.createElement(ie.a,{icon:["fas","caret-left"]}),["Y","XY"].includes(n)&&s.a.createElement(ie.a,{icon:["fas","caret-right"]}),["Z","X","XY"].includes(n)&&s.a.createElement(ie.a,{icon:["fas","caret-down"]})),s.a.createElement("div",{className:"circle-wrapper"},s.a.createElement("div",{className:r,style:{transform:"translate(".concat(t,"px, ").concat(-a,"px)")}},s.a.createElement("div",{className:"label"},n)))))}}]),a}(s.a.Component);Object(O.a)(ge,"defaultProps",{interval:100});var he=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{speed:5}),Object(O.a)(Object(z.a)(e),"onSpeedChange",(function(t){e.setState({speed:t})})),Object(O.a)(Object(z.a)(e),"getJoystick",(function(t){var a=e.props.keys,n=void 0===a?[]:a,r=n[0],o=n[1],c=n[2];switch(t){case"left":return c?r+o:r;case"right":return c||o}})),Object(O.a)(Object(z.a)(e),"renderInput",(function(t,a,n,r){return s.a.createElement("div",{key:t,className:"control"},s.a.createElement("span",{className:"label"},t,":"),s.a.createElement(Oe,{min:n,max:r,value:null===a||void 0===a?void 0:a[t],onChange:function(n){var r,o;return null===(r=(o=e.props).onChange)||void 0===r?void 0:r.call(o,Object(b.a)(Object(b.a)({},a),{},Object(O.a)({},t,n)))}}))})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.min,r=t.max,o=t.label,c=void 0===o?"":o,i=t.keys,l=void 0===i?[]:i,u=t.showReset,d=void 0===u||u,p=this.state.speed,v=this.getJoystick("left"),m=this.getJoystick("right");return s.a.createElement("div",{className:"joystick-outer-wrapper"},d&&s.a.createElement(ie.a,{className:"reset-btn",icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}}),s.a.createElement("div",{className:"joystick-wrapper-block"},s.a.createElement(ge,{label:v,value:a,step:p,min:n,max:r,onChange:this.props.onChange})),s.a.createElement("div",{className:"controls-block"},s.a.createElement("div",{className:"label"},c),s.a.createElement("div",{className:"inputs"},l.map((function(t){return e.renderInput(t,a,n,r)}))),s.a.createElement("div",{className:"slider"},s.a.createElement(je,{value:p,min:.01,max:100,onChange:this.onSpeedChange,showLabel:!1}),s.a.createElement("div",{className:"values"},s.a.createElement("div",{className:"field"},"Slow"),s.a.createElement(Oe,{value:p,min:.01,onChange:this.onSpeedChange}),s.a.createElement("div",{className:"field"},"Fast")),s.a.createElement("div",{className:"centered"},"Speed"))),s.a.createElement("div",{className:"joystick-wrapper-block"},s.a.createElement(ge,{label:m,value:a,step:p,min:n,max:r,onChange:this.props.onChange})))}}]),a}(s.a.Component),fe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{hasError:!1}),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.fallback,n=t.alt,r=t.label,o=t.style,c=Object(b.a)({},this.props);return delete c.fallback,delete c.label,this.state.hasError?a?s.a.createElement("img",Object.assign({},c,{src:a,alt:null!==n&&void 0!==n?n:r})):s.a.createElement("div",{className:"safe-image-wrapper",style:o},s.a.createElement(ie.a,{icon:["fas","image"]}),s.a.createElement("div",{className:"image-label"},"Can't load image"),s.a.createElement("div",{className:"image-label"},r)):s.a.createElement("img",Object.assign({},c,{alt:null!==n&&void 0!==n?n:r,onError:function(){return e.setState({hasError:!0})}}))}}]),a}(s.a.Component),Oe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"ref",s.a.createRef()),Object(O.a)(Object(z.a)(e),"input",s.a.createRef()),Object(O.a)(Object(z.a)(e),"monitoring",!1),Object(O.a)(Object(z.a)(e),"dragStartX",0),Object(O.a)(Object(z.a)(e),"touchTime",null),Object(O.a)(Object(z.a)(e),"getValue",(function(){var t,a,n=e.props,r=n.value,o=n.precision;return"string"===typeof r&&(r=Number.parseFloat(r)),null===(t=r)||void 0===t||null===(a=t.toFixed)||void 0===a?void 0:a.call(t,null!==o&&void 0!==o?o:2)})),Object(O.a)(Object(z.a)(e),"getNumberValue",(function(){var t=e.props.value;return"string"===typeof t&&(t=Number.parseFloat(t)),t})),Object(O.a)(Object(z.a)(e),"state",{value:e.getValue()}),Object(O.a)(Object(z.a)(e),"onContextMenu",(function(e){e.preventDefault()})),Object(O.a)(Object(z.a)(e),"onClick",(function(){e.input.current.focus()})),Object(O.a)(Object(z.a)(e),"onDown",(function(t){var a;!1!==e.props.draggable&&(e.monitoring=!0,e.dragStartX=t.clientX,(null===e.touchTime||performance.now()-e.touchTime>3e3)&&(e.touchTime=performance.now()),null===(a=e.ref.current)||void 0===a||a.setPointerCapture(t.pointerId))})),Object(O.a)(Object(z.a)(e),"onUp",(function(t){var a;e.monitoring=!1,e.touchTime=performance.now(),null===(a=e.ref.current)||void 0===a||a.releasePointerCapture(t.pointerId)})),Object(O.a)(Object(z.a)(e),"onMove",(function(t){var a,n;if(e.monitoring&&e.ref.current){if(null!==e.touchTime){if(performance.now()-e.touchTime<150)return;e.dragStartX=t.clientX,e.touchTime=null}var r=e.props,o=r.min,c=r.max,i=e.getNumberValue(),l=t.clientX-e.dragStartX;if(e.dragStartX=t.clientX,void 0!==o&&void 0!==c){var s=Math.abs(c-o);s>.01&&2*s<window.innerWidth&&(l*=s/50)}i+=l,void 0!==o&&(i=Math.max(o,i)),void 0!==c&&(i=Math.min(i,c)),isNaN(i)&&(i=0),null===(a=(n=e.props).onChange)||void 0===a||a.call(n,i),t.preventDefault()}})),Object(O.a)(Object(z.a)(e),"onManualChange",(function(t){e.setState({value:t.target.value})})),Object(O.a)(Object(z.a)(e),"onKeyDown",(function(t){switch(t.key){case"Enter":e.onChangeValue();break;case"Escape":e.setPropsValue()}})),Object(O.a)(Object(z.a)(e),"setPropsValue",(function(){e.setState({value:e.getValue()})})),Object(O.a)(Object(z.a)(e),"onChangeValue",(function(){var t=e.props,a=t.min,n=t.max,r=Number.parseFloat(e.state.value);isNaN(r)||(isNaN(a)||(r=Math.max(a,r)),isNaN(n)||(r=Math.min(n,r)),r!==e.props.value&&e.props.onChange(r)),e.setPropsValue()})),e}return Object(Y.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.value,a=this.getValue();e.value!==t&&this.state.value!==a&&this.setState({value:a})}},{key:"render",value:function(){var e=this.state.value;return s.a.createElement("span",{ref:this.ref,className:"input-field-container",onClick:this.onClick,onPointerDown:this.onDown,onPointerMove:this.onMove,onPointerUp:this.onUp,onLostPointerCapture:this.onUp},s.a.createElement("input",{ref:this.input,className:"input-field",value:null!==e&&void 0!==e?e:"",onChange:this.onManualChange,onKeyDown:this.onKeyDown,onBlur:this.onChangeValue,onContextMenu:this.onContextMenu}))}}]),a}(s.a.Component),je=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"ref",s.a.createRef()),Object(O.a)(Object(z.a)(e),"circleRef",s.a.createRef()),Object(O.a)(Object(z.a)(e),"monitoring",!1),Object(O.a)(Object(z.a)(e),"dragValue",null),Object(O.a)(Object(z.a)(e),"dragOffset",null),Object(O.a)(Object(z.a)(e),"onDown",(function(t){e.monitoring=!0,e.ref.current.setPointerCapture(t.pointerId);var a=e.circleRef.current.getBoundingClientRect();e.dragOffset=0,e.dragValue=e.props.value,a.left<=t.clientX&&t.clientX<=a.right&&(e.dragOffset=t.clientX-(a.left+a.width/2)),e.onMove(t)})),Object(O.a)(Object(z.a)(e),"onUp",(function(t){e.monitoring=!1,e.dragOffset=0,e.dragValue=null,e.ref.current.releasePointerCapture(t.pointerId)})),Object(O.a)(Object(z.a)(e),"onMove",(function(t){if(e.monitoring&&e.ref.current){var a,n,r=e.props,o=r.min,c=r.max,i=e.ref.current.getBoundingClientRect(),l=t.clientX-e.dragOffset,s=Math.max(0,Math.min((l-i.left)/i.width,1))*(c-o)+o;if(e.dragValue!==s)e.dragValue=s,null===(a=(n=e.props).onChange)||void 0===a||a.call(n,s)}})),Object(O.a)(Object(z.a)(e),"renderGridLines",(function(e){for(var t=[],a=0;a<11;a++)t.push(s.a.createElement("div",{key:a,className:"grid-lines ".concat(e>9.9999*a?"active":"")}));return s.a.createElement("div",{className:"grid-lines-wrapper"},t)})),Object(O.a)(Object(z.a)(e),"onKeyDown",(function(t){var a,n,r,o,c=e.props,i=c.value,l=c.min,s=(c.max-l)/20;switch(t.nativeEvent.code){case"KeyA":case"KeyS":null===(a=(n=e.props).onChange)||void 0===a||a.call(n,i-s);break;case"KeyW":case"KeyD":null===(r=(o=e.props).onChange)||void 0===r||r.call(o,i+s)}})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.min,n=t.max,r=t.showGrid,o=t.showLimits,c=t.showLabel,i=t.precision,l=null!==(e=this.dragValue)&&void 0!==e?e:this.props.value,u=0;return isNaN(l)||(u=(l-a)/(n-a)*100,u=Math.max(0,Math.min(u,100))),s.a.createElement("div",{className:"slider-wrapper"},!1!==c&&s.a.createElement(Oe,{min:a,max:n,precision:i,value:l,onChange:this.props.onChange}),s.a.createElement("div",{className:"slider-inner",tabIndex:0,onKeyDown:this.onKeyDown},o&&s.a.createElement("div",{className:"label-wrapper"},s.a.createElement("span",{className:"label"},a),s.a.createElement("span",{className:"label"},n)),s.a.createElement("div",{className:"slider-clickable",ref:this.ref,onLostPointerCapture:this.onUp,onPointerDown:this.onDown,onPointerUp:this.onUp,onPointerMove:this.onMove},s.a.createElement("div",{className:"slider-block"},s.a.createElement("div",{className:"slider"}),s.a.createElement("div",{className:"range-fill",style:{width:"".concat(u,"%")}}),s.a.createElement("div",{className:"circle-wrapper",style:{transform:"translateX(".concat(u,"%)")}},s.a.createElement("div",{className:"circle",ref:this.circleRef}))),r&&this.renderGridLines(u))))}}]),a}(s.a.Component),ye=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"onSliderChange",(function(t,a){var n=e.props,r=n.value,o=void 0===r?{}:r,c=n.onChange;t&&(o[t]=a,c(o))})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.min,n=t.max,r=t.value,o=t.widget,c=null===o||void 0===o?void 0:o.propertyType,i=le.getPropertyKeys(c),l=le.getPropertyPrecision(c);return s.a.createElement("div",{className:"sliders-component-wrapper"},i.map((function(t){return s.a.createElement("div",{key:t,className:"slider-row"},s.a.createElement("div",{className:"title"},t),s.a.createElement(Oe,{min:a,max:n,precision:l,value:null===r||void 0===r?void 0:r[t],onChange:function(a){return e.onSliderChange(t,a)}}),void 0!==a&&void 0!==n&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"limits"},null===a||void 0===a?void 0:a.toFixed(1)),s.a.createElement(je,{value:null===r||void 0===r?void 0:r[t],min:a,max:n,precision:l,showLabel:!1,onChange:function(a){return e.onSliderChange(t,a)}}),s.a.createElement("div",{className:"limits"},null===n||void 0===n?void 0:n.toFixed(1))),s.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}}))})))}}]),a}(s.a.Component),Ee=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"onChange",(function(t){var a,n;null===(a=(n=e.props).onChange)||void 0===a||a.call(n,t.target.value)})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.props.value;return s.a.createElement("div",{className:"widget-text-wrapper"},s.a.createElement("input",{className:"widget-text",type:"textbox",value:null!==e&&void 0!==e?e:"",onChange:this.onChange}))}}]),a}(s.a.Component),Ce=(s.a.Component,[r.Joystick,r.Dial,r.Sliders]),we=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{}),Object(O.a)(Object(z.a)(e),"renderJoystick",(function(t,a,n){var r=e.props,o=r.widget,c=r.value,i=r.onChange;return s.a.createElement(he,{type:null===o||void 0===o?void 0:o.propertyType,min:a,max:n,value:c,keys:t,showReset:!1,onChange:i})})),Object(O.a)(Object(z.a)(e),"setMode",(function(t){e.setState({mode:t})})),Object(O.a)(Object(z.a)(e),"renderMode",(function(t,a){var n=e.props.widget;if(n.widgets.length<2||!n.widgets.includes(a))return null;var r="mode ";return t===a&&(r+="selected "),s.a.createElement("div",{className:r,onClick:function(){return e.setMode(a)}},a)})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.widget,t=D.a.compact(Ce.map((function(t){var a;return null===(a=e.widgets)||void 0===a?void 0:a.find((function(e){return e===t}))}))),a=D.a.first(t);this.setState({mode:a})}},{key:"componentDidUpdate",value:function(e){var t=this.props.widget,a=this.state.mode;if(t!==e.widget){var n=D.a.compact(Ce.map((function(e){var a;return null===(a=t.widgets)||void 0===a?void 0:a.find((function(t){return t===e}))})));if(!n.length)return this.props.onClose();n.find((function(e){return e===a}))||this.setState({mode:D.a.first(n)})}}},{key:"render",value:function(){var e,t=this.props,a=t.label,o=t.value,c=t.min,i=t.max,l=t.widget,u=t.onChange,d=t.onClose;if(!(null===l||void 0===l||null===(e=l.widgets)||void 0===e?void 0:e.length))return null;var p=this.state.mode;p&&l.widgets.includes(p)||(p=l.widgets[0]);var v=le.getPropertyKeys(null===l||void 0===l?void 0:l.propertyType),m=l.propertyType===n.Rotator,b=ue.Endless;void 0!==c&&void 0!==i&&(b=ue.Range),m&&(b=ue.Rotation);var g=l.widgets.length>1;return s.a.createElement("div",{className:"vector-drawer-wrapper",onClick:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"drawer-header"},s.a.createElement("div",{className:"modes header-block"},this.renderMode(p,r.Joystick),this.renderMode(p,r.Dial),this.renderMode(p,r.Sliders)),s.a.createElement("div",{className:"header-block"},s.a.createElement("span",null,a),s.a.createElement(ie.a,{className:"reset-btn",icon:["fas","undo"],onClick:function(){return null===u||void 0===u?void 0:u()}})),s.a.createElement("div",{className:"header-block btns"},s.a.createElement(ie.a,{className:"close-btn",icon:["fas","times"],onClick:d}))),s.a.createElement("div",{className:"controls-block ".concat(g?"":"controls-only")},p===r.Joystick&&!m&&this.renderJoystick(v,c,i),p===r.Sliders&&s.a.createElement(ye,{widget:l,min:c,max:i,value:o,onChange:u}),p===r.Dial&&s.a.createElement(be,{size:l.propertyType!==n.Vector2D?600:400,min:c,max:i,type:l.propertyType,mode:b,value:o,hidePrecision:!0,onChange:u})))}}]),a}(s.a.Component),ke=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{filter:""}),Object(O.a)(Object(z.a)(e),"onSearch",(function(t){e.props.onSearch(t.toLowerCase()),e.setState({filter:t})})),e}return Object(Y.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.placeholder,n=t.onSearch;a!==e.placeholder&&(this.setState({filter:""}),n(""))}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onSearch)||void 0===e||e.call(t,"")}},{key:"render",value:function(){var e=this,t=this.state.filter,a=this.props.placeholder;return s.a.createElement("div",{className:"search-wrapper"},s.a.createElement(ie.a,{icon:["fas","search"]}),s.a.createElement("input",{className:"list-search",value:t,placeholder:a,onChange:function(t){return e.onSearch(t.target.value)}}),t&&s.a.createElement(ie.a,{icon:["fas","times-circle"],onClick:function(){return e.onSearch("")}}))}}]),a}(s.a.Component);Object(O.a)(ke,"defaultProps",{placeholder:"Search"});var Ne=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{offset:0}),Object(O.a)(Object(z.a)(e),"ref",s.a.createRef()),Object(O.a)(Object(z.a)(e),"monitoring",!1),Object(O.a)(Object(z.a)(e),"last",-1),Object(O.a)(Object(z.a)(e),"sum",0),Object(O.a)(Object(z.a)(e),"onPointerDown",(function(t){var a,n;e.ref.current&&(e.monitoring=!0,e.last=t.clientX,e.ref.current.setPointerCapture(t.pointerId),null===(a=(n=e.props).onWheelStart)||void 0===a||a.call(n))})),Object(O.a)(Object(z.a)(e),"onPointerMove",(function(t){var a,n;if(e.monitoring){var r=t.clientX-e.last;if(!(Math.abs(r)<2)){e.last=t.clientX;var o=e.state.offset;e.sum+=r;var c=e.ref.current.getBoundingClientRect();o+=r,o%=c.width/2,null===(a=(n=e.props).onWheelMove)||void 0===a||a.call(n,Math.sign(r),e.sum/(c.width/2)),e.setState({offset:o})}}})),Object(O.a)(Object(z.a)(e),"onPointerUp",(function(t){e.monitoring&&(e.monitoring=!1,e.last=0,e.sum=0,e.ref.current.releasePointerCapture(t.pointerId))})),Object(O.a)(Object(z.a)(e),"renderCircles",(function(){for(var e=[],t=0;t<80;t++)e.push(s.a.createElement("div",{key:t,className:"slider-circle"}));return e})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.state.offset,t={transform:"translateX(".concat(e,"px)")};return s.a.createElement("div",{className:"color-picker-slider-wheel",onPointerMove:this.onPointerMove,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,ref:this.ref},s.a.createElement("div",{className:"circles-list",style:t},this.renderCircles()))}}]),a}(s.a.Component),Se=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"onSelect",(function(t){var a,n;null===(a=(n=e.props).onChange)||void 0===a||a.call(n,t)})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=void 0===a?"":a,r=t.options,o=t.value;return s.a.createElement("div",{className:"dropwdown-row"},s.a.createElement("div",{className:"slider-row"},s.a.createElement("div",{className:"title"},n),s.a.createElement("div",{className:"dropdown-widget"},s.a.createElement("select",{className:"dropdown",value:o,onChange:function(t){return e.onSelect(t.target.value)}},null===r||void 0===r?void 0:r.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)})))),s.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,a;return null===(t=(a=e.props).onChange)||void 0===t?void 0:t.call(a)}})))}}]),a}(s.a.Component),Pe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.widget,r=a.value,o=void 0===r?null:r,c={width:260,height:100};return s.a.createElement("div",{className:"image-dropdown-row",style:{minHeight:c.height+20}},null===(e=n.options)||void 0===e?void 0:e.map((function(e,a){return s.a.createElement(fe,{key:a,src:W.assets.thumbnailUrl(e.label),className:"dropdown-image ".concat(o===e.value?"selected-dropdown-image":""),onClick:function(){var a,r;return null===(a=(r=t.props).onChange)||void 0===a?void 0:a.call(r,n,e.value)},alt:e.value,label:D.a.startCase(D.a.last(n.property.split("."))),style:c})})))}}]),a}(s.a.Component),xe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.widget,n=t.label,r=void 0===n?"":n,o=t.min,c=t.max,i=t.value,l=null===a||void 0===a?void 0:a.propertyType,u=le.getPropertyKeys(l),d=le.getPropertyPrecision(l),p=void 0!==o&&void 0!==c,v=u.filter((function(e){var t;return null===(t=a.widgets)||void 0===t?void 0:t.includes(e)}));return s.a.createElement("div",{className:"custom-sliders"},u.map((function(t){var n;return s.a.createElement(s.a.Fragment,{key:t},((null===(n=a.widgets)||void 0===n?void 0:n.includes(t))||!v.length)&&s.a.createElement("div",{className:"slider-row"},s.a.createElement("div",{className:"title"},r,".",t),s.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:function(){var a,n;return null===(a=(n=e.props).onPrecisionModal)||void 0===a?void 0:a.call(n,t)}}),s.a.createElement(Oe,{min:o,max:c,precision:d,value:null===i||void 0===i?void 0:i[t],onChange:function(n){var r,o;return(null===(r=(o=e.props).onChange)||void 0===r?void 0:r.call(o,a,t,n))||null}}),p&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"limits"},null===o||void 0===o?void 0:o.toFixed(1)),s.a.createElement(je,{value:(null===i||void 0===i?void 0:i[t])||null,min:o,max:c,showLabel:!1,onChange:function(n){var r,o;return(null===(r=(o=e.props).onChange)||void 0===r?void 0:r.call(o,a,t,n))||null}}),s.a.createElement("div",{className:"limits"},null===c||void 0===c?void 0:c.toFixed(1)))))})),s.a.createElement(ie.a,{icon:["fas","undo"],className:"reset-sliders",onClick:function(){var t,n;return null===(t=(n=e.props).onChange)||void 0===t?void 0:t.call(n,a)}}))}}]),a}(s.a.Component),De=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.value,r=a.label,o=void 0===r?"":r,c=a.min,i=a.max,l=a.precision,u=void 0!==c&&void 0!==i;return s.a.createElement("div",{className:"slider-row"},s.a.createElement("div",{className:"title"},o),s.a.createElement(ie.a,{icon:["fas","expand"],className:"expand-icon",onClick:null===(e=this.props)||void 0===e?void 0:e.onPrecisionModal}),s.a.createElement(Oe,{min:c,max:i,precision:l,value:n,onChange:this.props.onChange}),u&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"limits"},c.toFixed(1)),s.a.createElement(je,{value:n,min:c,max:i,precision:l,showLabel:!1,onChange:this.props.onChange}),s.a.createElement("div",{className:"limits"},i.toFixed(1))),s.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){return t.props.onChange()}}))}}]),a}(s.a.Component),Te=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.prefix,r=t.options,o=t.onSelect;return s.a.createElement("div",{className:"tab-widget-wrapper"},r.map((function(t,r){var c;return s.a.createElement("button",{key:r,onClick:o.bind(e,t.value),"data-prefix":n,"data-value":t.value,className:"btn ".concat(a===t.value?"selected":"")},null!==(c=t.label)&&void 0!==c?c:t.value)})))}}]),a}(s.a.Component),Ie=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.widget,n=t.checked,r=void 0!==n&&n,o=t.label,c=void 0===o?"":o,i="toggle ";return r&&(i+="checked "),s.a.createElement("div",{className:i},s.a.createElement("div",{className:"title"},c),s.a.createElement("div",{className:"switch",onClick:function(){var t,n;return null===(t=(n=e.props).onChange)||void 0===t?void 0:t.call(n,a,!r)}}))}}]),a}(s.a.Component),Me=[r.Joystick,r.Dial,r.Sliders],Le=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"onToggleVectorDrawer",(function(t,a,n){t.stopPropagation(),e.props.onToggleVectorDrawer(Object(b.a)({},a))})),e}return Object(Y.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.widget,n=t.vector;a!==e.widget&&n&&this.props.onSetVector(Object(b.a)({},a))}},{key:"render",value:function(){var e=this,t=this.props,a=t.widget,n=t.label,r=void 0===n?"":n,o=t.value,c=t.locked,i=t.vector,l=t.min,u=t.max,d=a.id,p=le.getPropertyKeys(a.propertyType),v=D.a.compact(Me.map((function(e){var t;return null===(t=a.widgets)||void 0===t?void 0:t.find((function(t){return t===e}))})))||[];return s.a.createElement("div",{className:"slider-row joystick-row"},s.a.createElement("div",{className:"title"},r),p.map((function(t){return s.a.createElement("div",{key:"".concat(t).concat(d),className:"value-info"},s.a.createElement("div",{className:"axis-title ".concat(t,"-axis")},t,":"),s.a.createElement(Oe,{min:l,max:u,precision:le.getPropertyPrecision(a.propertyType),value:null===o||void 0===o?void 0:o[t],onChange:function(n){var r,o;return null===(r=(o=e.props).onAxisChange)||void 0===r?void 0:r.call(o,a,t,n,null===c||void 0===c?void 0:c.includes(d))}}))})),a.propertyType&&v.length>0&&s.a.createElement(ie.a,{icon:["fas","gamepad"],className:"gamepad ".concat((null===i||void 0===i?void 0:i.id)===d?"selected":""),onClick:function(t){var n;return null===(n=e.onToggleVectorDrawer)||void 0===n?void 0:n.call(e,t,a,d)}}),s.a.createElement("div",{className:"control-buttons"},s.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){var t,n;return null===(t=(n=e.props).onAxisChange)||void 0===t?void 0:t.call(n,a,void 0,void 0)}})))}}]),a}(s.a.Component),Ae=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(O.a)(Object(z.a)(e),"onOK",(function(){e.props.close(!0)})),Object(O.a)(Object(z.a)(e),"onCancel",(function(){e.props.close(!1)})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props.text;return s.a.createElement("div",{className:"fullscreen",onClick:this.onCancel},s.a.createElement("div",{className:"alert-modal",onClick:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"close-modal",onClick:this.onCancel},s.a.createElement(ie.a,{icon:["fas","times"]})),s.a.createElement("div",{className:"alert-text"},e),s.a.createElement("div",{className:"footer"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.onCancel},"Cancel"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.onOK},"Ok"))))}}],[{key:"show",value:function(e){var t;null===(t=a.pending)||void 0===t||t.call(a,void 0),a.pending=void 0;var n=document.createElement("div");return document.getElementById("modal").prepend(n),new Promise((function(t){a.pending=t,d.a.render(s.a.createElement(a,{text:e,close:t}),n)})).finally((function(){d.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}))}}]),a}(s.a.Component);Object(O.a)(Ae,"pending",void 0);var Re=a(25),Ve=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{filter:"",filterText:""}),Object(O.a)(Object(z.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(O.a)(Object(z.a)(e),"onFilterTextChange",(function(t){e.setState({filterText:t}),e.onFilterChangeDelayed(t)})),Object(O.a)(Object(z.a)(e),"onFilterChange",(function(t){t=t.toLocaleLowerCase(),e.setState({filter:t})})),Object(O.a)(Object(z.a)(e),"onFilterChangeDelayed",D.a.debounce(e.onFilterChange,250)),Object(O.a)(Object(z.a)(e),"onResetFilter",(function(){e.setState({filterText:"",filter:""})})),Object(O.a)(Object(z.a)(e),"onSelect",(function(t){e.setState({selected:t})})),Object(O.a)(Object(z.a)(e),"onOK",(function(){var t=e.state.selected;t&&e.props.close(t)})),Object(O.a)(Object(z.a)(e),"onCancel",(function(){e.props.close()})),Object(O.a)(Object(z.a)(e),"onKeyDown",(function(t){switch(t.key){case"Enter":return e.onOK();case"Escape":return e.onCancel()}})),Object(O.a)(Object(z.a)(e),"renderIcons",(function(){var t=e.state.filter,a=e.state.selected||e.props.selected,n=Object.keys(Re.a);return t&&(n=n.filter((function(e){return Re.a[e].iconName.includes(t)}))),s.a.createElement("div",{className:"icon-wrapper"},n.map((function(t){return s.a.createElement("div",{key:Re.a[t].iconName,className:"icon-block ".concat(Re.a[t].iconName===a?"selected":"")},s.a.createElement(ie.a,{className:"icon",icon:["fas",Re.a[t].iconName],onClick:function(){return e.onSelect(Re.a[t].iconName)}}),s.a.createElement("div",{className:"icon-text"},Re.a[t].iconName))})))})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this,t=this.state,a=t.filterText,n=t.selected;return s.a.createElement("div",{className:"fullscreen",onClick:this.onCancel},s.a.createElement("div",{className:"icon-modal",onClick:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"close-modal",onClick:this.onCancel},s.a.createElement(ie.a,{icon:["fas","times"]})),s.a.createElement("div",{className:"search-wrapper search-position"},s.a.createElement(ie.a,{icon:["fas","search"]}),s.a.createElement("input",{value:a,className:"icon-search",placeholder:"Search icon",onChange:function(t){return e.onFilterTextChange(t.target.value)},autoFocus:!0,onKeyDown:this.onKeyDown,autoComplete:"off"}),a&&s.a.createElement(ie.a,{icon:["fas","times-circle"],onClick:this.onResetFilter})),this.renderIcons(),s.a.createElement("div",{className:"btn-wrapper"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.onCancel},"Cancel"),s.a.createElement("button",{className:"btn btn-secondary ".concat(!n&&"disabled"),disabled:!n,onClick:this.onOK},"Apply"))))}}],[{key:"show",value:function(e){var t;null===(t=a.pending)||void 0===t||t.call(a,void 0),a.pending=void 0;var n=document.createElement("div");return document.getElementById("modal").prepend(n),new Promise((function(t){a.pending=t,d.a.render(s.a.createElement(a,{selected:e,close:t}),n)})).finally((function(){d.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}))}}]),a}(s.a.Component);Object(O.a)(Ve,"pending",void 0);var We=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{name:""}),Object(O.a)(Object(z.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(O.a)(Object(z.a)(e),"onChange",(function(t){var a=t.target.value;e.setState({name:a})})),Object(O.a)(Object(z.a)(e),"onOK",(function(){var t=e.state.name;e.props.close(t)})),Object(O.a)(Object(z.a)(e),"onCancel",(function(){e.props.close()})),Object(O.a)(Object(z.a)(e),"onKeyDown",(function(t){switch(t.key){case"Enter":return e.onOK();case"Escape":return e.onCancel()}})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress);var e=this.props.name;this.setState({name:e})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.close,a=e.placeholder,n=this.state.name;return s.a.createElement("div",{className:"fullscreen",onPointerDown:this.onCancel},s.a.createElement("div",{className:"rename-modal",onPointerDown:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"close-modal",onClick:this.onCancel},s.a.createElement(ie.a,{icon:["fas","times"]})),s.a.createElement("input",{value:null!==n&&void 0!==n?n:"",placeholder:a,onChange:this.onChange,autoFocus:!0,onKeyDown:this.onKeyDown,autoComplete:"off",dir:"auto"}),s.a.createElement("div",{className:"buttons-wrapper"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.onCancel},"Cancel"),s.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return t(n)}},"Rename"))))}}],[{key:"rename",value:function(e,t){var n;null===(n=a.pending)||void 0===n||n.call(a,void 0),a.pending=void 0;var r=document.createElement("div");return document.getElementById("modal").prepend(r),new Promise((function(n){a.pending=n,d.a.render(s.a.createElement(a,{name:e,placeholder:t,close:n}),r)})).finally((function(){d.a.unmountComponentAtNode(r)&&r.parentNode&&r.parentNode.removeChild(r)}))}}]),a}(s.a.Component);Object(O.a)(We,"pending",void 0);var _e,Ue,Fe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),Object(O.a)(Object(z.a)(e),"state",{step:1,min:.01,max:10,mode:re.Rgb,negative:!1}),Object(O.a)(Object(z.a)(e),"value",0),Object(O.a)(Object(z.a)(e),"originalValue",null),Object(O.a)(Object(z.a)(e),"hsv",{h:0,s:0,v:0}),Object(O.a)(Object(z.a)(e),"normalizeValue",(function(e,t,a){return Math.max(t,Math.min(e,a))})),Object(O.a)(Object(z.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),Object(O.a)(Object(z.a)(e),"onCancel",(function(){e.props.onClose()})),Object(O.a)(Object(z.a)(e),"onKeyDown",(function(t){if("Escape"===t.key)return e.onCancel()})),Object(O.a)(Object(z.a)(e),"onChange",(function(t){var a,n,r=e.state.step,o=e.props,c=o.value,i=o.meta;c+=r*t,void 0!==(null===i||void 0===i?void 0:i.min)&&(c=Math.max(i.min,c)),void 0!==(null===i||void 0===i?void 0:i.max)&&(c=Math.min(c,i.max)),null===(a=(n=e.props).onChange)||void 0===a||a.call(n,c)})),Object(O.a)(Object(z.a)(e),"onStepChange",(function(t){var a=e.state,n=a.min,r=a.max;t=e.normalizeValue(t,n,r),e.onSetMeta("step",t)})),Object(O.a)(Object(z.a)(e),"onRgbValueInputChange",(function(t,a){var n,r,o=e.props.value,c=e.state.negative;o&&(c||(a=Math.max(0,a)),o[t]=a,null===(n=(r=e.props).onChange)||void 0===n||n.call(r,o))})),Object(O.a)(Object(z.a)(e),"onHsvValueInputChange",(function(t,a){var r,o,c=e.props.type,i=e.getHsvColor();i[t]=a,i.h/=360,c===n.Color&&(i=Object(b.a)(Object(b.a)({},i),{},{s:e.normalizeValue(i.s,0,1),v:e.normalizeValue(i.v,0,1)}));var l=le.hsv2rgb(i),s=l;switch(c){case n.Vector4:s=le.rgbToColor(l,1);break;case n.LinearColor:s=le.rgbToColor(l,1,!1)}null===(r=(o=e.props).onChange)||void 0===r||r.call(o,s)})),Object(O.a)(Object(z.a)(e),"onWheelStart",(function(){var t=e.props.value;e.value=t})),Object(O.a)(Object(z.a)(e),"onHsvWheelStart",(function(){var t=e.getHsvColor();e.hsv=t})),Object(O.a)(Object(z.a)(e),"onWheelMove",(function(t,a){var n,r,o=e.props.meta,c=e.state.step,i=e.value+c*a;void 0!==(null===o||void 0===o?void 0:o.min)&&(i=Math.max(o.min,i)),void 0!==(null===o||void 0===o?void 0:o.max)&&(i=Math.min(i,o.max)),null===(n=(r=e.props).onChange)||void 0===n||n.call(r,i)})),Object(O.a)(Object(z.a)(e),"onRgbWheelMove",(function(t,a){var r=e.props,o=r.type,c=r.value,i=e.state.negative,l=a*(o===n.Color?10:.01)*e.state.step;c[t]+=l,o===n.Color&&(c[t]=e.normalizeValue(c[t],0,255)),i||(c[t]=Math.max(0,c[t])),e.props.onChange(c)})),Object(O.a)(Object(z.a)(e),"onHsvWheelMove",(function(t,a,r,o,c){var i,l,s=e.props.type;r*=a*e.state.step,e.hsv[t]+=r,void 0!==o&&(e.hsv[t]=Math.max(o,e.hsv[t])),void 0!==c&&(e.hsv[t]=Math.min(e.hsv[t],c));var u=0;e.hsv.h<0&&(u=360),s===n.Color&&(e.hsv=Object(b.a)(Object(b.a)({},e.hsv),{},{s:e.normalizeValue(e.hsv.s,0,1),v:e.normalizeValue(e.hsv.v,0,1)})),e.hsv=Object(b.a)(Object(b.a)({},e.hsv),{},{h:u+e.hsv.h,s:e.normalizeValue(e.hsv.s,0,1)});var d=Object(b.a)(Object(b.a)({},e.hsv),{},{h:e.hsv.h/360}),p=e.hsvToColor(d);null===(i=(l=e.props).onChange)||void 0===i||i.call(l,p)})),Object(O.a)(Object(z.a)(e),"onRgbStepChange",(function(t,a){var r,o,c=e.props,i=c.value,l=c.type,s=e.state.negative;i[a]+=t,l===n.Color&&(i[a]=e.normalizeValue(i[a],0,255)),s||(i[a]=Math.max(0,i[a])),null===(r=(o=e.props).onChange)||void 0===r||r.call(o,i)})),Object(O.a)(Object(z.a)(e),"onHsvStepChange",(function(t,a,r,o){var c,i,l=e.getHsvColor(),s=0;l[a]+=t,void 0!==r&&(e.hsv[a]=Math.max(r,e.hsv[a])),void 0!==o&&(e.hsv[a]=Math.min(e.hsv[a],o)),l.h<0&&(s=1),e.props.type===n.Color&&(l.v=e.normalizeValue(l.v,1,0)),l=Object(b.a)(Object(b.a)({},l),{},{h:s+l.h/360,s:e.normalizeValue(l.s,1,0)});var u=e.hsvToColor(l);null===(c=(i=e.props).onChange)||void 0===c||c.call(i,u)})),Object(O.a)(Object(z.a)(e),"getHsvColor",(function(){var t=e.props,a=t.value,r=t.type,o=a;if(r===n.Vector4||r===n.LinearColor){var c=0;for(var i in a)a[i]>c&&(c=a[i]);o=le.colorToRgb(a,c)}return e.getHsvValue(o)})),Object(O.a)(Object(z.a)(e),"hsvToColor",(function(t){var a=e.props.type,r=le.hsv2rgb(t),o=r;switch(a){case n.Vector4:o=le.rgbToColor(r,1);break;case n.LinearColor:o=le.rgbToColor(r,1,!1)}return o})),Object(O.a)(Object(z.a)(e),"getInputKey",(function(t){var a=t;switch(e.props.type){case n.Vector:case n.Vector4:switch(t){case"R":a="X";break;case"G":a="Y";break;case"B":a="Z"}}return a})),Object(O.a)(Object(z.a)(e),"getHsvValue",(function(t){var a=e.props.type,r=Object(b.a)({},e.props.value),o=le.rgb2Hsv(t);delete r.A,delete r.W;var c=Object.values(r);return a!==n.Color&&(o.v=Math.max.apply(Math,[0].concat(Object(B.a)(c)))),Object(b.a)(Object(b.a)({},o),{},{h:360*o.h,s:Math.max(1e-4,o.s)})})),Object(O.a)(Object(z.a)(e),"renderRgbInput",(function(t){var a,r,o=e.props.value,c=e.getInputKey(t),i=3,l=e.state.step;return e.props.type===n.Color&&(i=0,a=0,r=255,l*=50),s.a.createElement(s.a.Fragment,null,s.a.createElement(Oe,{value:null===o||void 0===o?void 0:o[c],draggable:!1,precision:i,min:a,max:r,onChange:function(t){return e.onRgbValueInputChange(c,t)}}),s.a.createElement(ie.a,{icon:["fas","angle-left"],className:"precision-icon",onClick:function(){return e.onRgbStepChange(-l,c)}}),s.a.createElement(Ne,{onWheelMove:function(t){return e.onRgbWheelMove(c,t)}}),s.a.createElement(ie.a,{icon:["fas","angle-right"],className:"precision-icon",onClick:function(){return e.onRgbStepChange(l,c)}}))})),Object(O.a)(Object(z.a)(e),"renderHsvInput",(function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,i=r*e.state.step,l=3;return e.props.type===n.Color&&(l="h"===a?0:2),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slider-label"},a.toUpperCase(),":"),s.a.createElement(Oe,{value:t,min:o,max:c,draggable:!1,precision:l,onChange:function(t){return e.onHsvValueInputChange(a,t)}}),s.a.createElement(ie.a,{icon:["fas","angle-left"],className:"precision-icon",onClick:function(){return e.onHsvStepChange(-i,a,o,c)}}),s.a.createElement(Ne,{onWheelStart:e.onHsvWheelStart,onWheelMove:function(t){return e.onHsvWheelMove(a,t,i,o,c)}}),s.a.createElement(ie.a,{icon:["fas","angle-right"],className:"precision-icon",onClick:function(){return e.onHsvStepChange(i,a,o,c)}}))})),Object(O.a)(Object(z.a)(e),"renderMinMaxSlider",(function(){var t=e.props,a=t.meta,n=t.value;return void 0===(null===a||void 0===a?void 0:a.min)||void 0===(null===a||void 0===a?void 0:a.max)?null:s.a.createElement("div",{className:"row top"},s.a.createElement(Oe,{value:a.min,onChange:function(t){return e.props.onMetadataChange("Min",String(t))}}),s.a.createElement(je,{value:n,min:null===a||void 0===a?void 0:a.min,max:null===a||void 0===a?void 0:a.max,onChange:function(t){return e.props.onChange(t)},precision:null===a||void 0===a?void 0:a.precision,showLabel:!1}),s.a.createElement(Oe,{value:a.max,onChange:function(t){return e.props.onMetadataChange("Max",String(t))}}))})),Object(O.a)(Object(z.a)(e),"onSetMeta",(function(t,a){var n={};n[t]=a,e.setState(n,(function(){return localStorage.setItem(e.props.property,JSON.stringify(e.state))}))})),Object(O.a)(Object(z.a)(e),"onRevertChanges",Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.show("Revert changes?");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:e.props.onChange(e.originalValue);case 5:case"end":return t.stop()}}),t)})))),Object(O.a)(Object(z.a)(e),"renderNumberPrecicionModal",(function(){var t=e.props,a=t.meta,n=t.value,r=e.state,o=r.step,c=r.min,i=r.max,l=.1*Math.abs(i-c),u=o+l,d=o-l<=l?o/2:o-l,p=D.a.isEqual(e.originalValue,n);return s.a.createElement("div",{className:"main"},e.renderMinMaxSlider(),s.a.createElement("div",{className:"row"},s.a.createElement(ie.a,{icon:["fas","backward"],className:"precision-icon",onClick:function(){return e.onChange(-3)}}),s.a.createElement(ie.a,{icon:["fas","angle-double-left"],className:"precision-icon",onClick:function(){return e.onChange(-1)}}),s.a.createElement(ie.a,{icon:["fas","angle-left"],className:"precision-icon",onClick:function(){return e.onChange(-.2)}}),s.a.createElement(Oe,{min:null===a||void 0===a?void 0:a.min,max:null===a||void 0===a?void 0:a.max,precision:null===a||void 0===a?void 0:a.precision,value:n,onChange:e.props.onChange}),s.a.createElement(ie.a,{icon:["fas","angle-right"],className:"precision-icon",onClick:function(){return e.onChange(.2)}}),s.a.createElement(ie.a,{icon:["fas","angle-double-right"],className:"precision-icon",onClick:function(){return e.onChange(1)}}),s.a.createElement(ie.a,{icon:["fas","forward"],className:"precision-icon",onClick:function(){return e.onChange(3)}})),s.a.createElement("div",{className:"row"},s.a.createElement(Ne,{onWheelStart:e.onWheelStart,onWheelMove:e.onWheelMove})),s.a.createElement("div",{className:"sensitivity-block"},s.a.createElement("div",{className:"step-label"},"Sensitivity"),s.a.createElement("div",{className:"row m-0"},s.a.createElement(je,{value:o,min:c,max:i,precision:null===a||void 0===a?void 0:a.precision,showLabel:!1,onChange:function(t){return e.onSetMeta("step",t)}})),s.a.createElement("div",{className:"row space"},s.a.createElement("div",{className:"limits"},"Min",s.a.createElement(Oe,{value:c,draggable:!1,min:.01,onChange:function(t){return e.onSetMeta("min",Math.min(t,i))}})),s.a.createElement("div",{className:"step-input"},s.a.createElement(ie.a,{icon:["fas","backward"],className:"icon",onClick:function(){return e.onStepChange(d)}}),s.a.createElement(Oe,{value:o,draggable:!1,onChange:e.onStepChange}),s.a.createElement(ie.a,{icon:["fas","forward"],className:"icon",onClick:function(){return e.onStepChange(u)}})),s.a.createElement("div",{className:"limits"},"Max",s.a.createElement(Oe,{value:i,min:.01,draggable:!1,onChange:function(t){return e.onSetMeta("max",Math.max(c,t))}})))),s.a.createElement("button",{className:"btn btn-revert",disabled:p,onClick:e.onRevertChanges},"Revert Changes"))})),Object(O.a)(Object(z.a)(e),"renderColorPickerModal",(function(){var t=e.state,a=t.mode,o=t.step,c=t.negative,i=e.props,l=i.value,u=i.type,d=i.meta,p=e.getHsvColor(),v="btn ",m="btn ",b=D.a.isEqual(e.originalValue,l);switch(a){case re.Rgb:v+="btn-primary",m+="btn-secondary";break;case re.Hsv:v+="btn-secondary",m+="btn-primary"}return s.a.createElement("div",{className:"main color-picker"},s.a.createElement("div",{className:"row m-0"},u!==n.Color&&s.a.createElement("label",{className:"toggle-checkbox"},s.a.createElement("input",{type:"checkbox",checked:c,onChange:function(t){return e.onSetMeta("negative",t.target.checked)}}),s.a.createElement("span",{className:"toggle-label"},"Allow Negative Values")),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{className:v,onClick:function(){return e.setState({mode:re.Rgb})}},s.a.createElement(ie.a,{icon:["fas","circle"]})),s.a.createElement("button",{className:m,onClick:function(){return e.setState({mode:re.Hsv})}},s.a.createElement(ie.a,{icon:["fas","square"]})))),s.a.createElement("div",{className:"row start space"},s.a.createElement("div",{className:"slider-wheel-rows"},s.a.createElement("div",{className:"slider-wheel-row"},s.a.createElement("div",{className:"slider-label"},"R:"),e.renderRgbInput("R")),s.a.createElement("div",{className:"slider-wheel-row"},s.a.createElement("div",{className:"slider-label"},"G:"),e.renderRgbInput("G")),s.a.createElement("div",{className:"slider-wheel-row"},s.a.createElement("div",{className:"slider-label"},"B:"),e.renderRgbInput("B")),!!(null===d||void 0===d?void 0:d.alpha)&&s.a.createElement("div",{className:"slider-wheel-row"},s.a.createElement("div",{className:"slider-label"},"A:"),e.renderRgbInput("A")),s.a.createElement("div",{className:"slider-wheel-row"},e.renderHsvInput(null===p||void 0===p?void 0:p.h,"h",3)),s.a.createElement("div",{className:"slider-wheel-row"},e.renderHsvInput(null===p||void 0===p?void 0:p.s,"s",.1,1e-4,1)),s.a.createElement("div",{className:"slider-wheel-row"},e.renderHsvInput(null===p||void 0===p?void 0:p.v,"v",.1,1e-4)),s.a.createElement("div",{className:"sensitivity-slider"},s.a.createElement("div",{className:"step-label"},"Sensitivity"),s.a.createElement("div",{className:"row m-0"},s.a.createElement(je,{value:o,min:.1,max:1,showLabel:!1,onChange:function(t){return e.onSetMeta("step",t)}})))),s.a.createElement("div",{className:"color-container"},s.a.createElement(se,{value:l,parts:[ne.Circle],type:u,widget:r.ColorPicker,mode:a,alpha:!!(null===d||void 0===d?void 0:d.alpha),onChange:e.props.onChange}),s.a.createElement("button",{className:"btn btn-revert",disabled:b,onClick:e.onRevertChanges},"Revert Changes"))))})),Object(O.a)(Object(z.a)(e),"renderPrecisionModalContent",(function(){switch(e.props.widget){case r.ColorPicker:case r.MiniColorPicker:return e.renderColorPickerModal();default:return e.renderNumberPrecicionModal()}})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.widget,a=e.value;document.addEventListener("keydown",this.onKeyPress);var n={max:10};t===r.ColorPicker&&(n.max=1),this.originalValue=a;try{var o=JSON.parse(localStorage.getItem(this.props.property));for(var c in this.state)o[c]&&(n[c]=o[c])}catch(i){}this.setState(n)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props.label;return s.a.createElement("div",{className:"fullscreen precision",onClick:this.onCancel},s.a.createElement("div",{className:"precision-modal",onClick:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"close-modal",onClick:this.onCancel},s.a.createElement(ie.a,{icon:["fas","times"]})),s.a.createElement("div",{className:"label"},s.a.createElement("p",null,e)),this.renderPrecisionModalContent()))}}]),a}(s.a.Component),Be=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.label,r=void 0===n?"":n,o=t.min,c=t.max,i=t.precision,l=void 0!==o&&void 0!==c;return s.a.createElement("div",{className:"slider-row"},s.a.createElement("div",{className:"title"},r),s.a.createElement(Oe,{min:o,max:c,precision:i,value:a,onChange:this.props.onChange}),l&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"limits"},o.toFixed(1)),s.a.createElement(je,{value:a,min:o,max:c,precision:i,showLabel:!1,onChange:this.props.onChange}),s.a.createElement("div",{className:"limits"},c.toFixed(1))),s.a.createElement(ie.a,{icon:["fas","undo"],onClick:function(){return e.props.onChange()}}))}}]),a}(s.a.Component),Ge="TEMP_ID",He=Object(p.b)((function(e,t){return{payload:e.api.payload,preset:e.api.presets[e.api.preset]}}))(_e=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),Object(O.a)(Object(z.a)(e),"state",{selection:{},draggingId:null,templates:{}}),Object(O.a)(Object(z.a)(e),"dropIndex",-1),Object(O.a)(Object(z.a)(e),"root",null),Object(O.a)(Object(z.a)(e),"scrollY",null),Object(O.a)(Object(z.a)(e),"isIos",!1),Object(O.a)(Object(z.a)(e),"getLabel",(function(t){var a;if(!t)return null;var n=e.props.preset,r=null===n||void 0===n?void 0:n.Exposed[t.property];return r?t.label||(null===(a=r.Metadata)||void 0===a?void 0:a.Description)||r.DisplayName:s.a.createElement("div",{className:"unbound-property"},s.a.createElement(ie.a,{icon:["fas","exclamation-circle"]}),s.a.createElement("span",null,"Unbound Property"))})),Object(O.a)(Object(z.a)(e),"getPropertyValue",(function(t){if(t)return e.props.payload[t]})),Object(O.a)(Object(z.a)(e),"getValue",(function(t){return e.getPropertyValue(null===t||void 0===t?void 0:t.property)})),Object(O.a)(Object(z.a)(e),"onPropertyValueChange",function(){var t=Object(f.a)(h.a.mark((function t(a,r){var o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.props.preset,(null===a||void 0===a?void 0:a.property)&&(null===o||void 0===o?void 0:o.Exposed[a.property])){t.next=3;break}return t.abrupt("return");case 3:if(t.prev=3,"Pilot"!==a.label||"Function"!==a.propertyType||"Button"!==a.widget){t.next=6;break}return t.abrupt("return",W.payload.execute(a.property,{_AgoraUserID:e.props.agoraUserID}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:if(a.propertyType!==n.Function){t.next=13;break}return t.abrupt("return",W.payload.execute(a.property,a.args));case 13:if(t.t1=void 0===r,!t.t1){t.next=18;break}return t.next=17,Ae.show("Reset to default?");case 17:t.t1=!t.sent;case 18:if(!t.t1){t.next=20;break}return t.abrupt("return");case 20:W.payload.set(a.property,r);case 21:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e,a){return t.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"onThrottledPropertyValueChange",D.a.throttle((function(t,a){return e.onPropertyValueChange(t,a)}),100)),Object(O.a)(Object(z.a)(e),"onDragChange",(function(t){e.props.dragging||e.setState({draggingId:t})})),Object(O.a)(Object(z.a)(e),"onSelect",(function(t,a){var n=Object(b.a)({},e.state.selection);n[t]=a,e.setState({selection:n})})),Object(O.a)(Object(z.a)(e),"onPointerEnter",(function(t){var a=t.split("_"),n=Object(H.a)(a,2),r=n[0],o=n[1],c=e.state,i=c.selection,l=c.draggingId;e.props.dragging&&"NAVIGATION"!==D.a.first(null===l||void 0===l?void 0:l.split("_"))&&i[r]!==o&&(i[r]=o,e.setState({selection:i}))})),Object(O.a)(Object(z.a)(e),"getMetadata",(function(e,t){var a,n=null===e||void 0===e||null===(a=e.Metadata)||void 0===a?void 0:a[t];if(void 0!==n){var r=parseFloat(n);if(!isNaN(r))return r}})),Object(O.a)(Object(z.a)(e),"getWidgetMetadata",(function(t){var a=e.props.preset.Exposed[t.property],r=null===a||void 0===a?void 0:a.Type,o=le.getPropertyPrecision(r),c=!!e.getMetadata(a,"Alpha"),i=e.getMetadata(a,"Min"),l=e.getMetadata(a,"Max");return r===n.Rotator&&(void 0===i&&(i=-180),void 0===l&&(l=180)),{type:r,min:i,max:l,precision:o,alpha:c}})),Object(O.a)(Object(z.a)(e),"getAlpha",(function(t){var a,n=null===(a=e.props.preset.Exposed[t])||void 0===a?void 0:a.Metadata;return"1"===(null===n||void 0===n?void 0:n.Alpha)})),Object(O.a)(Object(z.a)(e),"renderPrecisionModal",(function(){var t,a=e.state.precisionModal;if(!(null===a||void 0===a?void 0:a.widget)||!(null===(t=a.widget)||void 0===t?void 0:t.property))return null;var r=e.props.preset,o=a.widget,c=a.property;if(!(null===r||void 0===r?void 0:r.Exposed[o.property]))return null;var i,l=e.getWidgetMetadata(o),u=e.getLabel(o),d=o.propertyType,p=e.getValue(o);switch(d){case n.Rotator:case n.Vector:p=p[c],i=function(t){return e.onPropertyAxisValueChange(o,c,t)};break;default:i=function(t){return e.onThrottledPropertyValueChange(o,t)}}return s.a.createElement(Fe,{meta:l,widget:o.widget,property:o.property,label:u,type:d,value:p,onChange:i,onMetadataChange:function(e,t){return W.payload.metadata(o.property,e,t)},onClose:function(){return e.setState({precisionModal:null})}})})),Object(O.a)(Object(z.a)(e),"getWidgetId",(function(e,t){return e.id?"".concat(e.id,"_WIDGET"):Ge+t})),Object(O.a)(Object(z.a)(e),"renderSlider",(function(t,a,n){var r=e.getWidgetId(t,a),o=e.getWidgetMetadata(t),c="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{key:r,draggableId:r,index:a,className:"slider",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},s.a.createElement(De,{value:e.getValue(t),min:o.min,max:o.max,precision:o.precision,label:e.getLabel(t),onPrecisionModal:function(){return e.setState({precisionModal:{widget:t}})},onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}}))})),Object(O.a)(Object(z.a)(e),"renderCustomSlider",(function(t,a,n){var r=e.getWidgetId(t,a),o=e.getWidgetMetadata(t),c="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{key:r,draggableId:r,index:a,className:"slider",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},s.a.createElement(Be,{value:e.getValue(t),min:o.min,max:o.max,precision:o.precision,label:e.getLabel(t),onPrecisionModal:function(){return e.setState({precisionModal:{widget:t}})},onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}}))})),Object(O.a)(Object(z.a)(e),"renderSliders",(function(t,a,n){var r=e.getWidgetId(t,a),o=e.getWidgetMetadata(t),c="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{key:r,draggableId:r,className:"sliders",index:a,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},s.a.createElement(xe,{widget:t,label:e.getLabel(t),min:o.min,max:o.max,value:e.getValue(t),onChange:e.onPropertyAxisValueChange,onPrecisionModal:function(a){return e.setState({precisionModal:{widget:t,property:a}})}}))})),Object(O.a)(Object(z.a)(e),"renderColorPickerList",(function(t,a,n){var o=e.props,c=o.droppable,i=o.selected,l=o.editable,u=o.dragging,d=(o.preset,"".concat(n,"_").concat(a,"_").concat(r.ColorPickerList)),p="".concat(t.id,"_").concat(r.ColorPickerList)||Ge,v=e.props.getDroppableId(t.id,"".concat(n,"[").concat(a,"]items"),[r.ColorPicker,r.MiniColorPicker],"COLORS_LIST")||Ge,m=c!==v;return s.a.createElement(Xe,{draggableId:p,index:a,className:"color-pickers-list",onSelect:e.props.onSelected.bind(Object(z.a)(e),d),selected:e.props.selected===d,key:p,isDragDisabled:!l},s.a.createElement(Je,{key:v,droppableId:v,className:"multiline-widget-wrapper",isDropDisabled:m},s.a.createElement(pe,{list:t,path:"".concat(n,"[").concat(a,"]items"),selection:i,dragging:u,isDragDisabled:!l,onSelect:e.props.onSelected,getPropertyValue:e.getPropertyValue,getPropertyLabel:e.getLabel,getAlpha:e.getAlpha,onChange:e.onThrottledPropertyValueChange,onPrecisionModal:function(t){return e.setState({precisionModal:{widget:t}})}})))})),Object(O.a)(Object(z.a)(e),"renderColorList",(function(t,a,n){var r,o,c=e.props,i=c.droppable,l=c.preset,u=D.a.first(t);if(!u)return null;var d=l.Exposed[u.property],p=null!==(r=null===d||void 0===d||null===(o=d.Metadata)||void 0===o?void 0:o.Widget)&&void 0!==r?r:u.widget,v=e.props.getDroppableId(u.id,n,[p],"COLOR_LIST")||Ge,m=i!==v;return s.a.createElement(Xe,{draggableId:u.id||Ge,index:a,isDragDisabled:!0,className:"colors-list",key:u.id||Ge},s.a.createElement(Je,{key:v,droppableId:v,direction:"horizontal",className:"multiline-widget-wrapper",type:p,isDropDisabled:m},t.map((function(t,r){var o,c,i="".concat(t.id,"_").concat(p)||Ge,l=e.getValue(t),u="".concat(n,"_").concat(r+a,"_").concat(t.property);return s.a.createElement(Xe,{key:i,draggableId:i,index:r+a,className:"color",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),u),selected:e.props.selected===u,isDragDisabled:!e.props.editable},s.a.createElement(se,{value:l,label:e.getLabel(t),type:t.propertyType,alpha:e.getAlpha(t.property),widget:null!==(o=null===d||void 0===d||null===(c=d.Metadata)||void 0===c?void 0:c.Widget)&&void 0!==o?o:t.widget,onChange:function(a){return e.onThrottledPropertyValueChange(t,a)},onPrecisionModal:function(){return e.setState({precisionModal:{widget:t}})}}))}))))})),Object(O.a)(Object(z.a)(e),"renderTabs",(function(t,a,n){var o=e.props.droppable,c=Object(b.a)({},e.state.selection),i=t.tabs.map((function(e){return{value:e.id,label:e.label}})),l=D.a.first(t.tabs),u=c[t.id],d=D.a.find(t.tabs,["id",u]);d||(u=null===l||void 0===l?void 0:l.id,d=l);var p=e.getWidgetId(t,a);return e.props.getDroppableId(t.id,"".concat(n,"[").concat(a,"]"),[],"TABS"),s.a.createElement(Xe,{draggableId:p,key:p,index:a,onSelect:e.props.onSelected.bind(Object(z.a)(e),"".concat(n,"_").concat(a,"_PROPERTY")),selected:e.props.selected==="".concat(n,"_").concat(a,"_PROPERTY"),className:"tab-group",isDragDisabled:!0},s.a.createElement(Te,{options:i,onSelect:function(a){return e.onSelect(t.id,a)},prefix:t.id,value:u}),s.a.createElement("div",{style:{width:"100%",position:"relative"}},t.tabs.map((function(t,c){var i=e.props.getDroppableId(t.id,"".concat(n,"[").concat(a,"]tabs[").concat(c,"]widgets"),["WIDGET",r.Dial,r.Button,r.Toggle,r.ColorPicker,r.MiniColorPicker,r.ColorPickerList,r.Label,r.Spacer],r.Tabs),l=!1,u="droppable-list ";return t.id===d.id||(u+="hidden"),o!==i&&(l=!0),s.a.createElement(Je,{key:i,droppableId:i,className:u,isDropDisabled:l},e.renderWidgets(t.widgets,"".concat(n,"[").concat(a,"]tabs[").concat(c,"]widgets")))}))))})),Object(O.a)(Object(z.a)(e),"renderListItemContent",(function(t,a,n){var o,c=e.props,i=c.droppable,l=c.editable,u="[0]items[".concat(a,"]panels"),d=e.props.getDroppableId(t.id,u,["WIDGET","PANEL",r.Button,r.Toggle,r.ColorPicker,r.MiniColorPicker,r.Tabs,r.Dial,r.Label,r.Spacer,r.ColorPickerList,r.Dropdown],"LIST"),p=!1,v="droppable-root ";return n||(v+="hidden "),i!==d&&(p=!0),l?s.a.createElement(Je,{droppableId:d,key:t.id,className:v,isDropDisabled:p},null===(o=t.panels)||void 0===o?void 0:o.map((function(t,a){return e.renderPanel(u,t,a)}))):s.a.createElement(qe,{droppableId:d,data:t.panels,className:v,isDropDisabled:p,itemContent:function(t,a){return e.renderPanel("",a,t)}})})),Object(O.a)(Object(z.a)(e),"renderList",(function(t){var a,n=e.props.editable,r=Object(b.a)({},e.state.selection),o=t.id,c=D.a.first(null===t||void 0===t?void 0:t.items),i=r[t.id],l=D.a.find(t.items,["id",i]);l||(i=null===c||void 0===c?void 0:c.id,l=c);return e.props.getDroppableId(o,"0",[],"LIST"),s.a.createElement(Xe,{key:o,draggableId:o,index:0,className:"navigation-list",onSelect:e.props.onSelected.bind(Object(z.a)(e),"_0"),selected:"_0"===e.props.selected,isDragDisabled:!0},s.a.createElement("div",{className:"navigation"},null===(a=t.items)||void 0===a?void 0:a.map((function(a,n){var o=a.id;return s.a.createElement("div",{className:"navigation-row","data-prefix":t.id,"data-value":o,key:o},s.a.createElement("button",{className:"navigation-btn ".concat(i===a.id?"selected":""),onClick:function(){return n=a.id,r[t.id]=n,void e.setState({selection:r});var n}},s.a.createElement("p",null,a.label)))}))),s.a.createElement("div",{className:"navigation-list-panels"},n&&t.items.map((function(t,a){return e.renderListItemContent(t,a,t.id===l.id)})),!n&&e.renderListItemContent(l,0,!0)))})),Object(O.a)(Object(z.a)(e),"renderDropdown",(function(t,a,n){var r,o,c,i,l=e.getWidgetId(t,a),u=e.props.preset.Exposed[t.property],d=null!==(r=null===u||void 0===u||null===(o=u.UnderlyingProperty)||void 0===o||null===(c=o.Metadata)||void 0===c||null===(i=c.EnumValues)||void 0===i?void 0:i.split(",").map((function(e){return e.trim()})))&&void 0!==r?r:[],p="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{draggableId:l,index:a,key:l,className:"dropdown",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),p),selected:e.props.selected===p,isDragDisabled:!e.props.editable},s.a.createElement(Se,{options:d,value:e.getValue(t),label:e.getLabel(t),onChange:function(a){return e.onPropertyValueChange(t,a)}}))})),Object(O.a)(Object(z.a)(e),"renderSpacerWidget",(function(t,a,n){var r=e.getWidgetId(t,a),o=10*((null===t||void 0===t?void 0:t.spaces)||1)+"px",c="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{draggableId:r,index:a,key:r,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},s.a.createElement("div",{style:{height:o}}))})),Object(O.a)(Object(z.a)(e),"renderImageSelector",(function(t,a,n){var r=e.getWidgetId(t,a);return s.a.createElement(Xe,{key:r,draggableId:r,index:a,className:"image-selector",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),"".concat(n,"_").concat(a)),selected:e.props.selected==="".concat(n,"_").concat(a),isDragDisabled:!e.props.editable},s.a.createElement(Pe,{widget:t,value:e.getValue(t),onChange:e.onPropertyValueChange}))})),Object(O.a)(Object(z.a)(e),"renderToggleWidgets",(function(t,a,n){var o=e.props.droppable,c=D.a.first(t);if(!c.id)return null;var i="".concat(r.Toggle,"_").concat(c.id),l=e.props.getDroppableId(c.id,n,[r.Toggle],"TOGGLES"),u=!1;return o!==l&&(u=!0),s.a.createElement(Xe,{key:i,draggableId:i,index:a,className:"toggles-list",isDragDisabled:!0},s.a.createElement(Je,{droppableId:l,direction:"horizontal",className:"multiline-widget-wrapper",type:r.Toggle,isDropDisabled:u},t.map((function(t,o){var c="".concat(t.id,"_").concat(r.Toggle),i="".concat(n,"_").concat(a+o,"_").concat(t.property);return s.a.createElement(Xe,{key:c+o,draggableId:c,index:a+o,className:"toggle",onSelect:e.props.onSelected.bind(Object(z.a)(e),i),selected:e.props.selected===i,isDragDisabled:!e.props.editable},s.a.createElement(Ie,{widget:t,checked:!!e.getValue(t),label:e.getLabel(t),onChange:e.onPropertyValueChange}))}))))})),Object(O.a)(Object(z.a)(e),"renderLabel",(function(t,a,n){var r=e.getWidgetId(t,a),o="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{key:r,draggableId:r,index:a,className:"label",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),o),selected:e.props.selected===o,isDragDisabled:!e.props.editable},t.label)})),Object(O.a)(Object(z.a)(e),"renderTextWidget",(function(t,a,n){var r=e.onPropertyValueChange.bind(Object(z.a)(e),t),o=e.getWidgetId(t,a),c="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{className:"slider-row text-row",key:o,index:a,draggableId:o,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},s.a.createElement("div",{className:"title"},e.getLabel(t)),s.a.createElement(Ee,{value:e.getValue(t),onChange:r}),s.a.createElement(ie.a,{icon:["fas","undo"],onClick:r}))})),Object(O.a)(Object(z.a)(e),"renderDialsWidget",(function(t,a,r){var o=e.getWidgetId(t,a),c="".concat(r,"_").concat(a,"_").concat(t.property),i=t.propertyType===n.Rotator,l=e.getWidgetMetadata(t),u=l.min,d=l.max,p=ue.Endless;return void 0!==u&&void 0!==d&&(p=ue.Range),i&&(p=ue.Rotation),s.a.createElement(Xe,{key:o,draggableId:o,index:a,className:"vector-dials",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),c),selected:e.props.selected===c,isDragDisabled:!e.props.editable},s.a.createElement(be,{type:t.propertyType,min:u,max:d,mode:p,hidePrecision:!0,properties:null===t||void 0===t?void 0:t.widgets,value:e.getValue(t),label:e.getLabel(t),onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}}))})),Object(O.a)(Object(z.a)(e),"renderDialWidgets",(function(t,a,n){var o=e.props.droppable,c=D.a.first(t);if(!(null===c||void 0===c?void 0:c.id))return null;var i="".concat(r.Dial,"_").concat(c.id),l=e.props.getDroppableId(c.id,n,[r.Dial],"DIALS"),u=!1;return o!==l&&(u=!0),s.a.createElement(Xe,{key:i,draggableId:i,index:a,className:"dials-list",isDragDisabled:!0},s.a.createElement(Je,{droppableId:l,direction:"horizontal",className:"multiline-widget-wrapper",type:r.Dial,isDropDisabled:u},t.map((function(t,o){var c="".concat(t.id,"_").concat(r.Dial),i=e.getWidgetMetadata(t),l=void 0!==i.min&&void 0!==i.max?ue.Range:ue.Endless,u="".concat(n,"_").concat(a+o,"_").concat(t.property);return s.a.createElement(Xe,{key:c+o,draggableId:c,index:a+o,className:"dial",onSelect:e.props.onSelected.bind(Object(z.a)(e),u),selected:e.props.selected===u,isDragDisabled:!e.props.editable},s.a.createElement(ve,{value:e.getValue(t),label:e.getLabel(t),onChange:function(a){return e.onThrottledPropertyValueChange(t,a)},min:i.min,max:i.max,mode:l,onPrecisionModal:function(){return e.setState({precisionModal:{widget:t}})}}))}))))})),Object(O.a)(Object(z.a)(e),"onPropertyAxisValueChange",(function(t,a,n,r){var o,c=null!==(o=e.getValue(t))&&void 0!==o?o:{};if(void 0===a||void 0===n)return e.onPropertyValueChange(t);var i=c[a];0!==i&&void 0!==i||(i=1);var l=Math.max(.001,n)/i;if(r&&!isNaN(l))for(var s=0,u=Object.keys(c);s<u.length;s++){c[u[s]]*=l}else c[a]=n;e.onThrottledPropertyValueChange(t,c)})),Object(O.a)(Object(z.a)(e),"onToggleVectorDrawer",(function(t){var a;(null===(a=e.props.vector)||void 0===a?void 0:a.id)===t.id&&(t=null),e.props.onSetVectorDrawer(t)})),Object(O.a)(Object(z.a)(e),"renderVectorWidget",(function(t,a,n){var r=e.props.vector,o=e.getWidgetId(t,a),c=e.getWidgetMetadata(t),i="".concat(n,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{key:o,draggableId:o,index:a,className:"vector",onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),i),selected:e.props.selected===i,isDragDisabled:!e.props.editable},s.a.createElement(Le,{widget:t,label:e.getLabel(t),value:e.getValue(t),vector:r,min:c.min,max:c.max,onAxisChange:e.onPropertyAxisValueChange,onToggleVectorDrawer:e.onToggleVectorDrawer,onSetVector:e.props.onSetVectorDrawer}))})),Object(O.a)(Object(z.a)(e),"renderButtonWidgets",(function(t,a,n){var o=e.props.droppable,c=D.a.first(t);if(!c.id)return null;var i="".concat(r.Button,"_").concat(c.id),l=e.props.getDroppableId(c.id,n,[r.Button],"BUTTONS"),u=!1;return o!==l&&(u=!0),s.a.createElement(Xe,{key:i,draggableId:i,index:a,className:"buttons-list",isDragDisabled:!0},s.a.createElement(Je,{droppableId:l,direction:"horizontal",className:"multiline-widget-wrapper",type:r.Button,isDropDisabled:u},t.map((function(t,o){var c="".concat(t.id,"_").concat(r.Button),i="".concat(n,"_").concat(a+o,"_").concat(t.property);return s.a.createElement(Xe,{key:c+o,draggableId:c,index:a+o,className:"btn-wrapper",onSelect:e.props.onSelected.bind(Object(z.a)(e),i),selected:e.props.selected===i,isDragDisabled:!e.props.editable},s.a.createElement(ce,{label:e.getLabel(t),onExecute:function(){return e.onPropertyValueChange(t)}}))}))))})),Object(O.a)(Object(z.a)(e),"renderJoysticks",(function(t,a,r){var o=e.getWidgetId(t,a),c=le.getPropertyKeys(null===t||void 0===t?void 0:t.propertyType),i=e.getWidgetMetadata(t),l="".concat(r,"_").concat(a,"_").concat(t.property);return s.a.createElement(Xe,{key:o,index:a,draggableId:o,onPointerChange:e.onDragChange,onSelect:e.props.onSelected.bind(Object(z.a)(e),l),selected:e.props.selected===l,isDragDisabled:!e.props.editable,className:"joystick-group"},s.a.createElement("div",{className:"joystick-group"},s.a.createElement(he,{type:n.Vector,keys:c,value:e.getValue(t),min:i.min,max:i.max,label:e.getLabel(t),onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}})))})),Object(O.a)(Object(z.a)(e),"getInlineWidgets",(function(t,a,n,r,o){for(var c=[],i=0;i<o&&e.getWidgetType(a[r])===n;i++){var l="".concat(r,"_").concat(a[r].id);t.push(s.a.createElement(Xe,{key:l,draggableId:l,index:r})),c.push(a[r++])}return c})),Object(O.a)(Object(z.a)(e),"getWidgetType",(function(t){var a,n=e.props.preset,r=null===n||void 0===n?void 0:n.Exposed[null===t||void 0===t?void 0:t.property];return(null===r||void 0===r||null===(a=r.Metadata)||void 0===a?void 0:a.Widget)||(null===t||void 0===t?void 0:t.widget)})),Object(O.a)(Object(z.a)(e),"renderWidgets",(function(t,a){for(var n=[],o=null,c=[],i=0;i<t.length;i++){var l=t[i],u=e.getWidgetType(l);l.widget=u;var d=null;switch(u){case r.Tabs:d=e.renderTabs(t[i],i,a);break;case r.Sliders:d=e.renderSliders(l,i,a);break;case r.ImageSelector:d=e.renderImageSelector(l,i,a);break;case r.Spacer:d=e.renderSpacerWidget(l,i,a);break;case r.Joystick:d=e.renderJoysticks(l,i,a);break;case r.Dropdown:d=e.renderDropdown(l,i,a);break;case r.Label:d=e.renderLabel(l,i,a);break;case r.Slider:d=e.renderSlider(l,i,a);break;case r.CustomWidget:d=e.renderCustomSlider(l,i,a);break;case r.Text:d=e.renderTextWidget(l,i,a);break;case r.Vector:d=e.renderVectorWidget(l,i,a);break;case r.Dials:d=e.renderDialsWidget(l,i,a);break;case r.Dial:o=i,c=e.getInlineWidgets(n,t,r.Dial,i,3),i+=Math.max(c.length-1,0),n.push(e.renderDialWidgets(c,o,a));break;case r.Toggle:o=i,c=e.getInlineWidgets(n,t,r.Toggle,i,4),i+=Math.max(c.length-1,0),n.push(e.renderToggleWidgets(c,o,a));break;case r.Button:o=i,c=e.getInlineWidgets(n,t,r.Button,i,4),i+=Math.max(c.length-1,0),n.push(e.renderButtonWidgets(c,o,a));break;case r.ColorPicker:o=i,c=e.getInlineWidgets(n,t,r.ColorPicker,i,3),i+=Math.max(c.length-1,0),n.push(e.renderColorList(c,o,a));break;case r.MiniColorPicker:o=i,c=e.getInlineWidgets(n,t,r.MiniColorPicker,i,3),i+=Math.max(c.length-1,0),n.push(e.renderColorList(c,o,a));break;case r.ColorPickerList:n.push(e.renderColorPickerList(t[i],i,a));break;default:d=s.a.createElement(Xe,{draggableId:i.toString(),key:i,index:i,isDragDisabled:!0})}n.push(d)}return n})),Object(O.a)(Object(z.a)(e),"getPanelProperties",(function(e){var t,a,n=[],o=Object(G.a)(e.widgets||[]);try{for(o.s();!(a=o.n()).done;){var c=a.value,i=c;switch(c.widget){case r.Tabs:var l,s=c,u=Object(G.a)(s.tabs||[]);try{for(u.s();!(l=u.n()).done;){l.value.widgets.map((function(e){return n.push(e.property)}))}}catch(b){u.e(b)}finally{u.f()}break;case r.ColorPickerList:var d,p=c,v=Object(G.a)(null!==(t=p.items)&&void 0!==t?t:[]);try{for(v.s();!(d=v.n()).done;){var m=d.value;n.push(m.property)}}catch(b){v.e(b)}finally{v.f()}break;default:n.push(i.property)}}}catch(b){o.e(b)}finally{o.f()}return D.a.compact(n)})),Object(O.a)(Object(z.a)(e),"onRefreshPanelOptions",function(){var t=Object(f.a)(h.a.mark((function t(a){var n,r,o,c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.preset,(r=e.getPanelProperties(a)).length){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,W.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","FindMatchingActorsToRebind",{PresetId:n.ID,PropertyIds:r});case 6:return o=t.sent,t.next=9,W.proxy.function("/Script/RemoteControlWebInterface.Default__RCWebInterfaceBlueprintLibrary","GetOwnerActorLabel",{PresetId:n.ID,PropertyIds:r});case 9:c=t.sent,(i=Object(b.a)({},e.state.templates))[a.id]={matching:null===o||void 0===o?void 0:o.ReturnValue,selected:null===c||void 0===c?void 0:c.ReturnValue},e.setState({templates:i}),sessionStorage.setItem("templates",JSON.stringify(i));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"onRebindActor",(function(t,a){var n=Object(b.a)({},e.state.templates),r=n[t.id];if(r){var o=r.matching[a];if(o){var c=e.getPanelProperties(t);W.payload.rebind(c,o),r.selected=a,e.setState({templates:n}),sessionStorage.setItem("templates",JSON.stringify(n))}}})),Object(O.a)(Object(z.a)(e),"renderPanel",(function(t,a,n){var c=e.props,i=c.editable,l=c.droppable;if(!a.id)return null;switch(a.type){case o.Panel:var u="".concat(a.id,"_PANEL"),d="".concat(t,"[").concat(n,"]widgets"),p=e.props.getDroppableId(u,d,["WIDGET",r.Button,r.Toggle,r.ColorPicker,r.MiniColorPicker,r.ColorPickerList,r.Tabs,r.Dial,r.Dials,r.Label,r.Spacer,r.Dropdown],"PANEL"),v=!1;l!==p&&(v=!0);var m=e.state.templates[a.id];return s.a.createElement(Xe,{draggableId:u,key:u,index:n,className:"draggable-panel",onSelect:e.props.onSelected.bind(Object(z.a)(e),"".concat(t,"_").concat(n)),selected:"".concat(e.props.selected)==="".concat(t,"_").concat(n),isDragDisabled:!i},s.a.createElement(Je,{droppableId:p,className:"droppable-panel ".concat((null===a||void 0===a?void 0:a.title)||(null===a||void 0===a?void 0:a.isTemplate)?"has-title":""),isDropDisabled:v},!!(null===a||void 0===a?void 0:a.title)&&s.a.createElement("div",{className:"title"},a.title),!!a.isTemplate&&s.a.createElement("div",{className:"title"},s.a.createElement("select",{className:"dropdown template-property-select",tabIndex:-1,onFocus:e.isIos?null:function(){return e.onRefreshPanelOptions(a)},value:(null===m||void 0===m?void 0:m.selected)?null===m||void 0===m?void 0:m.selected:void 0,onChange:function(t){return e.onRebindActor(a,t.target.value)}},Object.keys((null===m||void 0===m?void 0:m.matching)?null===m||void 0===m?void 0:m.matching:{"Click to Select Actor":""}).map((function(e){return s.a.createElement("option",{key:e,value:e},e)}))),e.isIos&&s.a.createElement("button",{onClick:function(){return e.onRefreshPanelOptions(a)}},s.a.createElement(ie.a,{icon:["fas","sync-alt"]}))),e.renderWidgets(a.widgets,d)));case o.List:return e.renderList(a);default:return null}})),Object(O.a)(Object(z.a)(e),"renderVectorDrawer",(function(){var t=e.props.vector;if(!t)return null;var a=e.getWidgetMetadata(t);return a.type?s.a.createElement(we,{widget:t,label:e.getLabel(t),value:e.getValue(t),min:a.min,max:a.max,onClose:e.props.onSetVectorDrawer,onChange:function(a){return e.onThrottledPropertyValueChange(t,a)}}):null})),Object(O.a)(Object(z.a)(e),"renderRootList",(function(){var t,a=e.props,n=a.editable,r=a.droppable,c=a.panels,i=void 0===c?[]:c,l=a.tabKey,u=(null===(t=i[0])||void 0===t?void 0:t.type)===o.List,d=e.props.getDroppableId("".concat(l,"_ROOT"),"",["ALL"],"ROOT"),p=!1;return(r!==d||u)&&(p=!0),n?s.a.createElement(Je,{droppableId:d,className:"droppable-root",isDropDisabled:p},null===i||void 0===i?void 0:i.map((function(t,a){return e.renderPanel("",t,a)}))):s.a.createElement(qe,{droppableId:d,data:i,className:"droppable-root",isDropDisabled:p,itemContent:function(t,a){return e.renderPanel("",a,t)}})})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.root=document.querySelector(".droppable-root"),this.isIos=/iPad|iPhone|iPod/.test(navigator.platform),this.root.ontouchmove=function(t){var a=t.touches,n=a[0];2===a.length&&(e.scrollY||(e.scrollY=n.pageY+e.root.scrollTop),e.root.scrollTo(0,e.scrollY-n.pageY))},this.root.ongesturechange=function(e){return e.preventDefault()},this.root.ongestureend=function(t){t.preventDefault(),e.scrollY=null};try{var t=JSON.parse(sessionStorage.getItem("templates"));t&&this.setState({templates:t})}catch(a){}}},{key:"componentWillUnmount",value:function(){this.root.ontouchmove=null,this.root.ongesturechange=null,this.root.ongestureend=null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.visible;return t||e.visible!==t}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dragging,n=t.hoverTab;a||a===e.dragging||this.setState({draggingId:null}),n!==e.hoverTab&&this.onPointerEnter(n)}},{key:"render",value:function(){var e,t=this.props,a=t.dragging,n=t.panels,r=void 0===n?[]:n,c=t.vector,i="customstack-wrapper ";return a&&(i+="drag "),(null===(e=r[0])||void 0===e?void 0:e.type)===o.List&&(i+="customstack-list "),c&&(i+="drawer-shown "),s.a.createElement("div",{className:i},this.renderRootList(),this.renderVectorDrawer(),this.renderPrecisionModal())}}]),a}(s.a.Component))||_e,Ke=a(64),Ye=a(19),ze=a(169),Xe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"getStyle",(function(e,t){if(!t.isDropAnimating){if(!t.isDragging&&e.transform){var a=e.transform.replace(/translate|[(|)]/g,"").split(", "),n=Object(H.a)(a,2),r=n[0],o=n[1];e=Object(b.a)(Object(b.a)({},e),{},{transform:"",left:r,top:o})}return e}return Object(b.a)(Object(b.a)({},e),{},{transitionDuration:"0.001s"})})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.draggableId,r=t.isDragDisabled,o=t.index,c=t.selected;return s.a.createElement(Ye.b,{key:n,draggableId:n,index:o,isDragDisabled:r},(function(t,o){var i,l="draggable-item ".concat(null!==(i=e.props.className)&&void 0!==i?i:""," ");return!r&&a&&(l+="edit "),o.isDragging&&(l+="dragging "),c&&(l+="selected "),s.a.createElement("div",Object.assign({ref:t.innerRef,className:l},t.draggableProps,{style:e.getStyle(t.draggableProps.style,o),onClick:function(t){var a,n;t.defaultPrevented||null===(a=(n=e.props).onSelect)||void 0===a||a.call(n,t),t.preventDefault(),t.stopPropagation()}}),s.a.createElement("span",Object.assign({},t.dragHandleProps,{onPointerDown:function(){var t,a;return null===(t=(a=e.props).onPointerChange)||void 0===t?void 0:t.call(a,n)},className:"drag-handle ",tabIndex:-1}),s.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"})),a)}))}}]),a}(s.a.Component),Je=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.droppableId,r=t.type,o=t.style,c=void 0===o?{}:o,i=Object(Ke.a)(t,["children","droppableId","type","style"]);return s.a.createElement(Ye.c,Object.assign({key:n,droppableId:n},i),(function(t,n){var o,i="droppable ".concat(null!==(o=e.props.className)&&void 0!==o?o:""," ");return n.isDraggingOver&&(i+="dragging "),s.a.createElement("div",Object.assign({ref:t.innerRef,className:i,"data-type":r},t.droppableProps,{style:c}),a,t.placeholder)}))}}]),a}(s.a.Component),qe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"renderItemPlaceholder",(function(e){var t,a=e.children,n=Object(Ke.a)(e,["children"]);return s.a.createElement("div",Object.assign({},n,{style:{height:null!==(t=n["data-known-size"])&&void 0!==t?t:void 0}}),a)})),Object(O.a)(Object(z.a)(e),"getItemSize",(function(e){var t,a=e.firstChild;return null!==(t=null===a||void 0===a?void 0:a.clientHeight)&&void 0!==t?t:e.clientHeight})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.droppableId,r=(t.className,Object(Ke.a)(t,["data","droppableId","className"]));return s.a.createElement(Ye.c,Object.assign({},r,{droppableId:n,key:n}),(function(t){var n,r="droppable ".concat(null!==(n=e.props.className)&&void 0!==n?n:""," ");return s.a.createElement(ze.a,{scrollerRef:t.innerRef,data:a,style:{height:"100%"},components:{Item:e.renderItemPlaceholder},className:r,itemSize:e.getItemSize,itemContent:e.props.itemContent})}))}}]),a}(s.a.Component),Ze=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.preset,n=t.pressets;return s.a.createElement("div",{className:"presets-tab"},s.a.createElement(ke,{placeholder:"Search Presets",onSearch:this.props.onSearch}),s.a.createElement("div",{className:"presets-wrapper"},n.map((function(t){var n="btn preset-btn ";return t.ID===(null===a||void 0===a?void 0:a.ID)&&(n+="active"),s.a.createElement("div",{key:null===t||void 0===t?void 0:t.ID,className:n,onClick:e.props.onPresetChange.bind(e,t)},null===t||void 0===t?void 0:t.Name,s.a.createElement("div",{className:"item-icon"},s.a.createElement(ie.a,{icon:["fas","external-link-square-alt"]})))}))))}}]),a}(s.a.Component),$e=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"tabs-tab"},s.a.createElement("div",{className:"button-list"},s.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onChangeIcon},"Change tab icon"),s.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onRenameTabModal},"Rename Tab"),s.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onDuplicateTab},"Duplicate Tab"),s.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onAddSnapshotTab},"Add Snapshot Tab"),s.a.createElement("button",{tabIndex:-1,className:"btn btn-secondary",onClick:this.props.onAddSequencerTab},"Add Sequencer Tab")))}}]),a}(s.a.Component),Qe=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"getStyle",(function(e,t){return t.isDragging?t.isDropAnimating?Object(b.a)(Object(b.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px",transitionDuration:"0.001s"}):Object(b.a)(Object(b.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px"}):Object(b.a)(Object(b.a)({},e),{},{transform:"none"})})),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.widgets;return s.a.createElement("div",{className:"widgets-tab"},s.a.createElement(ke,{placeholder:"Search Widgets",onSearch:this.props.onSearch}),s.a.createElement("div",{className:"layout-widgets"},t.map((function(t){return s.a.createElement(Ye.c,{droppableId:t.id,key:t.id,isDropDisabled:!0},(function(a){return s.a.createElement("div",Object.assign({},a.droppableProps,{ref:a.innerRef}),s.a.createElement(Ye.b,{key:t.id,draggableId:t.id,index:0},(function(a,n){var c="layout-panel layout-widget draggable-widget",i=null,l=null,u=null;switch(t.type){case"PANEL":i=s.a.createElement(ie.a,{icon:["fas","columns"]}),l={type:o.Panel,widgets:[]};break;case"LIST":i=s.a.createElement(ie.a,{icon:["fas","list"]}),l={type:o.List,items:[{label:"Item 1",panels:[]}]};break;case r.Tabs:i=s.a.createElement(ie.a,{icon:["fas","table"]}),l={widget:r.Tabs,tabs:[{label:"Tab 1",widgets:[]}]};break;case r.Label:i=s.a.createElement(ie.a,{icon:["fas","font"]}),l={widget:r.Label,label:"New label"};break;case r.Spacer:i=s.a.createElement(ie.a,{icon:["fas","square"]}),l={widget:r.Spacer,label:""};break;case r.Dial:i=s.a.createElement("div",{className:"item-icon"},s.a.createElement("img",{src:"/images/icons/Dial.svg",alt:"Slider"})),l={widget:r.Dial,property:null,propertyType:null};break;case r.Slider:i=s.a.createElement("div",{className:"item-icon"},s.a.createElement("img",{src:"/images/icons/Sliders.svg",alt:"Slider"})),l={widget:r.Slider,property:null,propertyType:null};break;case r.ColorPicker:i=s.a.createElement("div",{className:"item-icon"},"Color Picker"),l={widget:r.ColorPicker,property:null,propertyType:null};break;case r.MiniColorPicker:i=s.a.createElement("div",{className:"item-icon"},"Mini Color Picker"),l={widget:r.MiniColorPicker,property:null,propertyType:null};break;case r.ColorPickerList:i=s.a.createElement("div",{className:"item-icon"},"Color Picker List"),l={widget:r.ColorPickerList,items:[]};break;case r.Toggle:i=s.a.createElement("div",{className:"item-icon"},"Toggle"),l={widget:r.Toggle,property:null,propertyType:null};break;case r.Joystick:i=s.a.createElement("div",{className:"item-icon"},s.a.createElement("img",{src:"/images/icons/Joystick.svg",alt:"Slider"})),l={widget:r.Joystick,property:null,propertyType:null};break;case r.Button:i=s.a.createElement("div",{className:"item-icon"},"Button"),l={widget:r.Button,property:null,propertyType:null};break;case r.Text:i=s.a.createElement("div",{className:"item-icon"},"Text"),l={widget:r.Text,property:null,propertyType:null};break;case r.Dropdown:i=s.a.createElement("div",{className:"item-icon"},"Dropdown"),l={widget:r.Dropdown,property:null,propertyType:null};break;case r.Vector:i=s.a.createElement("div",{className:"item-icon"},"Vector"),l={widget:r.Vector,property:null,propertyType:null}}return n.isDragging&&(c+=" dragging",(u=e.props.renderWidget(l))||(u=s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"}),t.label,s.a.createElement("div",{className:"item-icon"},i)))),s.a.createElement(s.a.Fragment,null,n.isDragging&&s.a.createElement("div",{className:"draggable-widget"},s.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"}),s.a.createElement("div",{className:"item-label"},t.label),s.a.createElement("div",{className:"item-icon"},i)),s.a.createElement("div",Object.assign({},a.draggableProps,a.dragHandleProps,{className:c,ref:a.innerRef,style:e.getStyle(a.draggableProps.style,n)}),n.isDragging?u:s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"}),s.a.createElement("span",{className:"item-label"},t.label),s.a.createElement("div",{className:"item-icon"},i))))})),s.a.createElement("div",{style:{display:"none"}},a.placeholder))}))}))))}}]),a}(s.a.Component),et=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{collapsed:{}}),Object(O.a)(Object(z.a)(e),"onToggleGroup",(function(t){var a=e.state.collapsed;e.setState({collapsed:Object(b.a)(Object(b.a)({},a),{},Object(O.a)({},t,!a[t]))})})),Object(O.a)(Object(z.a)(e),"getStyle",(function(e,t){return t.isDragging?t.isDropAnimating?Object(b.a)(Object(b.a)({},e),{},{transitionDuration:"0.001s"}):e:Object(b.a)(Object(b.a)({},e),{},{transform:"none"})})),Object(O.a)(Object(z.a)(e),"renderGroup",(function(t,a){var n=e.state.collapsed,r=[].concat(Object(B.a)(t.ExposedProperties),Object(B.a)(t.ExposedFunctions));if(!r.length)return null;var o=["fas","caret-down"],c="items-list ";return n[t.Name]?o=["fas","caret-right"]:c+="expanded",s.a.createElement("li",{key:t.Name},s.a.createElement(Ye.b,{draggableId:"".concat(t.Name,"_WIDGET"),index:a},(function(a,n){return n.isDragging&&e.props.onWidgetsLock(D.a.filter(r,(function(e){var t;return!!(null===(t=e.Metadata)||void 0===t?void 0:t.Widget)}))),s.a.createElement(s.a.Fragment,null,n.isDragging&&s.a.createElement("div",{className:"list-title"},t.Name,s.a.createElement(ie.a,{icon:o})),s.a.createElement("div",Object.assign({},a.draggableProps,a.dragHandleProps,{className:"list-title",onClick:e.onToggleGroup.bind(Object(z.a)(e),t.Name),ref:a.innerRef,style:e.getStyle(a.draggableProps.style,n)}),t.Name,s.a.createElement(ie.a,{icon:o})))})),s.a.createElement(Ye.c,{key:t.Name,droppableId:"ADDWIDGET_".concat(t.Name),isDropDisabled:!0},(function(a){return s.a.createElement("ul",Object.assign({ref:a.innerRef,className:c},a.droppableProps),!n[t.Name]&&r.map(e.props.renderDraggableItem),s.a.createElement("div",{style:{display:"none"}},a.placeholder))})))})),e}return Object(Y.a)(a,[{key:"componentDidUpdate",value:function(e){var t,a=this.props.preset;(null===a||void 0===a?void 0:a.Name)!==(null===(t=e.preset)||void 0===t?void 0:t.Name)&&this.setState({collapsed:{}})}},{key:"render",value:function(){var e=this,t=this.props.groups;return s.a.createElement("div",{className:"properties-tab"},s.a.createElement(ke,{placeholder:"Search Properties",onSearch:this.props.onSerach}),s.a.createElement("div",{className:"nav-list-container"},s.a.createElement(Ye.c,{droppableId:"properties-droppable"},(function(a){return s.a.createElement("ul",Object.assign({ref:a.innerRef,className:"nav-list"},a.droppableProps),t.map(e.renderGroup))}))))}}]),a}(s.a.Component);!function(e){e.Widgets="WIDGETS",e.Properties="PROPERTIES",e.Tab="TAB",e.Presets="PRESETS"}(Ue||(Ue={}));var tt=[{title:"Presets",key:Ue.Presets},{title:"Tab",key:Ue.Tab},{title:"Widgets",key:Ue.Widgets},{title:"Properties",key:Ue.Properties}],at=[{id:"PANEL",type:"PANEL",label:"Panel"},{id:"LIST",type:"LIST",label:"List"},{id:r.Tabs,type:r.Tabs,label:"Tabs"},{id:r.Label,type:r.Label,label:"Label"},{id:r.Spacer,type:r.Spacer,label:"Spacer"},{id:r.Dial,type:r.Dial,label:"Dial",propertyType:n.Float},{id:"".concat(r.Slider,"_WIDGET"),type:r.Slider,label:"Slider",propertyType:n.Float},{id:r.ColorPicker,type:r.ColorPicker,label:"Color Picker",propertyType:n.LinearColor},{id:r.MiniColorPicker,type:r.MiniColorPicker,label:"MiniColor Picker",propertyType:n.LinearColor},{id:"".concat(r.ColorPickerList,"_WIDGET"),type:r.ColorPickerList,label:"Color Picker List",propertyType:n.LinearColor},{id:r.Toggle,type:r.Toggle,label:"Toggle",propertyType:n.Boolean},{id:"".concat(r.Joystick,"_WIDGET"),type:r.Joystick,label:"Joystick",propertyType:n.Vector},{id:r.Button,type:r.Button,label:"Button",propertyType:n.Function},{id:"".concat(r.Text,"_WIDGET"),type:r.Text,label:"Text",propertyType:n.Text},{id:r.Dropdown,type:r.Dropdown,label:"Dropdown",propertyType:n.Text},{id:"".concat(r.Vector,"_WIDGET"),type:r.Vector,label:"Vector",propertyType:n.Vector}],nt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),Object(O.a)(Object(z.a)(e),"state",{filteredGroups:Object(B.a)(e.props.preset.Groups),filteredWidgets:Object(B.a)(D.a.sortBy(at,(function(e){return e.label}))),filteredPresets:Object(B.a)(e.props.presets),search:"",editTab:!1,tab:Ue.Presets,widget:null,metadata:{},usedProperties:{}}),Object(O.a)(Object(z.a)(e),"buildPropertyList",(function(t){var a=[];(null===t||void 0===t?void 0:t.layout)===c.Stack&&(a=D.a.compact(e.getProperties(t.panels)));var n=D.a.uniq(a).reduce((function(e,t){return e[t]=!0,e}),{});e.setState({usedProperties:n})})),Object(O.a)(Object(z.a)(e),"resetFilter",(function(){e.setState({filteredGroups:Object(B.a)(e.props.preset.Groups),filteredWidgets:Object(B.a)(D.a.sortBy(at,(function(e){return e.label}))),filteredPresets:Object(B.a)(e.props.presets)})})),Object(O.a)(Object(z.a)(e),"getProperties",(function(t){if(!t)return[];var a,n=[],r=Object(G.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;switch(o.type){case"LIST":var c,i=Object(G.a)(o.items);try{for(i.s();!(c=i.n()).done;){var l=c.value;n.push.apply(n,Object(B.a)(e.getProperties(l.panels)))}}catch(s){i.e(s)}finally{i.f()}break;case"PANEL":n.push.apply(n,Object(B.a)(e.getProperties(o.widgets)));break;default:n.push.apply(n,Object(B.a)(e.getPropertiesofWidget(o)))}}}catch(s){r.e(s)}finally{r.f()}return n})),Object(O.a)(Object(z.a)(e),"getPropertiesofWidget",(function(t){var a=[];switch(t.widget){case r.Tabs:var n,o=Object(G.a)(t.tabs);try{for(o.s();!(n=o.n()).done;){var c=n.value;a.push.apply(a,Object(B.a)(e.getProperties(c.widgets)))}}catch(u){o.e(u)}finally{o.f()}break;case r.ColorPickerList:var i,l=Object(G.a)(t.items);try{for(l.s();!(i=l.n()).done;){var s=i.value;a.push(s.property)}}catch(u){l.e(u)}finally{l.f()}break;default:a.push(t.property)}return a})),Object(O.a)(Object(z.a)(e),"getStyle",(function(e,t){return t.isDragging?t.isDropAnimating?Object(b.a)(Object(b.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px",transitionDuration:"0.001s"}):Object(b.a)(Object(b.a)({},e),{},{height:"auto",width:"auto",minWidth:"350px"}):Object(b.a)(Object(b.a)({},e),{},{transform:"none"})})),Object(O.a)(Object(z.a)(e),"onPropertiesFilter",(function(t){var a=e.props.preset,n=a.Groups;t&&(n=D.a.map(a.Groups,(function(a){return e.filterGroup(a,t)}))),e.setState({filteredGroups:n,search:t})})),Object(O.a)(Object(z.a)(e),"onWidgetsFilter",(function(t){var a=D.a.sortBy(at.filter((function(e){return e.label.toLowerCase().slice(0,t.length)===t})),(function(e){return e.label}));e.setState({filteredWidgets:a})})),Object(O.a)(Object(z.a)(e),"filterGroup",(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{ExposedProperties:D.a.filter(e.ExposedProperties,(function(e){return-1!==e.DisplayName.toLowerCase().indexOf(t)})),ExposedFunctions:D.a.filter(e.ExposedFunctions,(function(e){return-1!==e.DisplayName.toLowerCase().indexOf(t)}))})})),Object(O.a)(Object(z.a)(e),"onPresetFilter",(function(t){var a=e.props.presets,n=a;t&&(n=a.filter((function(e){return-1!==e.Name.toLowerCase().indexOf(t)}))),e.setState({filteredPresets:n,search:t})})),Object(O.a)(Object(z.a)(e),"onViewUpdatedDebounced",D.a.debounce(e.props.onUpdateView,400)),Object(O.a)(Object(z.a)(e),"getWidgetFromElement",(function(e){var t;return e?{property:e.ID,propertyType:null===e||void 0===e?void 0:e.Type,widget:null===(t=e.Metadata)||void 0===t?void 0:t.Widget}:null})),Object(O.a)(Object(z.a)(e),"onWidgetRemove",function(){var t=Object(f.a)(h.a.mark((function t(a){var n,r,o,c,i,l,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.selected,o=n.panels,c=r.split("_"),i=Object(H.a)(c,2),l=i[0],s=i[1],t.next=4,Ae.show(a);case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:D.a.get(o,l,o).splice(+s,1),e.props.onUpdateView(!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"onWidgetTabRemove",function(){var t=Object(f.a)(h.a.mark((function t(a){var n,r,o,c,i,l,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.selected,o=n.panels,c=r.split("_"),i=Object(H.a)(c,2),l=i[0],s=i[1],t.next=4,Ae.show("Are you sure you want to delete this tab?");case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:D.a.get(o,"".concat(l,"[").concat(s,"]tabs"),o).splice(a,1),e.props.onUpdateView();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"onListItemRemove",function(){var t=Object(f.a)(h.a.mark((function t(a){var n,r,o,c,i,l,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.selected,o=n.panels,c=r.split("_"),i=Object(H.a)(c,2),l=i[0],s=i[1],t.next=4,Ae.show("Are you sure you want to delete this item?");case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:D.a.get(o,"".concat(l,"[").concat(s,"]items"),o).splice(a,1),e.props.onUpdateView();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"onChange",(function(t,a){var n=e.props,r=n.selected,o=n.panels,c=Object(b.a)({},e.state.widget),i=r.split("_"),l=Object(H.a)(i,2),s=l[0],u=l[1];D.a.set(c,t,a),e.setState({widget:c});var d=D.a.get(o,s,o);D.a.set(d,"".concat(u,".").concat(t),a),e.onViewUpdatedDebounced()})),Object(O.a)(Object(z.a)(e),"renderWidget",(function(t){if(!t)return null;switch(e.props.lockWidget([t]),t.widget){case r.Sliders:return s.a.createElement(xe,{widget:t});case r.Slider:return s.a.createElement(De,null);case r.CustomWidget:return s.a.createElement(Be,null);case r.Dropdown:return s.a.createElement(Se,null);case r.ImageSelector:return s.a.createElement(Pe,{widget:t});case r.Toggle:return s.a.createElement(Ie,{widget:t});case r.Label:return s.a.createElement("div",{className:"label"},"Label");case r.Text:return s.a.createElement("div",{className:"slider-row text-row"},s.a.createElement("div",{className:"title"},"Text"),s.a.createElement(Ee,{value:"Text"}),s.a.createElement(ie.a,{icon:["fas","undo"]}));case r.Vector:return s.a.createElement(Le,{widget:t});case r.Button:return s.a.createElement("div",{className:"btn-wrapper"},s.a.createElement(ce,null));case r.ColorPicker:case r.MiniColorPicker:return s.a.createElement(se,{widget:t.widget});case r.Joystick:return s.a.createElement(he,{type:n.Vector});case r.Dial:return s.a.createElement(ve,null);case r.Dials:return s.a.createElement(be,{type:t.propertyType});default:return null}})),Object(O.a)(Object(z.a)(e),"renderTabsEdit",(function(){var t=e.state.widget;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ye.c,{droppableId:t.id,type:"TABS-REORDER"},(function(a){var n;return s.a.createElement("div",Object.assign({className:"properties-list",ref:a.innerRef},a.droppableProps),null===(n=t.tabs)||void 0===n?void 0:n.map((function(t,a){return s.a.createElement(Ye.b,{key:t.id,draggableId:"REORDER_".concat(t.id),index:a},(function(n){var r;return s.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,{className:"properties-field line"}),s.a.createElement("span",Object.assign({},n.dragHandleProps,{className:"drag-handle",tabIndex:-1}),s.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"})),s.a.createElement("input",{type:"text",value:null!==(r=t.label)&&void 0!==r?r:"",onChange:function(t){return e.onChange("tabs[".concat(a,"]label"),t.target.value)}}),s.a.createElement(ie.a,{className:"icon",icon:["fas","times"],onClick:function(){return e.onWidgetTabRemove(a)}}))}))})),a.placeholder)})),s.a.createElement("div",{className:"btn-container"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.onChange("tabs[".concat(t.tabs.length,"]"),{label:"Tab ".concat(t.tabs.length+1),widgets:[]})}},"Add new tab")),e.renderDelete("Tabs"))})),Object(O.a)(Object(z.a)(e),"renderListsEdit",(function(){var t=e.state.widget;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ye.c,{droppableId:t.id,type:"LIST-REORDER"},(function(a){var n;return s.a.createElement("div",Object.assign({className:"properties-list",ref:a.innerRef},a.droppableProps),null===(n=t.items)||void 0===n?void 0:n.map((function(a,n){return s.a.createElement(Ye.b,{draggableId:"REORDER_".concat(a.id),index:n,key:a.id},(function(r){var o,c;return s.a.createElement("div",Object.assign({ref:r.innerRef},r.draggableProps,{className:"properties-field line"}),s.a.createElement("span",Object.assign({},r.dragHandleProps,{className:"drag-handle",tabIndex:-1}),s.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"drag",className:"grip-handle"})),s.a.createElement("input",{type:"text",value:null!==(o=a.label)&&void 0!==o?o:"",onChange:function(t){return e.onChange("items[".concat(n,"]label"),t.target.value)}}),(null===(c=t.items)||void 0===c?void 0:c.length)>1&&s.a.createElement(ie.a,{className:"icon",icon:["fas","times"],onClick:e.onListItemRemove.bind(Object(z.a)(e),n)}))}))})),a.placeholder)})),s.a.createElement("div",{className:"btn-container"},s.a.createElement("button",{className:"btn btn-primary",onClick:e.onChange.bind(Object(z.a)(e),"items[".concat(t.items.length,"]"),{label:"Item ".concat(t.items.length+1),panels:[]})},"Add new item")),e.renderDelete("List"),s.a.createElement("div",{className:"btn-container"},s.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.props.onNewTabs(t.items)}},"Create Tabs from List Item")))})),Object(O.a)(Object(z.a)(e),"renderColorPickersListEdit",(function(){return e.renderDelete("Color Picker List")})),Object(O.a)(Object(z.a)(e),"renderColorPickerEdit",(function(t){var a,r=e.props.preset,o=e.state.widget,c=null===r||void 0===r?void 0:r.Exposed[null===o||void 0===o?void 0:o.property],i=!1;return"1"===(null===c||void 0===c||null===(a=c.Metadata)||void 0===a?void 0:a.Alpha)&&(i=!0),s.a.createElement(s.a.Fragment,null,t&&s.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),o.propertyType!==n.Vector4&&s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Show Alpha"),s.a.createElement("input",{className:"checkbox",type:"checkbox",onChange:function(t){return e.onMetadataChange(o,"Alpha",t.target.checked?"1":"0")},checked:i}))),e.renderDelete())})),Object(O.a)(Object(z.a)(e),"renderPanelEdit",(function(){var t,a=e.state.widget;return s.a.createElement("div",{className:"properties-list"},s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Panel Title"),s.a.createElement("input",{type:"text",value:null!==(t=null===a||void 0===a?void 0:a.title)&&void 0!==t?t:"",onChange:function(t){return e.onChange("title",t.target.value)}})),s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Is template"),s.a.createElement("input",{className:"checkbox",type:"checkbox",checked:!!(null===a||void 0===a?void 0:a.isTemplate),onChange:function(t){return e.onChange("isTemplate",t.target.checked)}})),e.renderDelete("Panel"))})),Object(O.a)(Object(z.a)(e),"onMetadataChange",(function(t,a,n){var r=Object(b.a)({},e.state.metadata);r[a]=n,e.setState({metadata:r}),W.payload.metadata(t.property,a,n)})),Object(O.a)(Object(z.a)(e),"onDiscardStateMetadata",(function(t){var a=Object(b.a)({},e.state.metadata);delete a[t],e.setState({metadata:a})})),Object(O.a)(Object(z.a)(e),"onVectorModeChange",(function(t,a,n){var r=e.props,o=r.selected,c=r.panels,i=o.split("_"),l=Object(H.a)(i,2),s=l[0],u=l[1],d=D.a.get(c,"".concat(s,".").concat(u),c),p=D.a.xor((null===d||void 0===d?void 0:d.widgets)||[],[a]);n&&(D.a.compact(n.map((function(e){return p.find((function(t){return t===e}))}))).length||p.push(a));d.widgets=p,t.widgets=p,e.props.onUpdateView()})),Object(O.a)(Object(z.a)(e),"renderPropertyLabel",(function(){var t,a,n=e.props.preset,r=e.state.widget,o="",c=null===n||void 0===n?void 0:n.Exposed[null===r||void 0===r?void 0:r.property];c&&(t=c.DisplayName,o=e.state.metadata.Description||(null===(a=c.Metadata)||void 0===a?void 0:a.Description)||"");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Label"),s.a.createElement("input",{type:"text",placeholder:t,value:o,onChange:function(t){return e.onMetadataChange(r,"Description",t.target.value)},onBlur:function(){return e.onDiscardStateMetadata("Description")}})))})),Object(O.a)(Object(z.a)(e),"renderMinMax",(function(){var t,a,n=e.props.preset,o=e.state.widget;switch(null===o||void 0===o?void 0:o.widget){case r.Dial:case r.Dials:case r.Slider:case r.CustomWidget:case r.Joystick:case r.ScaleSlider:case r.Sliders:case r.Vector:var c=le.getMinMax(n,null===o||void 0===o?void 0:o.property),i=e.state.metadata,l=i.Min,u=i.Max;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Minimum"),s.a.createElement("input",{type:"number",value:null!==(t=null!==l&&void 0!==l?l:null===c||void 0===c?void 0:c.min)&&void 0!==t?t:"",onChange:function(t){return e.onMetadataChange(o,"Min",t.target.value)},onBlur:function(){return e.onDiscardStateMetadata("Min")}})),s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Maximum"),s.a.createElement("input",{type:"number",value:null!==(a=null!==u&&void 0!==u?u:null===c||void 0===c?void 0:c.max)&&void 0!==a?a:"",onChange:function(t){return e.onMetadataChange(o,"Max",t.target.value)},onBlur:function(){return e.onDiscardStateMetadata("Max")}})))}return null})),Object(O.a)(Object(z.a)(e),"renderDelete",(function(t){return s.a.createElement("div",{key:"delete",className:"btn-container"},s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.onWidgetRemove("Are you sure you want to delete?")}},"Delete ",null!==t&&void 0!==t?t:"Widget"))})),Object(O.a)(Object(z.a)(e),"renderLabelEdit",(function(){var t=e.state.widget;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"properties-list"},s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Label"),s.a.createElement("input",{value:t.label,onChange:function(t){return e.onChange("label",t.target.value)}}))),e.renderDelete())})),Object(O.a)(Object(z.a)(e),"renderSpacerEdit",(function(){var t,a=e.state.widget;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"properties-list"},s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Rows"),s.a.createElement("input",{type:"number",value:null!==(t=String((null===a||void 0===a?void 0:a.spaces)||1))&&void 0!==t?t:"",onChange:function(t){return e.onChange("spaces",+t.target.value)}}))),e.renderDelete())})),Object(O.a)(Object(z.a)(e),"renderDialEdit",(function(t){return s.a.createElement(s.a.Fragment,null,t&&s.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),e.renderMinMax()),e.renderDelete())})),Object(O.a)(Object(z.a)(e),"renderVectorEdit",(function(t){var a=e.state.widget,o=(null===a||void 0===a?void 0:a.widgets)||[];return s.a.createElement(s.a.Fragment,null,t&&s.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),a.propertyType!==n.Rotator&&e.renderMinMax(),s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Modes"),s.a.createElement("div",{className:"btn-group vector-btn-group"},a.propertyType!==n.Rotator&&s.a.createElement("button",{className:"btn ".concat(o.includes(r.Joystick)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(a,r.Joystick)}},"Joystick"),s.a.createElement("button",{className:"btn ".concat(o.includes(r.Dial)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(a,r.Dial)}},"Dial"),s.a.createElement("button",{className:"btn ".concat(o.includes(r.Sliders)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(a,r.Sliders)}},"Sliders")))),e.renderDelete())})),Object(O.a)(Object(z.a)(e),"renderDialsEdit",(function(t){return e.renderSlidersEdit(t)})),Object(O.a)(Object(z.a)(e),"renderSlidersEdit",(function(t){var a=e.state.widget,n=le.getPropertyKeys(null===a||void 0===a?void 0:a.propertyType),r=(null===a||void 0===a?void 0:a.widgets)||[];return s.a.createElement(s.a.Fragment,null,t&&s.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),e.renderMinMax(),s.a.createElement("div",{className:"properties-field"},s.a.createElement("label",null,"Properties"),s.a.createElement("div",{className:"btn-group vector-btn-group"},n.map((function(t){return s.a.createElement("button",{key:t,className:"btn ".concat(r.includes(t)?"btn-primary":"btn-secondary"),onClick:function(){return e.onVectorModeChange(a,t,n)}},t)}))))),e.renderDelete())})),Object(O.a)(Object(z.a)(e),"onFunctionParameterChanged",(function(t,a,n){var r=Object(b.a)({},e.state.metadata);r[a]=n,e.setState({metadata:r}),D.a.set(t,a,n),e.onViewUpdatedDebounced()})),Object(O.a)(Object(z.a)(e),"renderFunctionEdit",(function(){var t,a=e.state.widget,r=e.props.preset,o=[],c=null===r||void 0===r?void 0:r.Exposed[null===a||void 0===a?void 0:a.property];if(null===c||void 0===c||null===(t=c.UnderlyingFunction)||void 0===t?void 0:t.Arguments){var i,l=e.state.metadata,u=(null===(i=c.Metadata)||void 0===i?void 0:i.Description)||c.DisplayName,d=l.label||a.label||"";o.push(s.a.createElement("div",{key:"label",className:"property properties-field"},s.a.createElement("label",null,"Label"),s.a.createElement("input",{type:"text",placeholder:u,value:d,onChange:function(t){return e.onFunctionParameterChanged(a,"label",t.target.value)}})));for(var p=function(t){var r,i,u=c.UnderlyingFunction.Arguments[t],d=null!==(r=l[u.Name])&&void 0!==r?r:null===(i=a.args)||void 0===i?void 0:i[u.Name],p="args.".concat(u.Name);switch(u.Type){case n.String:case n.Text:o.push(s.a.createElement("div",{key:t,className:"property properties-field"},s.a.createElement("label",null,u.Name),s.a.createElement("input",{type:"text",value:d||"",onChange:function(t){return e.onFunctionParameterChanged(a,p,t.target.value)}})));break;case n.Uint8:case n.Boolean:o.push(s.a.createElement("div",{key:t,className:"property properties-field"},s.a.createElement("input",{className:"checkbox",type:"checkbox",checked:!!d,onChange:function(t){return e.onFunctionParameterChanged(a,p,t.target.checked)}}),s.a.createElement("label",null,u.Name)));break;case n.Int8:case n.Int16:case n.Int32:case n.Uint16:case n.Uint32:case n.Float:o.push(s.a.createElement("div",{key:t,className:"property properties-field"},s.a.createElement("label",null,u.Name),s.a.createElement("input",{type:"number",value:d||"",onChange:function(t){return e.onFunctionParameterChanged(a,p,+t.target.value)}})))}},v=0;v<c.UnderlyingFunction.Arguments.length;v++)p(v)}return o.push(e.renderDelete()),o})),Object(O.a)(Object(z.a)(e),"renderProperties",(function(t){var a=e.props.selected,n=e.state.widget,o=e.state.widget;if(!a||!n)return null;switch((null===n||void 0===n?void 0:n.widget)||o.type){case r.Tabs:return e.renderTabsEdit();case"LIST":return e.renderListsEdit();case"PANEL":return e.renderPanelEdit();case r.ColorPickerList:return e.renderColorPickersListEdit();case r.ColorPicker:case r.MiniColorPicker:return e.renderColorPickerEdit(t);case r.Label:return e.renderLabelEdit();case r.Spacer:return e.renderSpacerEdit();case r.Dial:return e.renderDialEdit(t);case r.Dials:return e.renderDialsEdit(t);case r.Vector:return e.renderVectorEdit(t);case r.Sliders:return e.renderSlidersEdit(t);case r.Button:return e.renderFunctionEdit()}return s.a.createElement(s.a.Fragment,null,t&&s.a.createElement("div",{className:"properties-list"},e.renderCompatibleWidgets(),e.renderPropertyLabel(),e.renderMinMax()),e.renderDelete())})),Object(O.a)(Object(z.a)(e),"isPropertyUsed",(function(t){return e.state.usedProperties[t]})),Object(O.a)(Object(z.a)(e),"isPropertyAvailable",(function(){var t=e.props.preset,a=e.state.widget;return!(!(null===a||void 0===a?void 0:a.property)||!(null===t||void 0===t?void 0:t.Exposed[a.property]))})),Object(O.a)(Object(z.a)(e),"onWidgetTypeChanged",(function(t,a){e.onMetadataChange(t,"Widget",a),t.widget&&(t.widget=a,e.props.onUpdateView())})),Object(O.a)(Object(z.a)(e),"renderCompatibleProperties",(function(t){var a=e.props,n=a.selected,o=a.preset,c=e.state.widget;if(!n||!c||!c.widget)return null;switch(c.widget){case r.Button:case r.ColorPicker:case r.MiniColorPicker:case r.Dial:case r.Dials:case r.Dropdown:case r.ImageSelector:case r.Joystick:case r.Slider:case r.CustomWidget:case r.Sliders:case r.Text:case r.Toggle:case r.Vector:break;default:return null}var i=D.a.filter(o.Exposed,(function(e){return e.Metadata.Widget===c.widget}));return s.a.createElement("div",{className:"types-selection"},s.a.createElement("div",{className:"dropdown-widget properties-field"},s.a.createElement("label",null,"Property"),!t&&s.a.createElement(ie.a,{icon:["fas","exclamation-circle"],className:"unbound-icon"}),s.a.createElement("select",{className:"dropdown",value:c.property||"",onChange:function(t){return function(t){var a=o.Exposed[t];c.propertyType=null===a||void 0===a?void 0:a.Type,c.property=t,e.props.onUpdateView()}(t.target.value)}},!t&&s.a.createElement("option",{value:""},"Unbound Property"),i.map((function(t){return s.a.createElement("option",{key:t.ID,value:t.ID},e.isPropertyUsed(t.ID)?"\u2022 ":" ",t.DisplayName)})))))})),Object(O.a)(Object(z.a)(e),"renderCompatibleWidgets",(function(){var t,a,n=e.props.preset,r=e.state.widget;if(!r||!n)return null;var o=n.Exposed[r.property],c=le.getCompatibleWidgets(null===o||void 0===o?void 0:o.Type),i=!(null===o||void 0===o||null===(t=o.Metadata)||void 0===t?void 0:t.Widget)||!c.find((function(e){return o.Metadata.Widget===e}));return s.a.createElement("div",{className:"dropdown-widget properties-field"},s.a.createElement("label",null,"Widget"),!!i&&s.a.createElement(ie.a,{icon:["fas","exclamation-circle"],className:"unbound-icon"}),s.a.createElement("select",{className:"dropdown",value:(null===o||void 0===o||null===(a=o.Metadata)||void 0===a?void 0:a.Widget)||"",onChange:function(t){return e.onWidgetTypeChanged(r,t.target.value)}},!!i&&s.a.createElement("option",{value:""},"[ No Widget Selected ]"),c.map((function(e){return s.a.createElement("option",{key:e,value:e},e)}))))})),Object(O.a)(Object(z.a)(e),"renderDraggableItem",(function(t,a){var n,o,c,i,l=e.props.selected,u="".concat(t.DisplayName,"_");switch(null===(n=t.Metadata)||void 0===n?void 0:n.Widget){case r.Button:u+=r.Button;break;case r.ColorPicker:u+=r.ColorPicker;break;case r.MiniColorPicker:u+=r.MiniColorPicker;break;case r.Toggle:u+=r.Toggle;break;case r.Dial:u+=r.Dial;break;case r.Dials:u+=r.Dials;break;default:u+="WIDGET"}var d="draggable-widget control-widget ",p=D.a.last(null===l||void 0===l?void 0:l.split("_"))||null,v=!(null===(o=t.Metadata)||void 0===o||null===(c=o.Widget)||void 0===c?void 0:c.length);e.isPropertyUsed(t.ID)&&(d+="widget-in-use "),p===t.ID&&(d+="selected "),v&&(d+="disabled ");var m=s.a.createElement("div",{className:d,"data-tooltip":t.DisplayName},s.a.createElement("img",{src:"/images/GripDotsBlocks.svg",alt:"Drag",className:"grip-handle"}),s.a.createElement("label",null,t.DisplayName),s.a.createElement("div",{className:"item-icon"},null===(i=t.Metadata)||void 0===i?void 0:i.Widget));return s.a.createElement(Ye.b,{key:u,draggableId:u,index:a,isDragDisabled:v},(function(a,n){return s.a.createElement(s.a.Fragment,null,n.isDragging&&m,s.a.createElement("li",Object.assign({},a.draggableProps,a.dragHandleProps,{ref:a.innerRef,style:e.getStyle(a.draggableProps.style,n),onClick:e.props.onSelected.bind(Object(z.a)(e),"__".concat(t.ID))}),n.isDragging?s.a.createElement("div",{className:"dragging-overlay"},e.renderWidget(e.getWidgetFromElement(t))):m))}))})),Object(O.a)(Object(z.a)(e),"renderTab",(function(t){var a=e.props.view,n=t.title,r=t.key;if(!a.tabs.length&&r!==Ue.Presets)return null;var o="drawer-nav-tab ";return e.state.tab===r&&(o+="active"),s.a.createElement("li",{className:o,key:r,onClick:function(){return e.setState({tab:r})}},n)})),Object(O.a)(Object(z.a)(e),"renderTabContent",(function(){var t=e.props.preset,a=e.state,n=a.filteredGroups,r=a.filteredWidgets,o=a.filteredPresets;switch(a.tab){case Ue.Properties:return s.a.createElement(et,{groups:n,preset:t,renderDraggableItem:e.renderDraggableItem,onWidgetsLock:function(t){return e.props.lockWidget(t.map(e.getWidgetFromElement))},onSerach:e.onPropertiesFilter});case Ue.Tab:return s.a.createElement($e,{onChangeIcon:e.props.onChangeIcon,onRenameTabModal:e.props.onRenameTabModal,onDuplicateTab:e.props.onDuplicateTab,onAddSnapshotTab:e.props.onAddSnapshotTab,onAddSequencerTab:e.props.onAddSequencerTab});case Ue.Widgets:return s.a.createElement(Qe,{widgets:r,renderWidget:e.renderWidget,onSearch:e.onWidgetsFilter});case Ue.Presets:return s.a.createElement(Ze,{preset:t,pressets:o,onPresetChange:e.props.onPresetChange,onSearch:e.onPresetFilter})}})),e}return Object(Y.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a,n=this.props,r=n.editable,o=n.selected,c=n.panels,i=n.preset,l=n.view,s=n.tab;if(r){if(r===e.editable&&l===e.view&&s===e.tab||this.buildPropertyList(null===l||void 0===l||null===(a=l.tabs)||void 0===a?void 0:a[s]),l!==e.view||o&&(o!==e.selected||!D.a.isEqual(c,e.panels))){var u,d,p=null!==(u=null===o||void 0===o?void 0:o.split("_"))&&void 0!==u?u:[],v=Object(H.a)(p,3),m=v[0],b=v[1],g=v[2];d=b?D.a.get(c,m,c)[+b]:this.getWidgetFromElement(i.Exposed[g]),this.setState({widget:d,metadata:{}})}if(i!==e.preset){var h=this.state.search;this.onPropertiesFilter(h),this.onPresetFilter(h)}this.state.tab!==t.tab&&this.resetFilter()}}},{key:"render",value:function(){if(!this.props.editable)return null;var e="drawer list ";this.state.editTab&&(e+="tab-editable");var t=this.isPropertyAvailable();return s.a.createElement("nav",{id:"tabs-drawer-layout",className:e},s.a.createElement("ul",{className:"drawer-nav"},tt.map(this.renderTab)),s.a.createElement("div",{className:"tab-content"},this.renderTabContent()),s.a.createElement("div",{className:"nav-properties"},s.a.createElement("div",{className:"properties-grid"},this.renderCompatibleProperties(t),this.renderProperties(t))))}}]),a}(l.Component),rt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{map:"",search:"",sortBy:"Metadata.CaptureTime",sortAsc:!1,snapshots:[],filters:[]}),Object(O.a)(Object(z.a)(e),"fetchAssets",Object(f.a)(h.a.mark((function t(){var a,n,r,o,c,i,l,s,u,d,p,v,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.map){t.next=9;break}return t.next=4,W.proxy.function("/Script/UnrealEd.Default__EditorSubsystemBlueprintLibrary","GetEditorSubsystem",{Class:"/Script/UnrealEd.UnrealEditorSubsystem"});case 4:return n=t.sent,t.next=7,W.proxy.function(n.ReturnValue,"GetEditorWorld",{});case 7:r=t.sent,a=r.ReturnValue;case 9:return t.next=11,W.assets.search("",["LevelSnapshotFilter"],"/Game",{},50);case 11:return o=t.sent,c={EnableBlueprintNativeClassFiltering:!0,NativeParentClasses:["LevelSnapshotFilter"]},t.t0=D.a,t.next=16,W.assets.search("",["Blueprint"],"/Game",c,50);case 16:return t.t1=t.sent,t.t2=function(e){return!!e.Metadata.GeneratedClass},i=t.t0.filter.call(t.t0,t.t1,t.t2),l=[].concat(Object(B.a)(i),Object(B.a)(o)),s=e.state,u=s.search,d=s.sortBy,p=s.sortAsc,t.next=23,W.assets.search(u,["LevelSnapshot"],"/Game",{},200);case 23:v=t.sent,m=D.a.filter(v,(function(e){var t;return!a||(null===(t=e.Metadata)||void 0===t?void 0:t.MapPath)===a})),m=e.sortAssets(m,d,p),e.setState({snapshots:m,filters:l,map:a});case 27:case"end":return t.stop()}}),t)})))),Object(O.a)(Object(z.a)(e),"fetchAssetsDebounced",D.a.debounce(e.fetchAssets,200)),Object(O.a)(Object(z.a)(e),"sortAssets",(function(e,t,a){return D.a.orderBy(e,[t],[a?"asc":"desc"])})),Object(O.a)(Object(z.a)(e),"onSortChange",(function(){var t=e.state,a=t.sortBy,n=t.sortAsc,r=e.sortAssets(e.state.snapshots,a,n);e.setState({snapshots:r})})),Object(O.a)(Object(z.a)(e),"onSetSort",(function(t){var a=e.state.sortAsc;a=t!==e.state.sortBy||!a,e.setState({sortBy:t,sortAsc:a},e.onSortChange)})),Object(O.a)(Object(z.a)(e),"onSearchChange",(function(t){e.setState({search:t}),e.fetchAssetsDebounced()})),Object(O.a)(Object(z.a)(e),"showDetails",(function(t){e.setState({snapshot:t})})),Object(O.a)(Object(z.a)(e),"onCreate",Object(f.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.map,t.next=3,ct.show(a);case 3:if(!t.sent){t.next=5;break}e.fetchAssets();case 5:case"end":return t.stop()}}),t)})))),Object(O.a)(Object(z.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.state.snapshot&&e.setState({snapshot:null})})),Object(O.a)(Object(z.a)(e),"renderSnapshot",(function(t,a){var n,r,o="";t===e.state.snapshot&&(o="selected-row ");var c=W.assets.thumbnailUrl(t.Path);return s.a.createElement("tr",{key:a,className:o,onClick:function(){return e.showDetails(t)}},s.a.createElement("td",{className:"name"},s.a.createElement("div",{className:"name-block"},s.a.createElement(fe,{src:c,fallback:"/images/assets/LevelSnapshot.png",alt:t.Name,className:"box"}),s.a.createElement("p",null,t.Name))),s.a.createElement("td",{className:"description"},s.a.createElement("p",null,null===(n=t.Metadata)||void 0===n?void 0:n.SnapshotDescription)),s.a.createElement("td",{className:"created"},s.a.createElement("p",null,null===(r=t.Metadata)||void 0===r?void 0:r.CaptureTime)))})),Object(O.a)(Object(z.a)(e),"renderColumnHeader",(function(t,a){var n=e.state,r=n.sortBy,o=n.sortAsc;return s.a.createElement(s.a.Fragment,null,s.a.createElement("th",{className:t.toLowerCase(),onClick:function(){return e.onSetSort(a)}},t,r===a&&s.a.createElement(ie.a,{icon:o?"sort-up":"sort-down",className:"sort-icon"})))})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){this.fetchAssets()}},{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&this.fetchAssets()}},{key:"render",value:function(){var e=this,t=this.state,a=t.map,n=t.search,r=t.filters,o=t.snapshot,c=t.snapshots;return s.a.createElement("div",{className:"snapshot-wrapper",onClick:function(){return e.showDetails()},tabIndex:-1},s.a.createElement("div",{className:"list-wrapper"},s.a.createElement("div",{className:"search-block"},s.a.createElement("button",{className:"btn snapshot-btn",onClick:this.onCreate},s.a.createElement("p",null,"TAKE SNAPSHOT")),s.a.createElement("div",{className:"search-field"},s.a.createElement(ie.a,{icon:["fas","search"]}),s.a.createElement("input",{type:"text",value:n,onChange:function(t){return e.onSearchChange(t.target.value)},autoComplete:"no"}))),s.a.createElement("div",{className:"table-wrapper",onClick:function(e){return e.stopPropagation()}},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,this.renderColumnHeader("Name","Name"),this.renderColumnHeader("Description","Metadata.SnapshotDescription"),this.renderColumnHeader("Created","Metadata.CaptureTime"))),s.a.createElement("tbody",null,c.map(this.renderSnapshot))))),s.a.createElement(ot,{map:a,filters:r,snapshot:o,onClose:function(){return e.showDetails()}}))}}]),a}(s.a.Component),ot=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{}),Object(O.a)(Object(z.a)(e),"onLoad",Object(f.a)(h.a.mark((function t(){var a,n,r,o,c,i,l,s,u,d,p;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,n=a.map,r=a.snapshot,o=a.onClose,c=a.filters,i=e.state,l=i.filter,s=i.loading,r&&!s){t.next=4;break}return t.abrupt("return");case 4:if(e.setState({loading:!0}),t.prev=5,!l){t.next=18;break}d=D.a.find(c,(function(e){return e.Path===l})),t.t0=null===d||void 0===d?void 0:d.Class,t.next="Blueprint"===t.t0?11:16;break;case 11:return t.next=13,W.proxy.function("/Script/LevelSnapshotFilters.Default__FilterBlueprintFunctionLibrary","CreateFilterByClass",{Class:d.Metadata.GeneratedClass});case 13:return p=t.sent,u=null===p||void 0===p?void 0:p.ReturnValue,t.abrupt("break",18);case 16:return u=d.Path,t.abrupt("break",18);case 18:return t.next=20,W.proxy.function("/Script/LevelSnapshots.Default__LevelSnapshotsFunctionLibrary","ApplySnapshotToWorld",{WorldContextObject:n,Snapshot:r.Path,OptionalFilter:u});case 20:t.next=24;break;case 22:t.prev=22,t.t1=t.catch(5);case 24:e.setState({loading:!1}),null===o||void 0===o||o();case 26:case"end":return t.stop()}}),t,null,[[5,22]])})))),e}return Object(Y.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.snapshot,r=a.filters,o=this.state,c=o.filter,i=o.loading,l="btn snapshot-btn ";return n||(l+="disabled"),s.a.createElement("div",{className:"snapshot-preview-wrapper",onClick:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"preview-title"},s.a.createElement("span",null,(null===n||void 0===n||null===(e=n.Metadata)||void 0===e?void 0:e.SnapshotName)?null===n||void 0===n?void 0:n.Name:s.a.createElement("span",{className:"hint-text"},"Select a snapshot above"))),(null===n||void 0===n?void 0:n.Path)&&s.a.createElement("div",{className:"preview-description"},s.a.createElement("div",{className:"description-title"},"Asset Path"),null===n||void 0===n?void 0:n.Path),s.a.createElement("div",{className:"controls-block"},s.a.createElement("div",{className:"snapshot-dropdown"},s.a.createElement("div",{className:"title"},"Filter"),s.a.createElement("select",{className:"dropdown",value:c,onChange:function(e){return t.setState({filter:e.target.value})}},s.a.createElement("option",{value:""},"[None]"),null===r||void 0===r?void 0:r.map((function(e,t){var a;return s.a.createElement("option",{key:t,value:e.Path},D.a.head(null===(a=e.Name)||void 0===a?void 0:a.split(".")))})))),s.a.createElement("button",{className:l,onClick:this.onLoad},i&&s.a.createElement(ie.a,{icon:["fas","sync-alt"],className:"spin-icon",spin:!0}),s.a.createElement("p",null,"APPLY SNAPSHOT"))))}}]),a}(s.a.Component),ct=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{loading:!0,name:"",path:"/Game/LevelSnapshots/",description:""}),Object(O.a)(Object(z.a)(e),"onOK",Object(f.a)(h.a.mark((function t(){var a,n,r,o,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.name,r=a.path,o=a.description,c=a.loading,n&&!c){t.next=3;break}return t.abrupt("return");case 3:return e.setState({loading:!0}),t.prev=4,t.next=7,W.proxy.function("/Script/LevelSnapshotsEditor.Default__LevelSnapshotsEditorFunctionLibrary","TakeAndSaveLevelSnapshotEditorWorld",{FileName:n,FolderPath:r,Description:o});case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(4);case 11:e.setState({loading:!1}),e.props.close(!0);case 13:case"end":return t.stop()}}),t,null,[[4,9]])})))),Object(O.a)(Object(z.a)(e),"onCancel",(function(){e.state.loading||e.props.close(!1)})),Object(O.a)(Object(z.a)(e),"onKeyPress",(function(t){"Escape"===t.key&&e.onCancel()})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,o,c,i,l,s,u,d,p,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/Script/LevelSnapshots.Default__LevelSnapshotsEditorDataManagementSettings",e.next=4,W.proxy.property.get(a,"RootLevelSnapshotSaveDir");case 4:return n=e.sent,r=n.RootLevelSnapshotSaveDir,o=null!==(t=null===r||void 0===r?void 0:r.Path)&&void 0!==t?t:"/Game/LevelSnapshots",e.next=9,W.proxy.property.get(a,"LevelSnapshotSaveDir");case 9:return c=e.sent,(i=c.LevelSnapshotSaveDir)&&(o+="/".concat(i)),e.next=14,W.proxy.property.get(a,"DefaultLevelSnapshotName");case 14:return l=e.sent,s=l.DefaultLevelSnapshotName,u=this.props.map,(null===(d=/([^/]+)\..+$/.exec(this.props.map))||void 0===d?void 0:d[1])&&(u=d[1]),e.next=21,W.proxy.function(a,"ParseLevelSnapshotsTokensInText",{InTextToParse:o,InWorldName:u});case 21:return p=e.sent,e.next=24,W.proxy.function(a,"ParseLevelSnapshotsTokensInText",{InTextToParse:s,InWorldName:u});case 24:v=e.sent,this.setState({path:p.ReturnValue,name:v.ReturnValue}),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(0);case 30:this.setState({loading:!1});case 31:case"end":return e.stop()}}),e,this,[[0,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.path,r=t.description,o=t.loading;return s.a.createElement("div",{className:"fullscreen",onClick:this.onCancel,onKeyPress:this.onKeyPress,tabIndex:-1},s.a.createElement("div",{className:"save-asset-modal",onClick:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"save-row"},"TAKE SNAPSHOT",s.a.createElement(ie.a,{icon:["fas","times"],onClick:this.onCancel})),s.a.createElement("div",{className:"item-row"},s.a.createElement("div",{className:"item-title"},"Name"),s.a.createElement("input",{className:"item-content name-field",value:a,onChange:function(t){return e.setState({name:t.target.value})},autoFocus:!0,autoComplete:"no",readOnly:o})),s.a.createElement("div",{className:"item-row"},s.a.createElement("div",{className:"item-title"},"Description"),s.a.createElement("textarea",{className:"item-content description-field",readOnly:o,rows:5,value:r,onChange:function(t){return e.setState({description:t.target.value})}})),s.a.createElement("div",{className:"item-row"},s.a.createElement("div",{className:"item-title"},"Save Dir"),s.a.createElement("input",{className:"item-content name",value:n,onChange:function(t){return e.setState({path:t.target.value})},autoComplete:"no",readOnly:o})),s.a.createElement("button",{className:"btn snapshot-btn",disabled:!a,onClick:this.onOK},o&&s.a.createElement(ie.a,{icon:["fas","sync-alt"],className:"spin-icon",spin:!0}),"TAKE SNAPSHOT")))}}],[{key:"show",value:function(e){var t;null===(t=a.pending)||void 0===t||t.call(a,void 0),a.pending=void 0;var n=document.createElement("div");return document.getElementById("modal").prepend(n),new Promise((function(t){a.pending=t,d.a.render(s.a.createElement(a,{map:e,close:t}),n)})).finally((function(){d.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}))}}]),a}(s.a.Component);Object(O.a)(ct,"pending",void 0);var it,lt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{search:"",assets:[]}),Object(O.a)(Object(z.a)(e),"fetchAssets",Object(f.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.search,t.next=3,W.assets.search(a,["LevelSequence"],"/Game",200);case 3:n=t.sent,e.setState({assets:n});case 5:case"end":return t.stop()}}),t)})))),Object(O.a)(Object(z.a)(e),"fetchAssetsDebounced",D.a.debounce(e.fetchAssets,200)),Object(O.a)(Object(z.a)(e),"onSearchChange",(function(t){e.setState({search:t}),e.fetchAssetsDebounced()})),Object(O.a)(Object(z.a)(e),"renderSequence",(function(t,a){var n=W.assets.thumbnailUrl(t.Path);return s.a.createElement("tr",{key:a,className:"col col-".concat(a+1)},s.a.createElement("td",null,s.a.createElement("div",{className:"name-block"},s.a.createElement(fe,{src:n,fallback:"/images/assets/Sequencer.png",alt:t.Name,className:"box"}),s.a.createElement("p",null,t.Name))),s.a.createElement("td",null,s.a.createElement("p",null,t.Path)),s.a.createElement("td",null,s.a.createElement("div",{className:"play-icon",onClick:function(){return e.playSequence(t)}},s.a.createElement(ie.a,{icon:["fas","play"]}))))})),Object(O.a)(Object(z.a)(e),"playSequence",function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/Script/LevelSequenceEditor.Default__LevelSequenceEditorBlueprintLibrary","/Script/EditorScriptingUtilities.Default__EditorAssetLibrary",e.prev=2,e.next=5,W.proxy.put("/remote/object/call",{objectPath:"/Script/EditorScriptingUtilities.Default__EditorAssetLibrary",functionName:"LoadAsset",parameters:{AssetPath:t.Path}});case 5:return e.next=7,W.proxy.put("/remote/object/call",{objectPath:a,functionName:"OpenLevelSequence",parameters:{LevelSequence:t.Path}});case 7:return e.next=9,W.proxy.put("/remote/object/call",{objectPath:a,functionName:"Pause"});case 9:return e.next=11,W.proxy.put("/remote/object/call",{objectPath:a,functionName:"SetCurrentTime",parameters:{NewFrame:0}});case 11:return e.next=13,W.proxy.put("/remote/object/call",{objectPath:a,functionName:"Play"});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("Failed to play sequence",t);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){this.fetchAssets()}},{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&this.fetchAssets()}},{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.assets;return s.a.createElement("div",{className:"snapshot-wrapper sequencer-wrapper",tabIndex:-1},s.a.createElement("div",{className:"list-wrapper"},s.a.createElement("div",{className:"search-block"},s.a.createElement("div",{className:"search-field"},s.a.createElement(ie.a,{icon:["fas","search"]}),s.a.createElement("input",{type:"text",value:a,onChange:function(t){return e.onSearchChange(t.target.value)},autoComplete:"no"}))),s.a.createElement("div",{className:"table-wrapper"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"col col-2"},"Name"),s.a.createElement("th",{className:"col col-3"},"Folder"),s.a.createElement("th",{className:"col col-4"}))),s.a.createElement("tbody",null,n.map(this.renderSequence))))))}}]),a}(s.a.Component),st=Object(p.b)((function(e){return{payload:e.api.payload}}))(it=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.screen,a=e.payload,n=e.visible;if(!t)return null;var r={payload:a,visible:n,data:t.data};switch(t.type){case i.Snapshot:return s.a.createElement(rt,r);case i.Sequencer:return s.a.createElement(lt,r)}return null}}]),a}(s.a.Component))||it,ut=a(168),dt=a.n(ut),pt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"state",{passphrase:"",error:!1}),Object(O.a)(Object(z.a)(e),"onChange",(function(t){e.setState({passphrase:t})})),Object(O.a)(Object(z.a)(e),"onKeyPress",function(){var t=Object(f.a)(h.a.mark((function t(a){var n,r,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"===a.key){t.next=2;break}return t.abrupt("return");case 2:return n=e.state.passphrase,r=dt.a.createHash("md5").update(n).digest("hex"),t.next=6,W.passphrase.login(r);case 6:o=t.sent,e.setState({error:o});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"fullscreen login-screen"},s.a.createElement("div",{className:"icon-wrapper"},s.a.createElement("div",{className:"app-icon"},s.a.createElement(ee,{className:"logo"})),s.a.createElement("div",null,"Implicit Bias - Trainer Interface")),s.a.createElement("div",{className:"form"},"Password",s.a.createElement("input",{onChange:function(t){return e.onChange(t.target.value)},onKeyPress:this.onKeyPress,type:"password"}),this.state.error&&s.a.createElement("label",{className:"login-status"},"Incorrect Password")))}}]),a}(s.a.Component),vt=a(63),mt=a.n(vt),bt={audioTrack:void 0};var gt=function(e){var t=Object(l.useRef)(null);return Object(l.useEffect)((function(){var a;if(t.current)return null===(a=e.videoTrack)||void 0===a||a.play(t.current),function(){var t;null===(t=e.videoTrack)||void 0===t||t.stop()}}),[t,e.videoTrack]),Object(l.useEffect)((function(){var t;e.audioTrack&&(null===(t=e.audioTrack)||void 0===t||t.play());return function(){var t;null===(t=e.audioTrack)||void 0===t||t.stop()}}),[e.audioTrack]),s.a.createElement("div",{ref:t,className:"video-player",style:{width:"320px",height:"240px"}})},ht=(a(330),mt.a.createClient({codec:"h264",mode:"rtc"}));function ft(e){var t="",a=[];return window.location.search.substr(1).split("&").forEach((function(n){(a=n.split("="))[0]===e&&(t=decodeURIComponent(a[1]))})),t}var Ot,jt=function(e){var t=function(e){var t=Object(l.useState)(void 0),a=Object(H.a)(t,2),n=a[0],r=a[1],o=Object(l.useState)(!1),c=Object(H.a)(o,2),i=c[0],s=c[1],u=Object(l.useState)(!1),d=Object(H.a)(u,2),p=d[0],v=d[1],m=Object(l.useState)(!1),b=Object(H.a)(m,2),g=b[0],O=(b[1],Object(l.useState)([])),j=Object(H.a)(O,2),y=j[0],E=j[1],C={appid:null,channel:null,uid:null,token:null};function w(){return(w=Object(f.a)(h.a.mark((function t(a,n,o,c){var l,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!i&&!p){t.next=2;break}return t.abrupt("return");case 2:return v(!0),t.next=5,Promise.all([e.join(a,n,o,c),mt.a.createMicrophoneAudioTrack()]);case 5:return l=t.sent,u=Object(H.a)(l,2),C.uid=u[0],bt.audioTrack=u[1],r(bt.audioTrack),t.next=12,e.publish(Object.values(bt));case 12:window.client=e,s(!0),v(!1);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n&&(n.stop(),n.close()),E([]),s(!1),t.next=5,null===e||void 0===e?void 0:e.leave();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){if(e){E(e.remoteUsers);var t=function(){var t=Object(f.a)(h.a.mark((function t(a,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.subscribe(a,n);case 2:E((function(t){return Array.from(e.remoteUsers)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),a=function(t){E((function(t){return Array.from(e.remoteUsers)}))},n=function(t){E((function(t){return Array.from(e.remoteUsers)}))},r=function(t){E((function(t){return Array.from(e.remoteUsers)}))};return e.on("user-published",t),e.on("user-unpublished",a),e.on("user-joined",n),e.on("user-left",r),function(){e.off("user-published",t),e.off("user-unpublished",a),e.off("user-joined",n),e.off("user-left",r)}}}),[e]),{localAudioTrack:n,joinState:i,joinInProgress:p,aiDenoiserState:g,leave:function(){return k.apply(this,arguments)},join:function(e,t,a,n){return w.apply(this,arguments)},controler:function(e){return N.apply(this,arguments)},remoteUsers:y}}(ht),a=(t.localAudioTrack,t.joinState),n=(t.joinInProgress,t.aiDenoiserState,t.leave),r=t.join,o=(t.controler,t.remoteUsers);return s.a.createElement("div",{className:"call"},s.a.createElement("form",{className:"call-form"},s.a.createElement("div",{className:"button-group"},s.a.createElement("button",{id:"Audio Channel",type:"button",className:"btn btn-primary btn-sm voice-button",style:{display:a?"none":"inline"},onClick:Object(f.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=ft("code"),r("7e6df1173bb44ad3bedd070112748cf6",""!==a?a:"test",null,parseInt(e.userID));case 4:case"end":return t.stop()}}),t)})))},"Join Voice Channel"),s.a.createElement("button",{id:"leave",type:"button",className:"btn btn-primary btn-sm voice-button",style:{display:a?"inline":"none",color:"#5abaf9"},onClick:function(){n()}},"Leave Voice Channel"))),s.a.createElement("div",{className:"player-container",style:{display:"none"}},s.a.createElement("div",{className:"local-player-wrapper"}),o.map((function(e){return s.a.createElement("div",{className:"remote-player-wrapper",key:e.uid},s.a.createElement("p",{className:"remote-player-text"},"remoteVideo(".concat(e.uid,")")),s.a.createElement(gt,{videoTrack:void 0,audioTrack:e.audioTrack}))}))))},yt=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(O.a)(Object(z.a)(e),"ref",s.a.createRef()),Object(O.a)(Object(z.a)(e),"state",{allTabsVisible:!0}),Object(O.a)(Object(z.a)(e),"setRef",(function(t,a){e.ref={current:a},t(a)})),Object(O.a)(Object(z.a)(e),"getStyle",(function(e,t){var a,n=e.transform;return n=(null===(a=n)||void 0===a?void 0:a.replace(/(, (-|)[0-9]+)/,", 0"))||"",Object(b.a)(Object(b.a)({},e),{},{transform:n})})),Object(O.a)(Object(z.a)(e),"onResize",(function(){var t,a=null===(t=e.ref)||void 0===t?void 0:t.current;if(a){var n,r=a.children,o=0,c=Object(G.a)(r);try{for(c.s();!(n=c.n()).done;){o+=n.value.clientWidth}}catch(i){c.e(i)}finally{c.f()}e.setState({allTabsVisible:o<a.clientWidth}),e.onTabChange(e.props.selected)}})),Object(O.a)(Object(z.a)(e),"onTabChange",(function(t){var a,n,r,o,c=e.ref.current;if(!(t<0||t>=(null===(a=e.props.tabs)||void 0===a?void 0:a.length))&&c){e.props.selected!==t&&(null===(n=(r=e.props).onChange)||void 0===n||n.call(r,t));for(var i=c.children,l=c.scrollLeft,s=c.clientWidth,u=0,d=0;d<t;d++){var p,v;u+=null!==(p=null===(v=i[d])||void 0===v?void 0:v.clientWidth)&&void 0!==p?p:0}var m=u+(null===(o=i[t])||void 0===o?void 0:o.clientWidth),b=l<=u;m<=l+s||c.scrollTo(m-s,0),b||c.scrollTo(u,0)}})),Object(O.a)(Object(z.a)(e),"renderTab",(function(t,a){var n=e.props,r=n.editable,o=n.selected,c="tab-".concat(a);return s.a.createElement(Ye.b,{key:c,draggableId:c,index:a,isDragDisabled:!r},(function(n,c){return s.a.createElement("div",Object.assign({className:"tab ".concat(a===o&&"selected"),ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:Object(b.a)({},e.getStyle(n.draggableProps.style,c)),onPointerDown:function(){return e.onTabChange(a)},tabIndex:-1}),s.a.createElement("div",{className:"icon"},!!t.icon&&s.a.createElement(ie.a,{icon:["fas",t.icon]})),s.a.createElement("div",{className:"label"},t.name),r&&o===a&&s.a.createElement("div",{className:"delete-tab",onClick:e.props.onDeleteTab.bind(Object(z.a)(e),a)},s.a.createElement(ie.a,{icon:["fas","times"]})))}))})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){e.tabs===this.props.tabs&&e.selected===this.props.selected&&e.editable===this.props.editable||this.onResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this,t=this.props,a=t.tabs,n=t.selected,r=t.editable,o=t.preset,c=this.state.allTabsVisible,i="arrow left ";(0===n||c)&&(i+="disabled");var l="arrow right ";return(n===(null===a||void 0===a?void 0:a.length)-1||c)&&(l+="disabled "),s.a.createElement("div",{className:"tabs-wrapper"},s.a.createElement("div",{className:"tabs-wrapper-inner"},s.a.createElement(Ye.c,{droppableId:"header-tabs",direction:"horizontal",type:"HEADER_TABS",isDropDisabled:!r},(function(t){return s.a.createElement("div",Object.assign({ref:e.setRef.bind(e,t.innerRef),className:"tabs-drop-list"},t.droppableProps),null===a||void 0===a?void 0:a.map(e.renderTab))}))),s.a.createElement("div",{style:{flex:1}}),s.a.createElement(jt,{userID:this.props.agoraUserID}),s.a.createElement("div",{className:"tab-navigation",style:{display:"none"}},!!r&&s.a.createElement("div",{className:"tab new-tab",onClick:function(){return e.props.onNewTab()}},s.a.createElement(ie.a,{icon:["fas","plus"]})),s.a.createElement("div",{className:i,onClick:function(){return e.onTabChange(n-1)}},s.a.createElement(ie.a,{icon:["fas","caret-left"]})),s.a.createElement("div",{className:l,onClick:function(){return e.onTabChange(n+1)}},s.a.createElement(ie.a,{icon:["fas","caret-right"]})),s.a.createElement("div",{className:"preset-name"},null===o||void 0===o?void 0:o.Name)))}}]),a}(s.a.Component);function Et(){var e=Math.ceil(1),t=Math.floor(1e4);return Math.floor(Math.random()*(t-e)+e).toString()}var Ct=Object(p.b)((function(e){return{connected:e.api.status.connected,keyCorrect:e.api.status.keyCorrect,loading:e.api.status.loading,isOpen:e.api.status.isOpen,presets:D.a.values(e.api.presets),preset:e.api.presets[e.api.preset],view:e.api.view}}),(function(e){return{initialize:function(){var t=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(W.initialize()));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}))(Ot=function(e){Object(X.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),Object(O.a)(Object(z.a)(e),"state",{tab:0,panel:0}),Object(O.a)(Object(z.a)(e),"agoraID",Et()),Object(O.a)(Object(z.a)(e),"appRef",s.a.createRef()),Object(O.a)(Object(z.a)(e),"panelRef",s.a.createRef()),Object(O.a)(Object(z.a)(e),"widget",null),Object(O.a)(Object(z.a)(e),"dropElements",{}),Object(O.a)(Object(z.a)(e),"dropBoundaries",[]),Object(O.a)(Object(z.a)(e),"hoverDelay",null),Object(O.a)(Object(z.a)(e),"buildInfo",""),Object(O.a)(Object(z.a)(e),"getBuildInfo",Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/version.json");case 3:return t=e.sent,e.next=6,t.text();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))),Object(O.a)(Object(z.a)(e),"onDropElementAdd",(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return e.dropElements[t]={id:t,path:a,accept:n,type:r},t})),Object(O.a)(Object(z.a)(e),"onPointerMove",(function(t){var a,n=e.state,r=n.dragging,o=n.droppable;if(r){var c=document.elementsFromPoint(t.clientX,t.clientY),i=c.find((function(e){return!!(null===e||void 0===e?void 0:e.getAttribute("data-prefix"))}));if(i){var l=i.getAttribute("data-prefix"),s=i.getAttribute("data-value");return clearTimeout(e.hoverDelay),e.hoverDelay=setTimeout((function(){return e.setState({hoverTab:"".concat(l,"_").concat(s)})}),300)}clearTimeout(e.hoverDelay);var u=c.find((function(e){return!!(null===e||void 0===e?void 0:e.getAttribute("data-rbd-droppable-id"))})),d=null===u||void 0===u?void 0:u.getAttribute("data-rbd-droppable-id");if(d&&o!==d){var p=(null===(a=e.dropElements[d])||void 0===a?void 0:a.accept)||[],v=D.a.last(r.split("_"));(p.includes(v)||"ALL"===D.a.first(p))&&e.setState({droppable:d})}}})),Object(O.a)(Object(z.a)(e),"onKeyDown",function(){var t=Object(f.a)(h.a.mark((function t(a){var n,r,o,c,i,l,s,u,d,p,v,m,b,g,f,O,j;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.ctrlKey||a.metaKey||"Delete"===a.key){t.next=2;break}return t.abrupt("return");case 2:if(n=e.state,r=n.tab,o=n.selected,c=n.editable,"Delete"!==a.key){t.next=20;break}if(c&&o&&!(a.target instanceof HTMLInputElement)){t.next=6;break}return t.abrupt("return");case 6:if(u=e.props.view,d=null===(i=u.tabs)||void 0===i?void 0:i[e.state.tab],p=null===o||void 0===o?void 0:o.split("_"),v=Object(H.a)(p,2),m=v[0],b=v[1],(g=D.a.get(d.panels,m,d.panels)).length){t.next=12;break}return t.abrupt("return");case 12:if(a.shiftKey){t.next=17;break}return t.next=15,Ae.show("Are you sure you want to delete ?");case 15:if(t.sent){t.next=17;break}return t.abrupt("return");case 17:return g.splice(+b,1),W.views.set(u),t.abrupt("return",null===(l=e.appRef)||void 0===l||null===(s=l.current)||void 0===s?void 0:s.focus());case 20:if(f=parseInt(a.key),isNaN(f)){t.next=27;break}return j=e.props.view,f=f||(null===(O=j.tabs)||void 0===O?void 0:O.length)||1,e.onTabChange(f-1),a.preventDefault(),t.abrupt("return");case 27:t.t0=a.nativeEvent.code,t.next="KeyE"===t.t0?30:"ArrowLeft"===t.t0?33:"ArrowRight"===t.t0?35:37;break;case 30:return a.preventDefault(),e.setState({editable:!e.state.editable}),t.abrupt("break",37);case 33:return e.onTabChange(r-1),t.abrupt("break",37);case 35:return e.onTabChange(r+1),t.abrupt("break",37);case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"isEditable",(function(t){var a,n,r=e.props.view;if(!(null===(a=r.tabs)||void 0===a?void 0:a.length))return!1;var o=null!==(n=r.tabs[t])&&void 0!==n?n:{},i=o.layout,l=o.panels;switch(i){case c.Stack:return!(null===l||void 0===l?void 0:l.length);case c.Screen:return!1}return!1})),Object(O.a)(Object(z.a)(e),"onTabChange",(function(t){var a,n=e.props.view;t=Math.min(Math.max(0,t),(null===(a=n.tabs)||void 0===a?void 0:a.length)-1)||0;var r=e.isEditable(t)||e.state.editable;e.setState({tab:t,vector:null,editable:r})})),Object(O.a)(Object(z.a)(e),"getNewTabName",(function(){var t,a,n,r=0,o=Object(G.a)(null!==(t=null===(a=e.props.view)||void 0===a?void 0:a.tabs)&&void 0!==t?t:[]);try{for(o.s();!(n=o.n()).done;){var c=n.value,i=/^Tab (\d+)$/i.exec(c.name),l=parseInt(null===i||void 0===i?void 0:i[1]);!isNaN(l)&&l>r&&(r=l)}}catch(s){o.e(s)}finally{o.f()}return"Tab ".concat(r+1)})),Object(O.a)(Object(z.a)(e),"getRandomIcon",(function(){var e=Object.keys(Re.a).map((function(e){return Re.a[e].iconName}));return e[Math.round(1e4*performance.now())%e.length]})),Object(O.a)(Object(z.a)(e),"onNewTab",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=e.props.view;e.createNewTabInternal(t),W.views.set(a),e.onTabChange(a.tabs.length-1),e.setState({editable:!0})})),Object(O.a)(Object(z.a)(e),"onNewTabs",(function(t){var a,n=e.props.view,r=Object(G.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.createNewTabInternal(o.panels,o.label)}}catch(c){r.e(c)}finally{r.f()}W.views.set(n),e.onTabChange(n.tabs.length-1),e.setState({editable:!0})})),Object(O.a)(Object(z.a)(e),"createNewTabInternal",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=e.props.view;n.tabs.push({name:null!==a&&void 0!==a?a:e.getNewTabName(),icon:e.getRandomIcon(),layout:c.Stack,panels:t})})),Object(O.a)(Object(z.a)(e),"onDuplicateTab",(function(){var t=e.props.view,a=e.state.tab,n=Object(b.a)(Object(b.a)({},t.tabs[a]),{},{name:e.getNewTabName()});t.tabs.push(n),W.views.set(t),e.onTabChange(t.tabs.length-1),e.setState({editable:!0})})),Object(O.a)(Object(z.a)(e),"onAddSnapshotTab",(function(){var t=e.props.view;t.tabs.push({name:"Snapshot",icon:"save",layout:c.Screen,screen:{type:i.Snapshot}}),W.views.set(t),e.onTabChange(t.tabs.length-1)})),Object(O.a)(Object(z.a)(e),"onAddSequencerTab",(function(){var t=e.props.view;t.tabs.push({name:"Sequences",icon:"play",layout:c.Screen,screen:{type:i.Sequencer}}),W.views.set(t),e.onTabChange(t.tabs.length-1)})),Object(O.a)(Object(z.a)(e),"onSetTabsDrawer",(function(t){e.setState({editable:t})})),Object(O.a)(Object(z.a)(e),"onPresetChanged",(function(t){var a;t.ID!==(null===(a=e.props.preset)||void 0===a?void 0:a.ID)&&W.presets.select(t)})),Object(O.a)(Object(z.a)(e),"onTabRename",Object(f.a)(h.a.mark((function t(){var a,n,r,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.view,n=e.state.tab,r=a.tabs[n].name,t.next=5,We.rename(r,"Tab title");case 5:if((o=t.sent)&&o!==r){t.next=8;break}return t.abrupt("return");case 8:a.tabs[n].name=o,W.views.set(a);case 10:case"end":return t.stop()}}),t)})))),Object(O.a)(Object(z.a)(e),"onTabDelete",function(){var t=Object(f.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.show("Are you sure you want to delete this tab?");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:if(n=e.props.view,!(a<0||a>=n.tabs.length)){t.next=7;break}return t.abrupt("return");case 7:n.tabs.splice(a,1),W.views.set(n),a=Math.min(a,n.tabs.length-1),e.setState({tab:a});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"onTabIconChange",Object(f.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.view,n=a.tabs[e.state.tab]){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Ve.show(n.icon);case 6:(r=t.sent)&&(n.icon=r,W.views.set(a));case 8:case"end":return t.stop()}}),t)})))),Object(O.a)(Object(z.a)(e),"setVectorDrawer",(function(t){var a,n=null;(null===t||void 0===t||null===(a=t.widgets)||void 0===a?void 0:a.length)&&(n=t),e.setState({vector:n})})),Object(O.a)(Object(z.a)(e),"resetDragState",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.widget=null,e.setState(Object(b.a)({dragging:null,droppable:null,selected:null},t))})),Object(O.a)(Object(z.a)(e),"onBeforeCapture",(function(t){var a=e.state.selected;t.draggableId.startsWith("REORDER")||(a=null),e.setState({dragging:t.draggableId,selected:a})})),Object(O.a)(Object(z.a)(e),"onDragEnd",(function(t){var a,n,c,i=t.destination,l=t.source,s=t.draggableId;if(!i)return e.resetDragState();var u=e.props.view;if("HEADER_TABS"===t.type){var d=u.tabs[l.index];return u.tabs.splice(l.index,1),u.tabs.splice(i.index,0,d),W.views.set(u),e.onTabChange(i.index),e.resetDragState()}var p=null===(a=u.tabs)||void 0===a?void 0:a[e.state.tab],v=e.dropElements[i.droppableId];if(["TABS-REORDER","LIST-REORDER"].includes(t.type)){var m=D.a.get(null===p||void 0===p?void 0:p.panels,v.path,null===p||void 0===p?void 0:p.panels);"TABS-REORDER"===t.type&&(m=m.tabs),"LIST-REORDER"===t.type&&(m=m.items);var b=m[l.index];return m.splice(l.index,1),m.splice(i.index,0,b),W.views.set(u)}if(!v)return e.resetDragState();var g=null===(n=e.dropElements[l.droppableId])||void 0===n?void 0:n.path,h=null===v||void 0===v?void 0:v.path,f=D.a.last(s.split("_")),O=l.index;p.panels||(p.panels=[]);var j,y=Object(B.a)(p.panels),E=D.a.get(null===p||void 0===p?void 0:p.panels,h,null===p||void 0===p?void 0:p.panels);(null===(c=e.widget)||void 0===c?void 0:c.length)||(e.widget=D.a.get(null===p||void 0===p?void 0:p.panels,g,null===p||void 0===p?void 0:p.panels).splice(O,1),h===g&&[r.Button,r.ColorPicker,r.MiniColorPicker,r.Toggle].includes(null===(j=e.widget[0])||void 0===j?void 0:j.widget)&&i.droppableId!==l.droppableId&&l.index<i.index&&(i.index-=1));var C=Object(B.a)(e.widget);switch(f){case"PANEL":break;case"LIST":C=[{type:o.List,items:[{label:"Item 1",panels:y}]}],E.splice(0,E.length);break;default:["ROOT","LIST"].includes(v.type)&&(C=[{type:o.Panel,widgets:C}])}E.splice.apply(E,[i.index,0].concat(Object(B.a)(C))),e.resetDragState({selected:"".concat(h,"_").concat(i.index,"_").concat(D.a.first(C).property||null)}),W.views.set(u)})),Object(O.a)(Object(z.a)(e),"onSelected",(function(t){e.state.editable&&e.setState({selected:t})})),Object(O.a)(Object(z.a)(e),"onResetSelection",(function(t){e.setState({selected:null})})),Object(O.a)(Object(z.a)(e),"renderTab",(function(){var t=e.props.view;if(!t.tabs||!t.tabs.length)return null;var a=e.state.tab,n=t.tabs[a],r=!0,o={};e.state.tab!==a&&(r=!1,o.display="none");var i=null;switch(null===n||void 0===n?void 0:n.layout){case c.Stack:i=e.renderStack(n,r,a);break;case c.Screen:i=e.renderScreen(n,r)}return s.a.createElement("section",{id:"panels",key:a,className:"layout-".concat(n.layout),style:o},i)})),Object(O.a)(Object(z.a)(e),"renderStack",(function(t,a,n){var r=e.state,o=r.editable,c=r.dragging,i=r.droppable,l=r.selected,u=r.hoverTab,d=r.vector,p="".concat(t.name,"-").concat(n);return s.a.createElement("div",{ref:e.panelRef,className:"panel",onClick:e.onResetSelection},s.a.createElement(He,{agoraUserID:e.agoraID,panels:t.panels,editable:o,visible:a,dragging:c,droppable:i,selected:l,tabKey:p,hoverTab:u,vector:d,onSelected:e.onSelected,getDroppableId:e.onDropElementAdd,onSetVectorDrawer:e.setVectorDrawer}))})),Object(O.a)(Object(z.a)(e),"renderScreen",(function(e,t){return s.a.createElement("div",{className:"panel"},s.a.createElement(st,{screen:e.screen,visible:t}))})),Object(O.a)(Object(z.a)(e),"onUpdateView",(function(t){var a=e.props.view;t&&e.setState({selected:null}),W.views.set(a)})),Object(O.a)(Object(z.a)(e),"checkPassphrase",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.passphrase.login(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(O.a)(Object(z.a)(e),"renderStatus",(function(){var t=e.props,a=t.keyCorrect,n=t.connected,r=t.loading,o=t.isOpen,c=t.preset;return n?a||o?r||!c?s.a.createElement("div",{className:"fullscreen"},s.a.createElement("div",{className:"app-icon"},s.a.createElement(ie.a,{icon:["fas","sync-alt"],spin:!0})),s.a.createElement("div",null,"Loading Preset Data...")):null:s.a.createElement(pt,null):s.a.createElement(oe,null)})),e}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.initialize(),document.onpointermove=this.onPointerMove,this.getBuildInfo().then((function(t){return e.buildInfo=t}))}},{key:"componentDidUpdate",value:function(e,t){var a,n=this.props.preset,r=this.state.editable;(null===n||void 0===n?void 0:n.Name)!==(null===(a=e.preset)||void 0===a?void 0:a.Name)&&this.setState({tab:0}),r!==t.editable&&this.setState({selected:null})}},{key:"componentWillUnmount",value:function(){document.onpointermove=null}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.view,r=a.preset,o=a.presets,c=this.state,i=c.tab,l=c.editable,u=c.selected;return s.a.createElement(Ye.a,{onBeforeCapture:this.onBeforeCapture,onDragEnd:this.onDragEnd},s.a.createElement("div",{id:"app",className:"".concat(l?"tabs-open":""," "),tabIndex:1,ref:this.appRef,onKeyDown:this.onKeyDown},this.renderStatus(),s.a.createElement("nav",{id:"top-bar"},s.a.createElement("div",{className:"app-icon"},s.a.createElement("img",{src:"/images/favicon/32x32.png",alt:"Unreal Engine"})),s.a.createElement("div",{id:"mode-toggle",className:"tab edit-tab mode-toggle"},s.a.createElement("label",{className:"switch toggle-mode"},s.a.createElement("input",{type:"checkbox",checked:!!l,onChange:function(){return t.onSetTabsDrawer(!l)}}),s.a.createElement("span",{className:"slider inline"}))),s.a.createElement(yt,{preset:r,agoraUserID:this.agoraID,tabs:n.tabs,selected:i,onChange:this.onTabChange,onNewTab:this.onNewTab,editable:l,onDeleteTab:this.onTabDelete})),!!r&&s.a.createElement(nt,{agoraUserID:"",preset:r,presets:o,editable:l,tab:i,view:n,panels:(null===(e=n.tabs[i])||void 0===e?void 0:e.panels)||[],selected:u,onChangeIcon:this.onTabIconChange,onRenameTabModal:this.onTabRename,onDuplicateTab:this.onDuplicateTab,onAddSnapshotTab:this.onAddSnapshotTab,onAddSequencerTab:this.onAddSequencerTab,onPresetChange:this.onPresetChanged,onUpdateView:this.onUpdateView,onSelected:this.onSelected,onNewTabs:this.onNewTabs,lockWidget:function(e){return t.widget=e}}),this.renderTab()))}}]),a}(s.a.Component))||Ot;a(331);a(54).b.add(Re.a);var wt=Object(v.e)(F,Object(v.a)(m.a));d.a.render(s.a.createElement(p.a,{store:wt},s.a.createElement(Ct,null)),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.b709643c.chunk.js.map